<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cross-Cutting Concernsู</title>
  <meta name="description" content="ุชุฑุฌููโูุง ูุงุฑุณ ฺฉุชุงุจโูุง ูู โ ุณุฑุนุ ูููุงู ู ูุงุจู ุงุชฺฉุง.">
  <link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
<style>
@font-face {
  font-family: 'Vazir';
  src: url('/fonts/Vazir-FD-WOL.ttf') format('truetype');
  font-display: swap;
}
body {
  font-family: 'Vazir', sans-serif;
}
</style>

</head>
<body>
  <!-- ูุฏุฑ ูุดุชุฑฺฉ -->
 <header class="header">
  <div class="container nav-wrap">
    <a href="/" class="brand">
      <img src="/icone/logo.svg" alt="Gitab logo" width="26" height="26">
      <span>Gitab</span>
    </a>

    <nav class="nav">
      <a href="/" aria-current="page">ุฎุงูู</a>
      <a href="/books/list-books">ฺฉุชุงุจโูุง</a>
      <a href="#">ูุชุฑุฌูู</a>
      <a href="#">ููฺฉุงุฑ</a>
      <a href="#">ุฏุฑุจุงุฑู ูุง</a>
    </nav>

    <div class="nav-actions">
     <button id="themeToggle" class="icon-btn theme-btn" data-icon="moon" aria-label="ุชุบุฑ ุชู">
        <img src="/icone/sun.svg" class="icon-sun" alt="ุฑูุดู">
        <img src="/icone/moon.svg" class="icon-moon" alt="ุชุงุฑฺฉ">
      </button>
  <a class="icon-btn" href="https://github.com/hheydarian/Gitab" target="_blank" title="GitHub">
    <img src="/icone/github.svg" alt="GitHub">
  </a>
      <!-- ุฏฺฉูู ููู ุจุฑุง ููุจุงู -->
      <button class="menu-toggle" aria-label=" ููู">
        <img src="/icone/menu.svg" alt="menu">
      </button>
    </div>
  </div> 
  

</header>

 

<main class="site-main book-page ">
  <h1>ูุตู ุงุฒุฏูู:๐ฏ <strong>ูพุฑุฏุงุฎุชู ุจู ูุณุงุฆู ูุฑุงฺฏุฑ (Cross-Cutting Concerns)</strong></h1>
<p>ููุช ฺฉู ูโุฎูุงูุฏ <strong>ฺฉุฏ ุชูุฒ (Clean Code)</strong> ุจููุณุฏุ ุฏู ููุน <strong>ูุณุฆูู (Concern)</strong> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจุงุฏ ุจู ุขูโูุง ุชูุฌู ฺฉูุฏ:</p>
<ol>
<li><strong>ูุณุงุฆู ุงุตู (Core Concerns):</strong> ุฏูุงู ุงุฌุงุฏ ูุฑูโุงูุฒุงุฑ ู ุนูุช ุชูุณุนู ุขู ูุณุชูุฏ.</li>
<li><strong>ูุณุงุฆู ูุฑุงฺฏุฑ (Cross-Cutting Concerns):</strong> ูุณุงุฆู ฺฉู ุจุฎุด ุงุฒ ูุงุฒููุฏโูุง ฺฉุณุจโูฺฉุงุฑ ูุณุชูุฏ ุงูุง ุฏุฑ ุชูุงู ุจุฎุดโูุง ฺฉุฏ ุจุงุฏ ุจู ุขูโูุง ุชูุฌู ุดูุฏ ู ุจุง ูุณุงุฆู ุงุตู ุฏุฑ ุงุฑุชุจุงุท ูุณุชูุฏ.</li>
</ol>
<p>ุงู ููุถูุน ุฑุง ูโุชูุงู ุจู ุดฺฉู ุฒุฑ ุฏุฑ ูููุฏุงุฑ ูุดุงู ุฏุงุฏ: ๐</p>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-1.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุงู ูุตู ุจุฑ <strong>ูุณุงุฆู ูุฑุงฺฏุฑ (Cross-Cutting Concerns)</strong> ุชูุฑฺฉุฒ ุฏุงุฑุฏ ู ูุฏู ูุง ุณุงุฎุช ฺฉ <strong>ฺฉุชุงุจุฎุงูู ฺฉูุงุณ ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ (Reusable Class Library)</strong> ุงุณุช ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ุจู ุฏูุฎูุงู ุฎูุฏ ุชุบุฑ ุฏูุฏ ุง ฺฏุณุชุฑุด ุฏูุฏ.</p>
<p><strong>ูุณุงุฆู ูุฑุงฺฏุฑ</strong> ุดุงูู ููุงุฑุฏ ุฒุฑ ูุณุชูุฏ:</p>
<ul>
<li>ูุฏุฑุช ูพฺฉุฑุจูุฏ (Configuration Management) โ๏ธ</li>
<li>ุซุจุช ููุงุน (Logging) ๐</li>
<li>ุญุณุงุจุฑุณ (Auditing) ๐</li>
<li>ุงููุช (Security) ๐</li>
<li>ุงุนุชุจุงุฑุณูุฌ (Validation) โ๏ธ</li>
<li>ูุฏุฑุช ุงุณุชุซูุงูุง (Exception Handling) โ๏ธ</li>
<li>ุงุจุฒุงุฑุณูุฌ (Instrumentation) ๐๏ธ</li>
<li>ุชุฑุงฺฉูุดโูุง (Transactions) ๐ณ</li>
<li>ุงุณุชูุงุฏู ุจููู ุงุฒ ููุงุจุน (Resource Pooling) ๐๏ธ</li>
<li>ฺฉุดูฺฏ (Caching) ๐๏ธ</li>
<li>ฺูุฏูุฎ ู ููุฒูุงู (Threading and Concurrency) ๐งต</li>
</ul>
<p>ุจุฑุง ุณุงุฎุช <strong>ฺฉุชุงุจุฎุงูู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ</strong>ุ ุงุฒ <strong>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ (Decorator Pattern)</strong> ู <strong>ฺุงุฑฺูุจ PostSharp Aspect</strong> ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ฺฉู ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุจู ูพุฑูฺู ุชุฒุฑู ูโุดูุฏ.</p>
<p>ููฺูู ุจุง ูุทุงูุนู ุงู ูุตู ุฎูุงูุฏ ุฏุฏ ฺฉู <strong>ุจุฑูุงููโููุณ ูุจุชู ุจุฑ Attribute</strong> ฺฺฏููู ุจุงุนุซ ูโุดูุฏ:</p>
<ul>
<li>ุญุฌู ฺฉุฏูุง ุชฺฉุฑุงุฑ (Boilerplate Code) ฺฉุงูุด ุงุจุฏุ</li>
<li>ฺฉุฏ ฺฉูุชุงูโุชุฑุ ุฎูุงูุงุชุฑ ู ุฑุงุญุชโุชุฑ ุจุฑุง ูฺฏูุฏุงุฑ ู ุชูุณุนู ุจุงุดุฏ.</li>
</ul>
<p>ุฏุฑ ูุชุฌูุ ุชููุง <strong>ฺฉุฏูุง ุถุฑูุฑ ฺฉุณุจโูฺฉุงุฑ</strong> ุฏุฑ ูุชุฏูุง ุดูุง ุจุงู ูโูุงูุฏ ู ฺฉุฏูุง ุชฺฉุฑุงุฑ ูุฏุฑุช ูโุดููุฏ.</p>
<p>ุจุณุงุฑ ุงุฒ ุงู ุงุฏูโูุง ุฑุง ูุจูุงู ูู ูุทุฑุญ ฺฉุฑุฏูโุงูุ ุงูุง ุฏูุจุงุฑู ุฐฺฉุฑ ูโฺฉูู ุฒุฑุง <strong>ูุณุงุฆู ูุฑุงฺฏุฑ</strong> ูุณุชูุฏ.</p>
<p>ุฏุฑ ุงู ูุตูุ ููุถูุนุงุช ุฒุฑ ุฑุง ูพูุดุด ูโุฏูู:</p>
<ol>
<li>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ (Decorator Pattern) ๐ท๏ธ</li>
<li>ุงูฺฏู ูพุฑุงฺฉุณ (Proxy Pattern) ๐ก๏ธ</li>
<li>ุจุฑูุงููโููุณ ูุจุชู ุจุฑ ุฌูุจู (Aspect-Oriented Programming โ AOP) ุจุง PostSharp โ๏ธ</li>
<li>ูพุฑูฺู โ ฺฉุชุงุจุฎุงูู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุจุฑุง ูุณุงุฆู ูุฑุงฺฏุฑ</li>
</ol>
<p><strong>ุฏุฑ ูพุงุงู ุงู ูุตูุ ุดูุง ุชูุงูุงโูุง ุฒุฑ ุฑุง ฺฉุณุจ ุฎูุงูุฏ ฺฉุฑุฏ:</strong></p>
<ul>
<li>ูพุงุฏูโุณุงุฒ ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ.</li>
<li>ูพุงุฏูโุณุงุฒ ุงูฺฏู ูพุฑุงฺฉุณ.</li>
<li>ุงุนูุงู AOP ุจุง ุงุณุชูุงุฏู ุงุฒ PostSharp.</li>
<li>ุณุงุฎุช ฺฉุชุงุจุฎุงูู AOP ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ฺฉู ูุณุงุฆู ูุฑุงฺฏุฑ ุดูุง ุฑุง ูุฏุฑุช ฺฉูุฏ.</li>
</ul>
<p><strong>ูพุดโูุงุฒูุง ูู:</strong><br>
ุจุฑุง ุจูุฑูโุจุฑุฏุงุฑ ฺฉุงูู ุงุฒ ุงู ูุตูุ ุจู <strong>Visual Studio 2019</strong> ู <strong>PostSharp</strong> ูุงุฒ ุฏุงุฑุฏ.<br>
ุจุฑุง ุฏุฑุงูุช ูุงูโูุง ฺฉุฏ ุงู ูุตูุ ุจู ููฺฉ ุฒุฑ ูุฑุงุฌุนู ฺฉูุฏ:<br>
<a href="https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH11">https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH11</a></p>
<p>ุจุงุฏ ุจุง <strong>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ</strong> ุดุฑูุน ฺฉูู:</p>
<hr>
<h3>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ (Decorator Pattern) ๐ท๏ธ</h3>
<p>ุงูฺฏู ุทุฑุงุญ ุฏฺฉูุฑุงุชูุฑ ฺฉ <strong>ุงูฺฏู ุณุงุฎุชุงุฑ (Structural Pattern)</strong> ุงุณุช ฺฉู ุจุฑุง <strong>ุงูุฒูุฏู ูุงุจูุชโูุง ุฌุฏุฏ ุจู ฺฉ ุดุก ููุฌูุฏ ุจุฏูู ุชุบุฑ ุณุงุฎุชุงุฑ ุขู</strong> ุงุณุชูุงุฏู ูโุดูุฏ.<br>
ุฏุฑ ุงู ุงูฺฏูุ <strong>ฺฉูุงุณ ุงุตู ุฏุฑ ฺฉูุงุณ ุฏฺฉูุฑุงุชูุฑ ูุฑุงุฑ ูโฺฏุฑุฏ</strong> ู ุฑูุชุงุฑูุง ู ุนููุงุช ุฌุฏุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจู ุดุก ุงุถุงูู ูโุดููุฏ.</p>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-2.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุฑุงุจุทู <strong>Component</strong> ู ุงุนุถุง ฺฉู ุฏุงุฑุฏุ ุชูุณุท ฺฉูุงุณโูุง <strong>ConcreteComponent</strong> ู <strong>Decorator</strong> ูพุงุฏูโุณุงุฒ ูโุดูุฏ.</p>
<ul>
<li>ฺฉูุงุณ <strong>ConcreteComponent</strong> ุฑุงุจุท <strong>Component</strong> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</li>
<li>ฺฉูุงุณ <strong>Decorator</strong> ฺฉ ฺฉูุงุณ <strong>ุงูุชุฒุงุน (Abstract Class)</strong> ุงุณุช ฺฉู ุฑุงุจุท <strong>Component</strong> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ู <strong>ุงุฑุฌุงุน ุจู ฺฉ ููููู ุงุฒ Component</strong> ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</li>
<li>ฺฉูุงุณ <strong>Decorator</strong> ุจูโุนููุงู ฺฉูุงุณ ูพุงู ุจุฑุง ุฏฺฉูุฑุงุชูุฑูุง ุนูู ูโฺฉูุฏ.</li>
<li>ฺฉูุงุณ <strong>ConcreteDecorator</strong> ุงุฒ ฺฉูุงุณ <strong>Decorator</strong> ุงุฑุซโุจุฑ ูโฺฉูุฏ ู ฺฉ ุฏฺฉูุฑุงุชูุฑ ุจุฑุง Componentูุง ูุฑุงูู ูโฺฉูุฏ.</li>
</ul>
<hr>
<p>ุญุงู ฺฉ ูุซุงู ูโููุณู ฺฉู ฺฉ <strong>ุนููุงุช ุฑุง ุฏุฑ ฺฉ ุจูุงฺฉ try/catch</strong> ูุฑุงุฑ ูโุฏูุฏ.<br>
ุฏุฑ ูุฑ ุฏู ุจุฎุด <strong>try</strong> ู <strong>catch</strong>ุ ฺฉ ุฑุดุชู ุจู ฺฉูุณูู ฺุงูพ ุฎูุงูุฏ ุดุฏ.</p>
<p>1๏ธโฃ ฺฉ <strong>Console Application</strong> ุฏุฑ .NET 4.8 ุจู ูุงู <strong>CH10_AddressingCrossCuttingConcerns</strong> ุจุณุงุฒุฏ.<br>
2๏ธโฃ ฺฉ ูููุฏุฑ ุจู ูุงู <strong>DecoratorPattern</strong> ุงุถุงูู ฺฉูุฏ.<br>
3๏ธโฃ ฺฉ <strong>interface</strong> ุฌุฏุฏ ุจู ูุงู <strong>IComponent</strong> ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IComponent</span> {
   <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Operation</span>()</span>;
}
</code></pre>
<p>ุจุฑุง ุณุงุฏู ูฺฏูโุฏุงุดุชู ูุซุงูุ ุงู interface ููุท ฺฉ ุนููุงุช ุงุฒ ููุน void ุฏุงุฑุฏ.</p>
<hr>
<p>ุญุงูุง ฺฉู interface ุขูุงุฏู ุงุณุชุ ฺฉ <strong>ฺฉูุงุณ ุงูุชุฒุงุน</strong> ุงุถุงูู ูโฺฉูู ฺฉู ุขู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Decorator</span> : <span class="hljs-title">IComponent</span> {
    <span class="hljs-keyword">private</span> IComponent _component;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Decorator</span>(<span class="hljs-params">IComponent component</span>)</span> {
        _component = component;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Operation</span>()</span> {
        _component.Operation();
    }
}
</code></pre>
<ul>
<li>ูุชุบุฑ ุนุถู <strong>_component</strong> ฺฉู ุดุก IComponent ุฑุง ูฺฏู ูโุฏุงุฑุฏุ ุงุฒ ุทุฑู <strong>ุณุงุฒูุฏู (Constructor)</strong> ููุฏุงุฑุฏู ูโุดูุฏ.</li>
<li>ูุชุฏ <strong>Operation()</strong> ุจู ุตูุฑุช <strong>virtual</strong> ุชุนุฑู ุดุฏู ุชุง ุฏุฑ ฺฉูุงุณโูุง ูุดุชู ุดุฏู ุจุชูุงู ุขู ุฑุง ุจุงุฒููุณ ฺฉุฑุฏ.</li>
</ul>
<hr>
<p>ุญุงู ฺฉูุงุณ <strong>ConcreteComponent</strong> ุฑุง ูโุณุงุฒู:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteComponent</span> : <span class="hljs-title">IComponent</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Operation</span>()</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotImplementedException();
    }
}
</code></pre>
<p>ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ ุงู ฺฉูุงุณ ููุท ฺฉ ุนููุงุช ุฏุงุฑุฏ ฺฉู <strong>NotImplementedException</strong> ูพุฑุชุงุจ ูโฺฉูุฏ.</p>
<hr>
<p>ุฏุฑ ุงุฏุงูู ฺฉูุงุณ <strong>ConcreteDecorator</strong> ุฑุง ูโููุณู:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteDecorator</span> : <span class="hljs-title">Decorator</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteDecorator</span>(<span class="hljs-params">IComponent component</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">component</span>)</span> { }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Operation</span>()</span> {
        <span class="hljs-keyword">try</span> {
            Console.WriteLine(<span class="hljs-string">&quot;Operation: try block.&quot;</span>);
            <span class="hljs-keyword">base</span>.Operation();
        } <span class="hljs-keyword">catch</span>(Exception ex)  {
            Console.WriteLine(<span class="hljs-string">&quot;Operation: catch block.&quot;</span>);
            Console.WriteLine(ex.Message);
        }
    }
}
</code></pre>
<ul>
<li>
<p>ฺฉูุงุณ <strong>ConcreteDecorator</strong> ุงุฒ ฺฉูุงุณ <strong>Decorator</strong> ุงุฑุซโุจุฑ ูโฺฉูุฏ.</p>
</li>
<li>
<p>ุณุงุฒูุฏูุ ฺฉ ูพุงุฑุงูุชุฑ <strong>IComponent</strong> ุฏุฑุงูุช ฺฉุฑุฏู ู ุขู ุฑุง ุจู ุณุงุฒูุฏู ูพุงู ูโุฏูุฏ ุชุง <strong>ูุชุบุฑ ุนุถู</strong> ููุฏุงุฑุฏู ุดูุฏ.</p>
</li>
<li>
<p>ุฏุฑ ูุชุฏ <strong>Operation()</strong> ุจุงุฒููุณ ุดุฏูุ ฺฉ <strong>ุจูุงฺฉ try/catch</strong> ุฏุงุฑู:</p>
<ul>
<li>ุฏุฑ <strong>try</strong>ุ ูพุงู ุจู ฺฉูุณูู ููุดุชู ูโุดูุฏ ู ูุชุฏ Operation() ฺฉูุงุณ ูพุงู ุงุฌุฑุง ูโุดูุฏ.</li>
<li>ุฏุฑ <strong>catch</strong>ุ ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุงุณุชุซูุงุ ูพุงู ุฎุทุง ููุฑุงู ุจุง ูุชู Exception ฺุงูพ ูโุดูุฏ.</li>
</ul>
</li>
</ul>
<hr>
<p>ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ฺฉุฏุ ฺฉูุงุณ <strong>Program</strong> ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู. ูุชุฏ <strong>DecoratorPatternExample()</strong> ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DecoratorPatternExample</span>()</span> {
    <span class="hljs-keyword">var</span> concreteComponent = <span class="hljs-keyword">new</span> ConcreteComponent();
    <span class="hljs-keyword">var</span> concreteDecorator = <span class="hljs-keyword">new</span> ConcreteDecorator(concreteComponent);
    concreteDecorator.Operation();
}
</code></pre>
<ul>
<li>ุฏุฑ ุงู ูุชุฏุ ฺฉ <strong>ConcreteComponent</strong> ุงุฌุงุฏ ูโฺฉูู.</li>
<li>ุณูพุณ ุขู ุฑุง ุจู ุณุงุฒูุฏู ฺฉ <strong>ConcreteDecorator</strong> ุฌุฏุฏ ูโุฏูู.</li>
<li>ุฏุฑ ููุงุช ูุชุฏ <strong>Operation()</strong> ุฑุง ุฑู ConcreteDecorator ูุฑุงุฎูุงู ูโฺฉูู.</li>
</ul>
<hr>
<p>ุฏู ุฎุท ุฒุฑ ุฑุง ุจู <strong>Main()</strong> ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code>DecoratorPatternExample();
Console.ReadKey();
</code></pre>
<ul>
<li>ุงู ุฏู ุฎุทุ ูุซุงู ูุง ุฑุง ุงุฌุฑุง ูโฺฉููุฏ ู ุณูพุณ ููุชุธุฑ ูโูุงููุฏ ุชุง ฺฉุงุฑุจุฑ ฺฉ ฺฉูุฏ ูุดุงุฑ ุฏูุฏ.</li>
<li>ุจุง ุงุฌุฑุง ุจุฑูุงููุ ุฎุฑูุฌ ูุดุงุจู ุชุตูุฑ ููููู ููุงุด ุฏุงุฏู ูโุดูุฏ. ๐บ</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-3.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุจุง ุงูุ ูุฑูุฑ ูุง ุจุฑ <strong>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ (Decorator Pattern)</strong> ุจู ูพุงุงู ุฑุณุฏ โ.<br>
ุญุงูุง ุฒูุงู ุขู ุงุณุช ฺฉู ุจู <strong>ุงูฺฏู ูพุฑุงฺฉุณ (Proxy Pattern)</strong> ุจูพุฑุฏุงุฒู.</p>
<hr>
<h3>ุงูฺฏู ูพุฑุงฺฉุณ (Proxy Pattern) ๐ก๏ธ</h3>
<p>ุงูฺฏู ูพุฑุงฺฉุณ ฺฉ <strong>ุงูฺฏู ุทุฑุงุญ ุณุงุฎุชุงุฑ (Structural Design Pattern)</strong> ุงุณุช ฺฉู <strong>ุงุดุง ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ุจูโุนููุงู ุฌุงฺฏุฒู ุจุฑุง ุงุดุงุก ูุงูุน ุณุฑูุณ (Service Objects) ููุฑุฏ ุงุณุชูุงุฏู ุชูุณุท ฺฉูุงูุชโูุง ุนูู ูโฺฉููุฏ</strong>.</p>
<ul>
<li>ูพุฑูฺฉุณโูุง ุฏุฑุฎูุงุณุชโูุง ฺฉูุงูุช ุฑุง ุฏุฑุงูุช ูโฺฉููุฏุ ฺฉุงุฑ ููุฑุฏ ูุงุฒ ุฑุง ุงูุฌุงู ูโุฏููุฏ ู ุณูพุณ ุฏุฑุฎูุงุณุช ุฑุง ุจู ุงุดุงุก ุณุฑูุณ ููุชูู ูโฺฉููุฏ.</li>
<li>ุงุดุงุก ูพุฑูฺฉุณ <strong>ูุงุจู ุชุนูุถ ุจุง ุณุฑูุณโูุง ูุณุชูุฏ</strong> ุฒุฑุง ููุงู <strong>ุฑุงุจุทโูุง (Interfaces)</strong> ุฑุง ุฏุงุฑูุฏ.</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-4.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ฺฉ ูููููโุง ุงุฒ ุฒูุงู ฺฉู ูโุฎูุงูุฏ <strong>ุงูฺฏู ูพุฑุงฺฉุณ (Proxy Pattern)</strong> ุฑุง ุงุณุชูุงุฏู ฺฉูุฏุ ุฒูุงู ุงุณุช ฺฉู:</p>
<ul>
<li>ฺฉ ฺฉูุงุณ ุฏุงุฑุฏ ฺฉู ููโุฎูุงูุฏ ุชุบุฑ ฺฉูุฏุ</li>
<li>ุงูุง ูุงุฒ ุฏุงุฑุฏ ุฑูุชุงุฑูุง ุงุถุงู ุจู ุขู ุงุถุงูู ุดูุฏ.</li>
</ul>
<p>ูพุฑูฺฉุณโูุง ฺฉุงุฑูุง ุฑุง ุจู ุงุดุงุก ุฏฺฏุฑ ูุงฺฏุฐุงุฑ ูโฺฉููุฏ. ูฺฏุฑ ุงูฺฉู ูพุฑูฺฉุณ ุงุฒ ุณุฑูุณ ูุดุชู ุดุฏู ุจุงุดุฏุ ูุชุฏูุง ูพุฑูฺฉุณ ุฏุฑ ููุงุช ุจุงุฏ ุจู ฺฉ <strong>ุดุก Service</strong> ุงุฑุฌุงุน ุฏููุฏ.</p>
<hr>
<p>ูุง ฺฉ ูพุงุฏูโุณุงุฒ ุณุงุฏู ุงุฒ <strong>ุงูฺฏู ูพุฑุงฺฉุณ</strong> ุฑุง ุจุฑุฑุณ ูโฺฉูู:</p>
<p>1๏ธโฃ ฺฉ ูููุฏุฑ ุจู ูุงู <strong>ProxyPattern</strong> ุฏุฑ ุฑุดู ูพุฑูฺู ูุตู ฑฑ ุงุถุงูู ฺฉูุฏ.<br>
2๏ธโฃ ฺฉ <strong>interface</strong> ุจู ูุงู <strong>IService</strong> ุจุง ฺฉ ูุชุฏ ุจุฑุง ูุฏุฑุช ุฏุฑุฎูุงุณุช ุจุณุงุฒุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IService</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Request</span>()</span>;
}
</code></pre>
<ul>
<li>ูุชุฏ <strong>Request()</strong> ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ ฺฉู ุฏุฑุฎูุงุณุช ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏ.</li>
<li>ูู ูพุฑูฺฉุณ ู ูู ุณุฑูุณ ุงู ุฑุงุจุท ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุชุง ูุชุฏ <strong>Request()</strong> ุฑุง ุงุณุชูุงุฏู ฺฉููุฏ.</li>
</ul>
<hr>
<p>3๏ธโฃ ฺฉูุงุณ <strong>Service</strong> ุฑุง ุงุถุงูู ฺฉุฑุฏู ู ุฑุงุจุท <strong>IService</strong> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Service</span> : <span class="hljs-title">IService</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Request</span>()</span> {
        Console.WriteLine(<span class="hljs-string">&quot;Service: Request();&quot;</span>);
    }
}
</code></pre>
<ul>
<li>ฺฉูุงุณ <strong>Service</strong> ูุชุฏ ูุงูุน <strong>Request()</strong> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</li>
<li>ุงู ูุชุฏ ุชูุณุท ฺฉูุงุณ <strong>Proxy</strong> ูุฑุงุฎูุงู ุฎูุงูุฏ ุดุฏ.</li>
</ul>
<hr>
<p>4๏ธโฃ ุญุงูุ ฺฉูุงุณ <strong>Proxy</strong> ุฑุง ูโููุณู:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Proxy</span> : <span class="hljs-title">IService</span> {
    <span class="hljs-keyword">private</span> IService _service;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Proxy</span>(<span class="hljs-params">IService service</span>)</span> {
        _service = service;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Request</span>()</span> {
        Console.WriteLine(<span class="hljs-string">&quot;Proxy: Request();&quot;</span>);
        _service.Request();
    }
}
</code></pre>
<ul>
<li>ฺฉูุงุณ <strong>Proxy</strong> ุฑุงุจุท <strong>IService</strong> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ฺฉ ุณุงุฒูุฏู ุฏุงุฑุฏ ฺฉู <strong>ฺฉ ูพุงุฑุงูุชุฑ IService</strong> ูโฺฏุฑุฏ.</li>
<li>ูุชุฏ <strong>Request()</strong> ุชูุณุท ฺฉูุงูุช ูุฑุงุฎูุงู ูโุดูุฏ.</li>
<li><strong>Proxy.Request()</strong> ฺฉุงุฑูุง ููุฑุฏ ูุงุฒ ุฎูุฏ ุฑุง ุงูุฌุงู ุฏุงุฏู ู ุณูพุณ ูุณุฆูู ูุฑุงุฎูุงู <strong>_service.Request()</strong> ุงุณุช.</li>
</ul>
<hr>
<p>5๏ธโฃ ุจุฑุง ุฏุฏู ุนููฺฉุฑุฏุ ฺฉูุงุณ <strong>Program</strong> ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProxyPatternExample</span>()</span> {
    Console.WriteLine(<span class="hljs-string">&quot;### Calling the Service directly. ###&quot;</span>);
    <span class="hljs-keyword">var</span> service = <span class="hljs-keyword">new</span> Service();
    service.Request();

    Console.WriteLine(<span class="hljs-string">&quot;## Calling the Service via a Proxy. ###&quot;</span>);
    <span class="hljs-keyword">new</span> Proxy(service).Request();
}
</code></pre>
<ul>
<li>ุงู ูุชุฏ ุงุจุชุฏุง <strong>Request()</strong> ุณุฑูุณ ุฑุง ุจู ุตูุฑุช ูุณุชูู ุงุฌุฑุง ูโฺฉูุฏ.</li>
<li>ุณูพุณ ููุงู ูุชุฏ ุฑุง ุงุฒ ุทุฑู <strong>Proxy</strong> ุงุฌุฑุง ูโฺฉูุฏ.</li>
</ul>
<p>ุจุง ุงุฌุฑุง ูพุฑูฺูุ ุฎุฑูุฌ ูุดุงุจู ููููู ุฒุฑ ูุดุงูุฏู ุฎูุงูุฏ ุดุฏ: ๐บ</p>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-5.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุญุงู ฺฉู ุจุง <strong>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ</strong> ู <strong>ุงูฺฏู ูพุฑุงฺฉุณ</strong> ุขุดูุง ุดุฏุฏุ ุจุงุฏ ูฺฏุงู ุจู <strong>ุจุฑูุงููโููุณ ูุจุชู ุจุฑ ุฌูุจู (AOP) ุจุง PostSharp</strong> ุจูุฏุงุฒู. โ๏ธ</p>
<hr>
<h3>ุจุฑูุงููโููุณ ูุจุชู ุจุฑ ุฌูุจู (AOP) ุจุง PostSharp ๐งฉ</h3>
<ul>
<li><strong>AOP</strong> ูโุชูุงูุฏ ุจุง <strong>OOP</strong> ุงุณุชูุงุฏู ุดูุฏ.</li>
<li>ฺฉ <strong>Aspect</strong> ฺฉ <strong>Attribute</strong> ุงุณุช ฺฉู ุจู ฺฉูุงุณโูุงุ ูุชุฏูุงุ ูพุงุฑุงูุชุฑูุง ู Properties ุงุนูุงู ูโุดูุฏ ู ุฏุฑ <strong>ุฒูุงู ฺฉุงููพุงู</strong> ฺฉุฏ ุฑุง ุจู ฺฉูุงุณุ ูุชุฏุ ูพุงุฑุงูุชุฑ ุง Property ููุฑุฏ ูุธุฑ ุชุฒุฑู ูโฺฉูุฏ.</li>
<li>ุงู ุฑูุด ุงุฌุงุฒู ูโุฏูุฏ <strong>ูุณุงุฆู ูุฑุงฺฏุฑ (Cross-Cutting Concerns)</strong> ุงุฒ ฺฉุฏ ฺฉุณุจโูฺฉุงุฑ ุฌุฏุง ุดุฏู ู ุจู ฺฉ <strong>ฺฉุชุงุจุฎุงูู ฺฉูุงุณ</strong> ููุชูู ุดููุฏ.</li>
<li>ุงู ูุณุงุฆู ุจู ุนููุงู Attributes ุงุถุงูู ูโุดููุฏ ู <strong>ฺฉุงููพุงูุฑ ฺฉุฏ ูุงุฒู ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุชุฒุฑู ูโฺฉูุฏ</strong>ุ ฺฉู ุจุงุนุซ ูโุดูุฏ ฺฉุฏ ฺฉุณุจโูฺฉุงุฑ ุดูุง <strong>ฺฉูฺฺฉุ ุฎูุงูุง ู ุณุงุฏู ุจุฑุง ูฺฏูุฏุงุฑ ู ุชูุณุนู</strong> ุจุงุดุฏ.</li>
</ul>
<hr>
<p>ูโุชูุงูุฏ <strong>PostSharp</strong> ุฑุง ุงุฒ ููฺฉ ุฒุฑ ุฏุงูููุฏ ฺฉูุฏ:<br>
<a href="https://www.postsharp.net/download">https://www.postsharp.net/download</a></p>
<p><strong>ูุญูู ฺฉุงุฑ AOP ุจุง PostSharp:</strong><br>
1๏ธโฃ ุจุณุชู PostSharp ุฑุง ุจู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ.<br>
2๏ธโฃ ฺฉุฏ ุฎูุฏ ุฑุง ุจุง Attributes ูุดุงููโฺฏุฐุงุฑ ฺฉูุฏ.<br>
3๏ธโฃ ฺฉุงููพุงูุฑ C# ฺฉุฏ ุฑุง ุจู ุจุงูุฑ ุชุจุฏู ูโฺฉูุฏ ู PostSharp ุจุงูุฑ ุฑุง ุชุญูู ฺฉุฑุฏู ู ูพุงุฏูโุณุงุฒ Aspectูุง ุฑุง ุชุฒุฑู ูโฺฉูุฏ.</p>
<ul>
<li>ุงฺฏุฑฺู ุจุงูุฑโูุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุชุบุฑ ูโฺฉููุฏุ <strong>ฺฉุฏ ููุจุน ูพุฑูฺู ุจุฏูู ุชุบุฑ ุจุงู ูโูุงูุฏ</strong>.</li>
<li>ุงู ุจุงุนุซ ูโุดูุฏ ฺฉู ฺฉุฏ ุดูุง <strong>ุชูุฒุ ุณุงุฏู ู ูุงุจู ูฺฏูุฏุงุฑ</strong> ุจุงุดุฏ ู ุงุณุชูุงุฏู ูุฌุฏุฏ ู ฺฏุณุชุฑุด ุขู ุฏุฑ ุขูุฏู ุขุณุงูโุชุฑ ุดูุฏ.</li>
</ul>
<hr>
<p>PostSharp ุงูฺฏููุง ุขูุงุฏู ุฎูุจ ุจุฑุง ุดูุง ุงุฑุงุฆู ูโุฏูุฏ:</p>
<ul>
<li><strong>MVVM</strong></li>
<li><strong>Caching</strong></li>
<li><strong>Multi-threading</strong></li>
<li><strong>Logging ู Architecture Validation</strong></li>
<li>ู ุจุณุงุฑ ุฏฺฏุฑ</li>
</ul>
<p>ุงฺฏุฑ ูฺฺฉุฏุงู ูุงุฒ ุดูุง ุฑุง ุจุฑุขูุฑุฏู ูฺฉุฑุฏุ ูโุชูุงูุฏ <strong>ุงูฺฏููุง ุฎูุฏ ุฑุง ุจุง ุชูุณุนู Framework ุฌูุจูโูุง ุง ูุนูุงุฑ</strong> ุฎูุฏฺฉุงุฑ ฺฉูุฏ.</p>
<hr>
<h3>ุชูุณุนู ุฌูุจูโูุง ู ฺุงุฑฺูุจ ูุนูุงุฑ</h3>
<ul>
<li>ุจุง <strong>Aspect Framework</strong>ุ ุดูุง ุฌูุจู ุณุงุฏู ุง ุชุฑฺฉุจ ุฎูุฏ ุฑุง ุชูุณุนู ุฏุงุฏูุ ุขู ุฑุง ุจู ฺฉุฏ ุงุนูุงู ูโฺฉูุฏ ู ุงุณุชูุงุฏู ุขู ุฑุง ุงุนุชุจุงุฑุณูุฌ ูโฺฉูุฏ.</li>
<li>ุจุง <strong>Architectural Framework</strong>ุ ูุญุฏูุฏุชโูุง ูุนูุงุฑ ุณูุงุฑุด ุฎูุฏ ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ.</li>
</ul>
<p><strong>ูฺฉุชู:</strong> ููฺฏุงู ููุดุชู Aspect ู Attributes ุจุงุฏ ุจุณุชู <strong>PostSharp.Redist NuGet</strong> ุฑุง ุงุถุงูู ฺฉูุฏ.</p>
<ul>
<li>ุงฺฏุฑ Attributes ู Aspectูุง ฺฉุงุฑ ูฺฉุฑุฏูุฏุ ุฑู ูพุฑูฺู ุฑุงุณุชโฺฉูฺฉ ฺฉุฑุฏู ู <strong>Add PostSharp to Project</strong> ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</li>
</ul>
<hr>
<h3>ุชูุณุนู ฺฉ ุฌูุจู ุณุงุฏู</h3>
<ul>
<li>ุฌูุจู ูุง ุณุงุฏู ุฎูุงูุฏ ุจูุฏ ู ุดุงูู ฺฉ <strong>Transformation</strong> ุงุณุช.</li>
<li>ุฌูุจู ุฑุง ุงุฒ ฺฉูุงุณ ูพุงู <strong>Primitive Aspect</strong> ูุดุชู ูโฺฉูู.</li>
<li>ุจุฑุฎ ูุชุฏูุง ุฑุง ฺฉู ุจู ุนููุงู <strong>Advice</strong> ุดูุงุฎุชู ูโุดููุฏุ ุจุงุฒููุณ ูโฺฉูู.</li>
<li>ุจุฑุง ุณุงุฎุช ุฌูุจู ุชุฑฺฉุจ ูโุชูุงูุฏ ุจู ููฺฉ ุฒุฑ ูุฑุงุฌุนู ฺฉูุฏ:<br>
<a href="https://doc.postsharp.net/complex-aspects">https://doc.postsharp.net/complex-aspects</a></li>
</ul>
<hr>
<h3>ุชุฒุฑู ุฑูุชุงุฑ ูุจู ู ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุชุฏ</h3>
<p>ุฌูุจู <strong>OnMethodBoundaryAspect</strong> ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</p>
<ul>
<li>ุจุง ุงู ุฌูุจูุ ูโุชูุงูุฏ ููุทู ุฑุง <strong>ูุจู ู ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุชุฏ ูุฏู</strong> ุงุฌุฑุง ฺฉูุฏ.</li>
</ul>
<p><strong>ุฌุฏูู ูุชุฏูุง Advice ุฏุฑ OnMethodBoundaryAspect:</strong></p>
<table>
<thead>
<tr>
<th>Advice</th>
<th>ูุชุฏ</th>
<th>ุชูุถุญ</th>
</tr>
</thead>
<tbody>
<tr>
<td>OnEntry(MethodExecutionArgs)</td>
<td>ูุจู ุงุฒ ุงุฌุฑุง ูุชุฏ ู ูุจู ุงุฒ ูุฑ ฺฉุฏ ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดูุฏ</td>
<td></td>
</tr>
<tr>
<td>OnSuccess(MethodExecutionArgs)</td>
<td>ุจุนุฏ ุงุฒ ุงุฌุฑุง ูููู ูุชุฏุ ุจุฏูู ุงุณุชุซูุงุ ุงุฌุฑุง ูโุดูุฏ</td>
<td></td>
</tr>
<tr>
<td>OnException(MethodExecutionArgs)</td>
<td>ุฏุฑ ุตูุฑุช ุจุฑูุฒ Exception ุจุนุฏ ุงุฒ ฺฉุฏ ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดูุฏุ ูุนุงุฏู catch ุงุณุช</td>
<td></td>
</tr>
<tr>
<td>OnExit(MethodExecutionArgs)</td>
<td>ููฺฏุงู ุฎุฑูุฌ ูุชุฏุ ฺู ูููู ู ฺู ุจุง Exceptionุ ุงุฌุฑุง ูโุดูุฏุ ูุนุงุฏู finally ุงุณุช</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<h3>ููููู ุฌูุจู Logging</h3>
<p>1๏ธโฃ ุงุจุชุฏุง PostSharp ุฑุง ุจู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ.<br>
2๏ธโฃ ฺฉ ูููุฏุฑ ุจู ูุงู <strong>Aspects</strong> ุจุณุงุฒุฏ ู ฺฉ ฺฉูุงุณ ุฌุฏุฏ ุจู ูุงู <strong>LoggingAspect</strong> ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">PSerializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LoggingAspect</span> : <span class="hljs-title">OnMethodBoundaryAspect</span> { }
</code></pre>
<ul>
<li><code>[PSerializable]</code> ุจุงุนุซ ูโุดูุฏ PostSharp ฺฉ Serializer ุจุฑุง <strong>PortableFormatter</strong> ุงุฌุงุฏ ฺฉูุฏ.</li>
</ul>
<hr>
<h3>ุจุงุฒููุณ ูุชุฏูุง Advice</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEntry</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">&quot;The {0} method has been entered.&quot;</span>, <span class="hljs-keyword">args</span>.Method.Name);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSuccess</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">&quot;The {0} method executed successfully.&quot;</span>, <span class="hljs-keyword">args</span>.Method.Name);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnExit</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">&quot;The {0} method has exited.&quot;</span>, <span class="hljs-keyword">args</span>.Method.Name);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnException</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">&quot;An exception was thrown in {0}.&quot;</span>, <span class="hljs-keyword">args</span>.Method.Name);
}
</code></pre>
<ul>
<li><strong>OnEntry()</strong> ูุจู ุงุฒ ุงุฌุฑุง ูุฑ ฺฉุฏ ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>OnSuccess()</strong> ุจุนุฏ ุงุฒ ุงุฌุฑุง ูููู ฺฉุฏ ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>OnExit()</strong> ููฺฏุงู ุฎุฑูุฌ ูุชุฏ ุงุฌุฑุง ูโุดูุฏ ู ูุนุงุฏู finally ุงุณุช.</li>
<li><strong>OnException()</strong> ุฏุฑ ุตูุฑุช ุจุฑูุฒ Exception ุงุฌุฑุง ูโุดูุฏ ู ูุนุงุฏู catch ุงุณุช.</li>
</ul>
<hr>
<h3>ุงุณุชูุงุฏู ุงุฒ LoggingAspect</h3>
<p>1๏ธโฃ ูุชุฏ ูููู:</p>
<pre class="hljs"><code>[<span class="hljs-meta">LoggingAspect</span>]
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SuccessfulMethod</span>()</span> {
    Console.WriteLine(<span class="hljs-string">&quot;Hello World, I am a success!&quot;</span>);
}
</code></pre>
<p>2๏ธโฃ ูุชุฏ ูุงูููู:</p>
<pre class="hljs"><code>[<span class="hljs-meta">LoggingAspect</span>]
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FailedMethod</span>()</span> {
    Console.WriteLine(<span class="hljs-string">&quot;Hello World, I am a failure!&quot;</span>);
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> y = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> z = x / y;
}
</code></pre>
<ul>
<li><strong>SuccessfulMethod()</strong> ูพุงู ููููุช ุฑุง ฺุงูพ ูโฺฉูุฏ.</li>
<li><strong>FailedMethod()</strong> ูพุงู ุฎุทุง ฺุงูพ ฺฉุฑุฏู ู ุนููุงุช <strong>ุชูุณู ุจุฑ ุตูุฑ</strong> ุงูุฌุงู ูโุฏูุฏ ฺฉู ุจุงุนุซ <strong>DivideByZeroException</strong> ูโุดูุฏ.</li>
</ul>
<p>ูุฑ ุฏู ูุชุฏ ุฑุง ุงุฒ <strong>Main()</strong> ูุฑุงุฎูุงู ฺฉูุฏ ู ูพุฑูฺู ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุฎุฑูุฌ ูุดุงุจู ููููู ุฒุฑ ุฎูุงูุฏ ุจูุฏ: ๐บ</p>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-6.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุฏุฑ ุงู ูุฑุญููุ <strong>Debugger</strong> ุจุงุนุซ ุฎุฑูุฌ ุจุฑูุงูู ุฎูุงูุฏ ุดุฏ. โ<br>
ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ <strong>ุงุฌุงุฏ ุฌูุจูโูุง PostSharp ุฎูุฏุชุงู</strong> ุจุฑุง ุจุฑุขูุฑุฏู ฺฉุฑุฏู ูุงุฒูุงุชุงูุ ูุฑุขูุฏ ุณุงุฏู ุงุณุช.</p>
<p>ุญุงูุง ุจู ุณุฑุงุบ <strong>ุงูุฒูุฏู ูุญุฏูุฏุชโูุง ูุนูุงุฑ (Architectural Constraints)</strong> ูโุฑูู.</p>
<hr>
<h3>ุชูุณุนู ฺุงุฑฺูุจ ูุนูุงุฑ ๐๏ธ</h3>
<ul>
<li><strong>ูุญุฏูุฏุช ูุนูุงุฑ</strong> ุนู ูพุฐุฑุด ุงูฺฏููุง ุทุฑุงุญ ุณูุงุฑุด ฺฉู ุจุงุฏ ุฏุฑ ุชูุงู ูุงฺููโูุง ุฑุนุงุช ุดููุฏ.</li>
<li>ูุง ฺฉ <strong>Scalar Constraint</strong> ุงุฌุงุฏ ูโฺฉูู ฺฉู <strong>ฺฉ ุนูุตุฑ ฺฉุฏ ุฑุง ุงุนุชุจุงุฑุณูุฌ ฺฉูุฏ</strong>.</li>
<li>Scalar Constraint ูุง ุจู ูุงู <strong>BusinessRulePatternValidation</strong>ุ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ูุฑ ฺฉูุงุณ ูุดุชู ุดุฏู ุงุฒ <strong>BusinessRule</strong> ุจุงุฏ ฺฉ <strong>ฺฉูุงุณ ุฏุงุฎู ุจู ูุงู Factory</strong> ุฏุงุดุชู ุจุงุดุฏ.</li>
</ul>
<hr>
<p>ุงุจุชุฏุง ฺฉูุงุณ <strong>BusinessRulePatternValidation</strong> ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">MulticastAttributeUsage(MulticastTargets.Class, Inheritance = MulticastInheritance.Strict)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BusinessRulePatternValidation</span> : <span class="hljs-title">ScalarConstraint</span> { }
</code></pre>
<ul>
<li><code>[MulticastAttributeUsage]</code> ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงู ุฌูุจู ุงุนุชุจุงุฑุณูุฌ ููุท ุฑู ฺฉูุงุณโูุง ู ุจุง ุฑุนุงุช ุงุฑุซโุจุฑ ฺฉุงุฑ ูโฺฉูุฏ.</li>
</ul>
<hr>
<p>ูุชุฏ <strong>ValidateCode()</strong> ุฑุง ุจุงุฒููุณ ูโฺฉูู:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CodeValidation</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> target</span>)</span>  {
    <span class="hljs-keyword">var</span> targetType = (Type)target;
    <span class="hljs-keyword">if</span> (targetType.GetNestedType(<span class="hljs-string">&quot;Factory&quot;</span>) == <span class="hljs-literal">null</span>) {
        Message.Write(
            targetType, SeverityType.Warning,
            <span class="hljs-string">&quot;10&quot;</span>,
            <span class="hljs-string">&quot;You must include a &#x27;Factory&#x27; as a nested type for {0}.&quot;</span>,
            targetType.DeclaringType,
            targetType.Name);
    }
}
</code></pre>
<ul>
<li>ุงู ูุชุฏ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ฺฉูุงุณ ูุฏูุ ููุน ุฏุงุฎู <strong>Factory</strong> ุฏุงุฑุฏ ุง ุฎุฑ.</li>
<li>ุงฺฏุฑ <strong>Factory</strong> ููุฌูุฏ ูุจุงุดุฏุ ูพุงู ูุดุฏุงุฑ ุฏุฑ ูพูุฌุฑู ุฎุฑูุฌ ฺุงูพ ูโุดูุฏ.</li>
</ul>
<hr>
<p>ฺฉูุงุณ <strong>BusinessRule</strong> ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">BusinessRulePatternValidation</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BusinessRule</span>  { }
</code></pre>
<ul>
<li>ฺฉูุงุณ <strong>BusinessRule</strong> ุฎุงู ุงุณุช ู <strong>Factory</strong> ูุฏุงุฑุฏ.</li>
<li>Attribute <strong>BusinessRulePatternValidation</strong> ุจู ุขู ุงุฎุชุตุงุต ุฏุงุฏู ุดุฏู ุงุณุชุ ฺฉู ฺฉ <strong>ูุญุฏูุฏุช ูุนูุงุฑ</strong> ุงุณุช.</li>
<li>ูพุฑูฺู ุฑุง ุจุณุงุฒุฏ ู ูพุงู ูุดุฏุงุฑ ุฏุฑ ูพูุฌุฑู ุฎุฑูุฌ ูุดุงูุฏู ุฎูุงูุฏ ุดุฏ.</li>
</ul>
<hr>
<h3>ูพุฑูฺู โ ฺฉุชุงุจุฎุงูู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุจุฑุง ูุณุงุฆู ูุฑุงฺฏุฑ</h3>
<p>ุฏุฑ ุงู ุจุฎุดุ ฺฉ <strong>ฺฉุชุงุจุฎุงูู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ</strong> ุจุฑุง ูุฏุฑุช <strong>ูุณุงุฆู ูุฑุงฺฏุฑ</strong> ูโุณุงุฒู.</p>
<ul>
<li>ุงู ฺฉุชุงุจุฎุงูู ุนููฺฉุฑุฏ ูุญุฏูุฏ ุฏุงุฑุฏ ุงูุง ุฏุงูุด ูุงุฒู ุจุฑุง ฺฏุณุชุฑุด ุขู ุฑุง ุจู ุดูุง ูโุฏูุฏ.</li>
<li>ฺฉุชุงุจุฎุงููโุง ฺฉู ูโุณุงุฒุฏุ <strong>.NET Standard Library</strong> ุฎูุงูุฏ ุจูุฏ ุชุง ุฏุฑ ุจุฑูุงููโูุง <strong>.NET Framework ู .NET Core</strong> ูุงุจู ุงุณุชูุงุฏู ุจุงุดุฏ.</li>
<li>ููฺูู ฺฉ <strong>Console Application</strong> ุฏุฑ .NET Framework ุงุฌุงุฏ ูโฺฉูู ุชุง ฺฉุชุงุจุฎุงูู ุฑุง ุฏุฑ ุนูู ุจุจูู.</li>
</ul>
<hr>
<h3>ุดุฑูุน ูพุฑูฺู</h3>
<p>1๏ธโฃ ฺฉ <strong>.NET Standard Class Library</strong> ุจู ูุงู <strong>CrossCuttingConcerns</strong> ุจุณุงุฒุฏ.<br>
2๏ธโฃ ฺฉ <strong>.NET Framework Console Application</strong> ุจู ูุงู <strong>TestHarness</strong> ุจู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ.</p>
<ul>
<li>ุฏุฑ ุงู ฺฉุชุงุจุฎุงููุ ูุงุจูุชโูุง ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุจุฑุง ูุฏุฑุช ูุณุงุฆู ูุฎุชูู ุงุถุงูู ูโฺฉููุ ุงุฒ ุฌููู <strong>Caching</strong>.</li>
</ul>
<hr>
<h3>ุงูุฒูุฏู ูุณุฃูู ฺฉุดูฺฏ (Caching) ๐๏ธ</h3>
<ul>
<li><strong>Caching</strong> ุชฺฉูฺฉ ุจุฑุง ุฐุฎุฑูโุณุงุฒ ู ุงูุฒุงุด ุนููฺฉุฑุฏ ููฺฏุงู ุฏุณุชุฑุณ ุจู ููุงุจุน ูุฎุชูู ุงุณุช.</li>
<li>ฺฉุด ูโุชูุงูุฏ <strong>ุญุงูุธูุ ูุงูโุณุณุชู ุง ุฏุชุงุจุณ</strong> ุจุงุดุฏ.</li>
<li>ุจุฑุง ุณุงุฏู ุจูุฏูุ ูุง <strong>Memory Caching</strong> ุงุณุชูุงุฏู ูโฺฉูู.</li>
</ul>
<hr>
<p>1๏ธโฃ ูููุฏุฑ ุจู ูุงู <strong>Caching</strong> ุฏุฑ ูพุฑูฺู <strong>CrossCuttingConcerns</strong> ุจุณุงุฒุฏ.<br>
2๏ธโฃ ฺฉ ฺฉูุงุณ ุจู ูุงู <strong>MemoryCache</strong> ุงุถุงูู ฺฉูุฏ.<br>
3๏ธโฃ ูพฺฉุฌโูุง NuGet ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<ul>
<li>PostSharp</li>
<li>PostSharp.Patterns.Common</li>
<li>PostSharp.Patterns.Diagnostics</li>
<li>System.Runtime.Caching</li>
</ul>
<hr>
<p>ฺฉูุงุณ <strong>MemoryCache</strong> ุฑุง ุจู ุตูุฑุช ุฒุฑ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MemoryCache</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> T <span class="hljs-title">GetItem</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-built_in">string</span> itemName, TimeSpan timeInCache, Func&lt;T&gt; itemCacheFunction</span>)</span> {
        <span class="hljs-keyword">var</span> cache = System.Runtime.Caching.MemoryCache.Default;
        <span class="hljs-keyword">var</span> cachedItem = (T) cache[itemName];
        <span class="hljs-keyword">if</span> (cachedItem != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> cachedItem;

        <span class="hljs-keyword">var</span> policy = <span class="hljs-keyword">new</span> CacheItemPolicy { AbsoluteExpiration = DateTimeOffset.Now.Add(timeInCache) };
        cachedItem = itemCacheFunction();
        cache.Set(itemName, cachedItem, policy);
        <span class="hljs-keyword">return</span> cachedItem;
    }
}
</code></pre>
<ul>
<li><strong>GetItem()</strong> ูุงู ุขุชู ฺฉุดุ ูุฏุช ุฒูุงู ูฺฏูุฏุงุฑ ุฏุฑ ฺฉุด ู ุชุงุจุน ุจุฑุง ุงุฌุงุฏ ุขุชู ุฏุฑ ุตูุฑุช ูุจูุฏ ุขู ุฏุฑ ฺฉุด ุฑุง ูโฺฏุฑุฏ.</li>
</ul>
<hr>
<h3>ุงูุฒูุฏู ฺฉูุงุณ ุชุณุช</h3>
<p>1๏ธโฃ ุฏุฑ ูพุฑูฺู <strong>TestHarness</strong> ฺฉ ฺฉูุงุณ ุฌุฏุฏ ุจู ูุงู <strong>TestClass</strong> ุงุถุงูู ฺฉูุฏ.<br>
2๏ธโฃ ูุชุฏูุง <strong>GetCachedItem()</strong> ู <strong>GetMessage()</strong> ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetCachedItem</span>()</span> {
    <span class="hljs-keyword">return</span> MemoryCache.GetItem&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;Message&quot;</span>, TimeSpan.FromSeconds(<span class="hljs-number">30</span>), GetMessage);
}

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessage</span>()</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, world of cache!&quot;</span>;
}
</code></pre>
<ul>
<li><strong>GetCachedItem()</strong> ุขุชู ุจู ูุงู <code>&quot;Message&quot;</code> ุฑุง ุงุฒ ฺฉุด ูโฺฏุฑุฏ.</li>
<li>ุงฺฏุฑ ุฏุฑ ฺฉุด ููุฌูุฏ ูุจุงุดุฏุ <strong>GetMessage()</strong> ุขู ุฑุง ุจุฑุง ณฐ ุซุงูู ุฏุฑ ฺฉุด ูุฑุงุฑ ูโุฏูุฏ.</li>
</ul>
<hr>
<h3>ุจูโุฑูุฒุฑุณุงู ูุชุฏ Main()</h3>
<pre class="hljs"><code><span class="hljs-keyword">var</span> harness = <span class="hljs-keyword">new</span> TestClass();
Console.WriteLine(harness.GetCachedItem());
Console.WriteLine(harness.GetCachedItem());
Thread.Sleep(TimeSpan.FromSeconds(<span class="hljs-number">1</span>));
Console.WriteLine(harness.GetCachedItem());
</code></pre>
<ul>
<li>ุงููู ูุฑุงุฎูุงู <strong>GetCachedItem()</strong> ุขุชู ุฑุง ุฏุฑ ฺฉุด ุฐุฎุฑู ู ุจุงุฒูโฺฏุฑุฏุงูุฏ.</li>
<li>ูุฑุงุฎูุงู ุฏููุ ุขุชู ุฑุง ุงุฒ ฺฉุด ุฏุฑุงูุช ู ุจุงุฒูโฺฏุฑุฏุงูุฏ.</li>
<li><strong>Thread.Sleep</strong> ุจุงุนุซ ูููุถ ุดุฏู ฺฉุด ููโุดูุฏ ฺูู ุฒูุงู ูููุฒ ฺฉูุชุฑ ุงุฒ ณฐ ุซุงูู ุงุณุชุ ุงูุง ุจุฑุง ุดุจูโุณุงุฒ ุนููุงุช ุจุนุฏ ููุฏ ุงุณุช.</li>
<li>ุขุฎุฑู ูุฑุงุฎูุงูุ ุขุชู ุฑุง ุฏูุจุงุฑู ุงุฒ ฺฉุด ุฏุฑุงูุช ู ุจุงุฒูโฺฏุฑุฏุงูุฏ.</li>
</ul>
<h3>ุงูุฒูุฏู ูุงุจูุช ูุงฺฏโฺฏุฑ ุฏุฑ ูุงู ๐</h3>
<p>ุฏุฑ ูพุฑูฺู ูุงุ ูุฑุขูุฏูุง <strong>Loggingุ Auditing ู Instrumentation</strong> ุฎุฑูุฌ ุฎูุฏ ุฑุง ุจู <strong>ฺฉ ูุงู ูุชู</strong> ูโูุฑุณุชูุฏ.<br>
ุจุฑุง ุงู ฺฉุงุฑ ูุงุฒ ุจู ฺฉ ฺฉูุงุณ ุฏุงุฑู ฺฉู:</p>
<p>1๏ธโฃ ุจุฑุฑุณ ฺฉูุฏ ูุงู ููุฑุฏ ูุธุฑ ูุฌูุฏ ุฏุงุฑุฏ ุง ุฎุฑ ู ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏุ ุขู ุฑุง ุงุฌุงุฏ ฺฉูุฏ.<br>
2๏ธโฃ ุฎุฑูุฌ ุฑุง ุจู ูุงู ุงุถุงูู ฺฉุฑุฏู ู ุฐุฎุฑู ฺฉูุฏ.</p>
<hr>
<p>1๏ธโฃ ฺฉ ูููุฏุฑ ุจู ูุงู <strong>FileSystem</strong> ุฏุฑ ฺฉุชุงุจุฎุงูู ฺฉูุงุณ ุงุฌุงุฏ ฺฉูุฏ.<br>
2๏ธโฃ ฺฉ ฺฉูุงุณ ุจู ูุงู <strong>LogFile</strong> ุจุณุงุฒุฏ ู ุขู ุฑุง <strong>public static</strong> ุชุนุฑู ฺฉูุฏ.<br>
3๏ธโฃ ูุชุบุฑูุง ุนุถู ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> _location = <span class="hljs-built_in">string</span>.Empty;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> _filename = <span class="hljs-built_in">string</span>.Empty;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> _file = <span class="hljs-built_in">string</span>.Empty;
</code></pre>
<ul>
<li><code>_location</code> ูุณุฑ ูููุฏุฑ <strong>Entry Assembly</strong> ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</li>
<li><code>_filename</code> ูุงู ูุงู ุจู ููุฑุงู ูพุณููุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</li>
<li><code>_file</code> ูุณุฑ ฺฉุงูู ูุงู ุฑุง ูฺฏู ูโุฏุงุฑุฏ.</li>
</ul>
<hr>
<h4>ุงูุฒูุฏู ูููุฏุฑ Logs ุฏุฑ ุฒูุงู ุงุฌุฑุง</h4>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddDirectory</span>()</span> {
    <span class="hljs-keyword">if</span> (!Directory.Exists(_location))
        Directory.CreateDirectory(<span class="hljs-string">&quot;Logs&quot;</span>);
}
</code></pre>
<ul>
<li>ุงู ูุชุฏ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ูุณุฑ ูุฌูุฏ ุฏุงุฑุฏ ุง ุฎุฑุ ู ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏุ ูููุฏุฑ ุงุฌุงุฏ ูโฺฉูุฏ.</li>
</ul>
<hr>
<h4>ุงูุฒูุฏู ูุงู ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ</h4>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddFile</span>()</span> {
    _file = Path.Combine(_location, _filename);
    <span class="hljs-keyword">if</span> (File.Exists(_file)) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">using</span> (File.Create(<span class="hljs-string">$&quot;Logs\\<span class="hljs-subst">{_filename}</span>&quot;</span>)) { }
}
</code></pre>
<ul>
<li>ูุณุฑ ู ูุงู ูุงู ุชุฑฺฉุจ ูโุดููุฏ.</li>
<li>ุงฺฏุฑ ูุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ูุชุฏ ุฎุงุฑุฌ ูโุดูุฏ. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูุงู ุงุฌุงุฏ ูโุดูุฏ.</li>
<li>ุงุณุชูุงุฏู ุงุฒ <strong>using</strong> ุงุฒ ุจุฑูุฒ <strong>IOException</strong> ุฏุฑ ุงุฌุงุฏ ุงููู ุฑฺฉูุฑุฏ ุฌููฺฏุฑ ูโฺฉูุฏ.</li>
</ul>
<hr>
<h4>ูุชุฏ ุฐุฎุฑู ุฏุงุฏู ุฏุฑ ูุงู</h4>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AppendTextToFile</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> filename, <span class="hljs-built_in">string</span> text</span>)</span> {
    _location = <span class="hljs-string">$&quot;<span class="hljs-subst">{Path.GetDirectoryName(Assembly.GetEntryAssembly()?.Location)}</span>\\Logs&quot;</span>;
    _filename = filename;
    AddDirectory();
    AddFile();
    File.AppendAllText(_file, text);
}
</code></pre>
<ul>
<li>ุงู ูุชุฏ ูุงู ูุงู ู ูุชู ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ ู ูุณุฑ ูููุฏุฑ <strong>Entry Assembly</strong> ุฑุง ุชูุธู ูโฺฉูุฏ.</li>
<li>ุณูพุณ ุงุทููุงู ุญุงุตู ูโฺฉูุฏ ฺฉู ูููุฏุฑ ู ูุงู ููุฌูุฏ ูุณุชูุฏ ู ูุชู ุฑุง ุจู ูุงู ุงุถุงูู ูโฺฉูุฏ.</li>
</ul>
<hr>
<h3>ุงูุฒูุฏู ูุณุฃูู Logging ๐ฅ๏ธ</h3>
<ul>
<li>ุงฺฉุซุฑ ุจุฑูุงููโูุง ุจู <strong>ููุน ูุงฺฏโฺฏุฑ</strong> ูุงุฒ ุฏุงุฑูุฏ: ฺฉูุณููุ ูุงูุ Event Log ู ุฏุชุงุจุณ.</li>
<li>ุฏุฑ ูพุฑูฺู ูุงุ ุชููุง ุจู <strong>ฺฉูุณูู ู ูุงู ูุชู</strong> ูโูพุฑุฏุงุฒู.</li>
</ul>
<p>1๏ธโฃ ูููุฏุฑ ุจู ูุงู <strong>Logging</strong> ุฏุฑ ฺฉุชุงุจุฎุงูู ฺฉูุงุณ ุงุฌุงุฏ ฺฉูุฏ.<br>
2๏ธโฃ ฺฉ ฺฉูุงุณ ุจู ูุงู <strong>ConsoleLoggingAspect</strong> ุงุถุงูู ฺฉูุฏ ู ฺฉุฏ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">PSerializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConsoleLoggingAspect</span> : <span class="hljs-title">OnMethodBoundaryAspect</span> { }
</code></pre>
<ul>
<li><code>[PSerializable]</code> ุจู PostSharp ูโฺฏูุฏ ฺฉู ฺฉ <strong>Serializer</strong> ุจุฑุง PortableFormatter ุชููุฏ ฺฉูุฏ.</li>
<li>ฺฉูุงุณ <strong>ConsoleLoggingAspect</strong> ุงุฒ <strong>OnMethodBoundaryAspect</strong> ุงุฑุซโุจุฑ ูโฺฉูุฏ.</li>
</ul>
<hr>
<h3>ุจุงุฒููุณ ูุชุฏูุง Advice ุจุฑุง ูุงฺฏโฺฏุฑ ุฏุฑ ฺฉูุณูู</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEntry</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">$&quot;Method: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>, OnEntry().&quot;</span>);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnExit</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">$&quot;Method: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>, OnExit().&quot;</span>);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSuccess</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">$&quot;Method: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>, OnSuccess().&quot;</span>);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnException</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    Console.WriteLine(<span class="hljs-string">$&quot;An exception was thrown in <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>. <span class="hljs-subst">{<span class="hljs-keyword">args</span>}</span>&quot;</span>);
}
</code></pre>
<ul>
<li><strong>OnEntry()</strong> ูุจู ุงุฒ ุงุฌุฑุง ุจุฏูู ูุชุฏ ุงุฌุฑุง ูโุดูุฏ ู ูุงู ูุชุฏ ู ููุน Advice ุฑุง ฺุงูพ ูโฺฉูุฏ.</li>
<li><strong>OnExit()</strong> ุจุนุฏ ุงุฒ ุงุชูุงู ูุชุฏ ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>OnSuccess()</strong> ูพุณ ุงุฒ ุงุฌุฑุง ููููุชโุขูุฒ ุจุฏูู Exception ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>OnException()</strong> ููฺฏุงู ุจุฑูุฒ Exception ุงุฌุฑุง ูโุดูุฏ.</li>
</ul>
<hr>
<h3>ูุงฺฏโฺฏุฑ ุฏุฑ ูุงู ูุชู ๐</h3>
<ul>
<li>
<p>ฺฉ ฺฉูุงุณ ุจู ูุงู <strong>TextFileLoggingAspect</strong> ุงุถุงูู ฺฉูุฏ.</p>
</li>
<li>
<p>ุงู ฺฉูุงุณ ูุดุงุจู <strong>ConsoleLoggingAspect</strong> ุงุณุชุ ุจุง ุงู ุชูุงูุช ฺฉู:</p>
<ul>
<li>ูุชุฏูุง <strong>OnEntry()ุ OnExit() ู OnSuccess()</strong> ุงุฒ ูุชุฏ <strong>LogFile.AppendTextToFile()</strong> ุจุฑุง ุงูุฒูุฏู ุฎุฑูุฌ ุจู ูุงู <strong>Log.txt</strong> ุงุณุชูุงุฏู ูโฺฉููุฏ.</li>
<li>ูุชุฏ <strong>OnException()</strong> ูุฒ ุฎุฑูุฌ ุฑุง ุจู <strong>Exception.log</strong> ุงุถุงูู ูโฺฉูุฏ.</li>
</ul>
</li>
</ul>
<p>ูุซุงู <strong>OnEntry()</strong> ุฏุฑ <strong>TextFileLoggingAspect</strong>:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEntry</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    LogFile.AppendTextToFile(<span class="hljs-string">&quot;Log.txt&quot;</span>, <span class="hljs-string">$&quot;\nMethod: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>, OnEntry().&quot;</span>);
}
</code></pre>
<hr>
<p>ุจุง ุงู ฺฉุงุฑ ูุงุจูุชโูุง <strong>ูุงฺฏโฺฏุฑ ุฏุฑ ูุงู ู ฺฉูุณูู</strong> ุขูุงุฏู ุงุณุช.<br>
ุฏุฑ ูุฑุญูู ุจุนุฏุ ุจู <strong>ูุณุฃูู Exceptions</strong> ูโูพุฑุฏุงุฒู. โก</p>
<h3>ุงูุฒูุฏู ูุณุฃูู <strong>Exception-Handling</strong> โ๏ธ</h3>
<p>ุฏุฑ ูุฑูโุงูุฒุงุฑุ ุชุฌุฑุจู <strong>Exceptions</strong> ุชูุณุท ฺฉุงุฑุจุฑุงู ุงุฌุชูุงุจโูุงูพุฐุฑ ุงุณุช.<br>
ูพุณ ุจุงุฏ ุฑูุด ุจุฑุง <strong>ูุงฺฏโฺฏุฑ ุขูโูุง</strong> ุฏุงุดุชู ุจุงุดู.</p>
<ul>
<li>ุฑูุด ูุนูููุ ุฐุฎุฑู ุฎุทุง ุฏุฑ <strong>ูุงู ุฑู ุณุณุชู ฺฉุงุฑุจุฑ</strong> ุงุณุชุ ูุซู <code>Exception.log</code>.</li>
<li>ูุง ุฏุฑ ุงู ุจุฎุด ููู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูู.</li>
</ul>
<hr>
<p>1๏ธโฃ ฺฉ ูููุฏุฑ ุจู ูุงู <strong>Exceptions</strong> ุฏุฑ ฺฉุชุงุจุฎุงูู ฺฉูุงุณ ุงุฌุงุฏ ฺฉูุฏ.<br>
2๏ธโฃ ฺฉ ูุงู ุจู ูุงู <strong>ExceptionAspect</strong> ุจุณุงุฒุฏ ู ฺฉุฏ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">PSerializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExceptionAspect</span> : <span class="hljs-title">OnExceptionAspect</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Message { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> Type ExceptionType { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> FlowBehavior Behavior { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnException</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        <span class="hljs-keyword">var</span> message = <span class="hljs-keyword">args</span>.Exception != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">args</span>.Exception.Message : <span class="hljs-string">&quot;Unknown error occured.&quot;</span>;
        LogFile.AppendTextToFile(
            <span class="hljs-string">&quot;Exceptions.log&quot;</span>, <span class="hljs-string">$&quot;\n<span class="hljs-subst">{DateTime.Now}</span>: Method: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method}</span>, Exception: <span class="hljs-subst">{message}</span>&quot;</span>
        );
        <span class="hljs-keyword">args</span>.FlowBehavior = FlowBehavior.Continue;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> Type <span class="hljs-title">GetExceptionType</span>(<span class="hljs-params">System.Reflection.MethodBase targetMethod</span>)</span> {
        <span class="hljs-keyword">return</span> ExceptionType;
    }
}
</code></pre>
<ul>
<li>
<p>ฺฉูุงุณ <strong>ExceptionAspect</strong> ุงุฑุซโุจุฑ ูโฺฉูุฏ ุงุฒ <strong>OnExceptionAspect</strong> ู ุฏุงุฑุง ุณู ูฺฺฏ ุงุณุช:<br>
1๏ธโฃ <code>Message</code>: ูพุงู ุฎุทุง<br>
2๏ธโฃ <code>ExceptionType</code>: ููุน Exception ุฑุฎ ุฏุงุฏู<br>
3๏ธโฃ <code>FlowBehavior</code>: ุชุนู ูโฺฉูุฏ ุจุนุฏ ุงุฒ ูุฏุฑุช Exceptionุ ุงุฌุฑุง ุจุฑูุงูู ุงุฏุงูู ุงุจุฏ ุง ูุชููู ุดูุฏ.</p>
</li>
<li>
<p><strong>OnException()</strong> ุงุจุชุฏุง ูพุงู ุฎุทุง ุฑุง ูโุณุงุฒุฏุ ุณูพุณ ุจุง <strong>LogFile.AppendTextToFile()</strong> ุขู ุฑุง ุฏุฑ ูุงู ุฐุฎุฑู ูโฺฉูุฏ.</p>
</li>
<li>
<p><strong>GetExceptionType()</strong> ููุน Exception ุฑุฎ ุฏุงุฏู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
</li>
<li>
<p>ุจุฑุง ุงุณุชูุงุฏูุ ฺฉุงู ุงุณุช <strong>[ExceptionAspect]</strong> ุฑุง ุจู ูุชุฏ ุฎูุฏ ุงุถุงูู ฺฉูุฏ.</p>
</li>
</ul>
<hr>
<h3>ุงูุฒูุฏู ูุณุฃูู <strong>Security</strong> ๐</h3>
<ul>
<li>ูุงุฒูุง ุงููุช ุจุณุชฺฏ ุจู ูพุฑูฺู ุฏุงุฑูุฏ.</li>
<li>ุฑุงุฌโุชุฑู ููุงุฑุฏ: <strong>Authentication ู Authorization</strong> ุจุฑุง ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู ุจู ุจุฎุดโูุง ูุฎุชูู ุณุณุชู.</li>
<li>ุฏุฑ ุงู ุจุฎุด ุงุฒ <strong>Decorator Pattern</strong> ุจุฑุง ุงุฌุงุฏ ฺฉ <strong>Secure Component</strong> ุจุง <strong>Role-Based Methods</strong> ุงุณุชูุงุฏู ูโฺฉูู.</li>
</ul>
<blockquote>
<p>ุงููุช ููุถูุน ุจุฒุฑฺฏ ุงุณุช ู ูุฑุงุชุฑ ุงุฒ ุงู ฺฉุชุงุจ ูโุจุงุดุฏ.<br>
ููุงุจุน ูพุดููุงุฏ:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/security/">Security in .NET</a></li>
<li><a href="https://oauth.net/code/dotnet/">OAuth 2.0 in .NET</a></li>
</ul>
</blockquote>
<ul>
<li>ูุง ุฏุฑ ุงู ูุตู ููุท <strong>ุงููุช ุณูุงุฑุด ุฎูุฏูุงู</strong> ุฑุง ุจุง Decorator Pattern ุงุถุงูู ูโฺฉูู.</li>
</ul>
<hr>
<h3>ุงุฌุงุฏ Component ุงูู</h3>
<p>1๏ธโฃ ูููุฏุฑ ุจู ูุงู <strong>Security</strong> ุจุณุงุฒุฏ.<br>
2๏ธโฃ ฺฉ Interface ุจู ูุงู <strong>ISecureComponent</strong> ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">ISecureComponent</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">AddData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">EditData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">DeleteData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">dynamic</span> <span class="hljs-title">GetData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span>;
}
</code></pre>
<ul>
<li>ฺูุงุฑ ูุชุฏ ุจุงูุง ูุงุถุญ ูุณุชูุฏ.</li>
<li><code>dynamic</code> ุนู ูุฑ ููุน ุฏุงุฏูโุง ูโุชูุงูุฏ ูุฑูุฏ ุง ุฎุฑูุฌ ุจุงุดุฏ.</li>
</ul>
<hr>
<h3>ุงุฌุงุฏ ฺฉูุงุณ ูพุงู DecoratorBase</h3>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DecoratorBase</span> : <span class="hljs-title">ISecureComponent</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ISecureComponent _secureComponent;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DecoratorBase</span>(<span class="hljs-params">ISecureComponent secureComponent</span>)</span> {
        _secureComponent = secureComponent;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        _secureComponent.AddData(data);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">int</span> <span class="hljs-title">EditData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">return</span> _secureComponent.EditData(data);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">int</span> <span class="hljs-title">DeleteData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">return</span> _secureComponent.DeleteData(data);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">dynamic</span> <span class="hljs-title">GetData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">return</span> _secureComponent.GetData(data);
    }
}
</code></pre>
<ul>
<li>ุงู ฺฉูุงุณ ูุชุฏูุง Interface ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ูุงุจูุช <strong>Override</strong> ุฏุฑ ฺฉูุงุณโูุง ูุดุชู ุฑุง ูุฑุงูู ูโฺฉูุฏ.</li>
</ul>
<hr>
<h3>ฺฉูุงุณ ConcreteSecureComponent</h3>
<ul>
<li>ฺฉูุงุณ ูุงูุน ฺฉู ฺฉุงุฑ ุงูู ุฑุง ุงูุฌุงู ูโุฏูุฏ.</li>
<li>ูุฑ ูุชุฏ ูพุงู ูุฑุจูุทู ุฑุง ุฏุฑ <strong>Console</strong> ฺุงูพ ูโฺฉูุฏ.</li>
<li><code>DeleteData()</code> ู <code>EditData()</code> ููุฏุงุฑ ฑ ุจุฑูโฺฏุฑุฏุงููุฏ ู <code>GetData()</code> ููุฏุงุฑ <code>&quot;Hi!&quot;</code> ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.</li>
</ul>
<hr>
<h3>ูุฏุฑุช ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู</h3>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">struct</span> Credentials {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> Role { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Credentials</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password</span>)</span> {
        <span class="hljs-keyword">switch</span> (username) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;System&quot;</span> <span class="hljs-keyword">when</span> password == <span class="hljs-string">&quot;Administrator&quot;</span>:
                Role = <span class="hljs-string">&quot;Administrator&quot;</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;End&quot;</span> <span class="hljs-keyword">when</span> password == <span class="hljs-string">&quot;User&quot;</span>:
                Role = <span class="hljs-string">&quot;Restricted&quot;</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-literal">default</span>:
                Role = <span class="hljs-string">&quot;Imposter&quot;</span>;
                <span class="hljs-keyword">break</span>;
        }
    }
}
</code></pre>
<ul>
<li><code>struct</code> ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฑุง ูโฺฏุฑุฏ ู <strong>Role ููุงุณุจ</strong> ุฑุง ุงุฎุชุตุงุต ูโุฏูุฏ.</li>
<li>ฺฉุงุฑุจุฑุงู Restricted ุฏุณุชุฑุณ ฺฉูุชุฑ ูุณุจุช ุจู Administrator ุฏุงุฑูุฏ.</li>
</ul>
<hr>
<h3>ฺฉูุงุณ ConcreteDecorator ุจุฑุง ุงููุช</h3>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteDecorator</span> : <span class="hljs-title">DecoratorBase</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteDecorator</span>(<span class="hljs-params">ISecureComponent secureComponent</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">secureComponent</span>)</span> { }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">if</span> (Credentials.Role.Contains(<span class="hljs-string">&quot;Administrator&quot;</span>) || Credentials.Role.Contains(<span class="hljs-string">&quot;Restricted&quot;</span>)) {
            <span class="hljs-keyword">base</span>.AddData((<span class="hljs-built_in">object</span>)data);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnauthorizedAccessException(<span class="hljs-string">&quot;Unauthorized&quot;</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">EditData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">if</span> (Credentials.Role.Contains(<span class="hljs-string">&quot;Administrator&quot;</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">base</span>.EditData(data);
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnauthorizedAccessException(<span class="hljs-string">&quot;Unauthorized&quot;</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">DeleteData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">if</span> (Credentials.Role.Contains(<span class="hljs-string">&quot;Administrator&quot;</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">base</span>.DeleteData(data);
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnauthorizedAccessException(<span class="hljs-string">&quot;Unauthorized&quot;</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">dynamic</span> <span class="hljs-title">GetData</span>(<span class="hljs-params"><span class="hljs-built_in">dynamic</span> data</span>)</span> {
        <span class="hljs-keyword">if</span> (Credentials.Role.Contains(<span class="hljs-string">&quot;Administrator&quot;</span>) || Credentials.Role.Contains(<span class="hljs-string">&quot;Restricted&quot;</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">base</span>.GetData(data);
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnauthorizedAccessException(<span class="hljs-string">&quot;Unauthorized&quot;</span>);
    }
}
</code></pre>
<ul>
<li><strong>ConcreteDecorator</strong> ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ฺฉุงุฑุจุฑ <strong>ุฏุฑ Role ูุฌุงุฒ</strong> ูุฑุงุฑ ุฏุงุฑุฏ ุง ุฎุฑ.</li>
<li>ููุท ฺฉุงุฑุจุฑุงู Administrator ู Restricted ูโุชูุงููุฏ ูุชุฏูุง ุฑุง ุงุฌุฑุง ฺฉููุฏ.</li>
</ul>
<hr>
<h3>ุขูุงุฏูโุณุงุฒ ุจุฑุง ุงุฌุฑุง ุงููุช</h3>
<pre class="hljs"><code><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> ConcreteDecorator ConcreteDecorator = <span class="hljs-keyword">new</span> ConcreteDecorator(
    <span class="hljs-keyword">new</span> ConcreteSecureComponent()
);

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] _</span>)</span> {
    <span class="hljs-keyword">new</span> Credentials(<span class="hljs-string">&quot;End&quot;</span>, <span class="hljs-string">&quot;User&quot;</span>);
    DoSecureWork();
    Console.WriteLine(<span class="hljs-string">&quot;Press any key to exit.&quot;</span>);
    Console.ReadKey();
}
</code></pre>
<ul>
<li>
<p>ฺฉ <strong>ConcreteDecorator</strong> ุณุงุฎุชู ู <strong>ConcreteSecureComponent</strong> ุฑุง ุจู ุขู ูพุงุณ ูโุฏูู.</p>
</li>
<li>
<p>ุงู ุดุก ุฏุฑ ูุชุฏูุง ุฏุงุฏูโุง ูุง ุงุณุชูุงุฏู ูโุดูุฏ.</p>
</li>
<li>
<p>ุณูพุณ ุจุง ูุงุฑุฏ ฺฉุฑุฏู <strong>ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ</strong>ุ ฺฉุงุฑ ุงูู ุขุบุงุฒ ูโุดูุฏ.<br>
ูุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฑุง ุจู <strong>struct Credentials</strong> ุงุฎุชุตุงุต ูโุฏูู. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ <strong>Role</strong> ุชูุธู ุดูุฏ. ุณูพุณ ูุชุฏ <strong>DoSecureWork()</strong> ุฑุง ูุฑุงุฎูุงู ูโฺฉูู.</p>
</li>
<li>
<p>ูุชุฏ <strong>DoSecureWork()</strong> ูุณุฆูู ูุฑุงุฎูุงู ููู ูุชุฏูุง ุฏุงุฏูโุง ุงุณุช.</p>
</li>
<li>
<p>ุฏุฑ ุงูุชูุงุ ุจุฑูุงูู ููุชุธุฑ ูโูุงูุฏ ุชุง ฺฉุงุฑุจุฑ ฺฉ ฺฉูุฏ ูุดุงุฑ ุฏูุฏ ู ุณูพุณ ุฎุงุฑุฌ ูโุดูุฏ.</p>
</li>
</ul>
<hr>
<h3>ุชุนุฑู ูุชุฏ DoSecureWork()</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoSecureWork</span>()</span> {
    AddData();
    EditData();
    DeleteData();
    GetData();
}
</code></pre>
<ul>
<li>ุงู ูุชุฏุ ููู ูุชุฏูุง ุฏุงุฏูโุง ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ฺฉู ุฏุฑ ููุงุช ุจู <strong>ConcreteDecorator</strong> ููุชูู ูโุดููุฏ.</li>
</ul>
<hr>
<h3>ุชุนุฑู ูุชุฏ AddData() ุจุง ExceptionAspect โ๏ธ</h3>
<pre class="hljs"><code>[<span class="hljs-meta">ExceptionAspect(consoleOutput: true)</span>]
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddData</span>()</span> {
    ConcreteDecorator.AddData(<span class="hljs-string">&quot;Hello, world!&quot;</span>);
}
</code></pre>
<ul>
<li><strong>[ExceptionAspect]</strong> ุจู <strong>AddData()</strong> ุงุนูุงู ุดุฏู ุงุณุช.</li>
<li>ุงู ุงุทููุงู ูโุฏูุฏ ฺฉู ูุฑ ุฎุทุง ุฏุฑ <strong>Exceptions.log</strong> ุซุจุช ูโุดูุฏ.</li>
<li>ูพุงุฑุงูุชุฑ <code>consoleOutput: true</code> ุจุงุนุซ ูโุดูุฏ ูพุงู ุฎุทุง ุฏุฑ <strong>ฺฉูุณูู</strong> ูู ููุงุด ุฏุงุฏู ุดูุฏ.</li>
<li>ุฎูุฏ ูุชุฏุ ูุชุฏ <strong>AddData()</strong> ุฑุง ุฑู <strong>ConcreteDecorator</strong> ูุฑุงุฎูุงู ูโฺฉูุฏ.</li>
</ul>
<hr>
<h3>ุณุงุฑ ูุชุฏูุง ุฏุงุฏูโุง</h3>
<ul>
<li>ุจูู ูุชุฏูุง (<strong>EditData()</strong>, <strong>DeleteData()</strong>, <strong>GetData()</strong>) ุฑุง ุจู ููุงู ุฑูุด ุชุนุฑู ฺฉูุฏุ ุจุง ุงุนูุงู <strong>ExceptionAspect</strong> ู ูุฑุงุฎูุงู ูุชุฏูุง ูุชูุงุธุฑ ุฏุฑ <strong>ConcreteDecorator</strong>.</li>
</ul>
<hr>
<p>ูพุณ ุงุฒ ุงุฌุฑุง ุจุฑูุงููุ ุจุงุฏ ุฎุฑูุฌ ูุดุงุจู ุชุตูุฑ ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:</p>
<p>โ ูุชุฏูุง ุงุฌุฑุง ูโุดููุฏ<br>
โ ูพุงูโูุง ุฏุฑ ฺฉูุณูู ฺุงูพ ูโุดููุฏ<br>
โ ูุฑ ุฎุทุง ุฏุฑ <strong>Exceptions.log</strong> ุซุจุช ูโุดูุฏ</p>
<div align="center">
<p><img src="../../../assets/image/11/Table%2011-7.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุงฺฉููู ูุง ฺฉ <strong>ุดุก ูุจุชู ุจุฑ ููุด</strong> ุฏุงุฑู ฺฉู ููุฑุงู ุจุง <strong>ูุฏุฑุช ุงุณุชุซูุงูุง</strong> ฺฉุงุฑ ูโฺฉูุฏ. ฺฏุงู ุจุนุฏ ูุงุ ูพุงุฏูโุณุงุฒ <strong>Validation Concern</strong> ุง ุจุฑุฑุณ ุงุนุชุจุงุฑ ุฏุงุฏูโูุง ุงุณุช. โ</p>
<hr>
<h2>ุงูุฒูุฏู <strong>Validation Concern</strong> ๐</h2>
<p>ุชูุงู ุฏุงุฏูโูุง ูุงุฑุฏ ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ ุจุงุฏ <strong>ุงุนุชุจุงุฑุณูุฌ</strong> ุดููุฏุ ฺุฑุง ฺฉู ููฺฉู ุงุณุช <strong>ุฎุทุฑูุงฺฉุ ูุงูุต ุง ุจุง ูุฑูุช ุงุดุชุจุงู</strong> ุจุงุดูุฏ. ูุฏู ุงู ุงุณุช ฺฉู ุงุทููุงู ุญุงุตู ฺฉูู ุฏุงุฏูโูุง <strong>ูพุงฺฉ ู ุงูู</strong> ูุณุชูุฏ.</p>
<p>ุจุฑุง ูููููโ ูุงุ <strong>ุงุนุชุจุงุฑุณูุฌ null</strong> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูู.</p>
<h3>1๏ธโฃ ุงูุฒูุฏู ฺฉูุงุณ AllowNullAttribute</h3>
<ul>
<li>ฺฉ ูพูุดู ุจู ูุงู <strong>Validation</strong> ุจู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ.</li>
<li>ุณูพุณ ฺฉูุงุณ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code>[<span class="hljs-meta">AttributeUsage(AttributeTargets.Parameter | AttributeTargets.ReturnValue |
 AttributeTargets.Property)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AllowNullAttribute</span> : <span class="hljs-title">Attribute</span> { }
</code></pre>
<ul>
<li>ุงู <strong>Attribute</strong> ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ูพุงุฑุงูุชุฑูุงุ ููุงุฏุฑ ุจุงุฒฺฏุดุช ู Properties ุจุชูุงููุฏ <strong>null</strong> ุจุงุดูุฏ.</li>
</ul>
<hr>
<h3>2๏ธโฃ ุงูุฒูุฏู enum ValidationFlags</h3>
<ul>
<li>ุฏุฑ ูุงู ุจุง ููุงู ูุงูุ enum ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code>[<span class="hljs-meta">Flags</span>]
<span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> ValidationFlags {
    Properties = <span class="hljs-number">1</span>,
    Methods = <span class="hljs-number">2</span>,
    Arguments = <span class="hljs-number">4</span>,
    OutValues = <span class="hljs-number">8</span>,
    ReturnValues = <span class="hljs-number">16</span>,
    NonPublic = <span class="hljs-number">32</span>,
    AllPublicArguments = Properties | Methods | Arguments,
    AllPublic = AllPublicArguments | OutValues | ReturnValues,
    All = AllPublic | NonPublic
}
</code></pre>
<ul>
<li>ุงู <strong>Flags</strong> ูุดุฎุต ูโฺฉููุฏ ฺฉู <strong>Aspect</strong> ุจุฑ ุฑู ฺู ุงุฌุฒุง ุงุนูุงู ุดูุฏ.</li>
</ul>
<hr>
<h3>3๏ธโฃ ุงูุฒูุฏู ฺฉูุงุณ ReflectionExtensions</h3>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ReflectionExtensions</span> {
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsCustomAttributeDefined</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> ICustomAttributeProvider <span class="hljs-keyword">value</span></span>) <span class="hljs-keyword">where</span> T : Attribute</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">value</span>.IsDefined(<span class="hljs-keyword">typeof</span>(T), <span class="hljs-literal">false</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">AllowsNull</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> ICustomAttributeProvider <span class="hljs-keyword">value</span></span>)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">value</span>.IsCustomAttributeDefined&lt;AllowNullAttribute&gt;();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">MayNotBeNull</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> ParameterInfo arg</span>)</span> {
        <span class="hljs-keyword">return</span> !arg.AllowsNull() &amp;&amp; !arg.IsOptional &amp;&amp; !arg.ParameterType.IsValueType;
    }
}
</code></pre>
<ul>
<li><strong>IsCustomAttributeDefined()</strong>: ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง Attribute ููุฑุฏ ูุธุฑ ุฑู ุนุถู ุงุนูุงู ุดุฏู ุงุณุช ุง ูู.</li>
<li><strong>AllowsNull()</strong>: ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง [AllowNull] ุงุนูุงู ุดุฏู ุงุณุช ุง ุฎุฑ.</li>
<li><strong>MayNotBeNull()</strong>: ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู null ูุฌุงุฒ ุงุณุช ุง ุฎุฑุ ูพุงุฑุงูุชุฑ ุงุฎุชุงุฑ ุงุณุช ุง ููุ ู ููุน ุฏุงุฏู ูพุงุฑุงูุชุฑ ฺุณุช. ูุชุฌู <strong>Boolean</strong> ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ.</li>
</ul>
<hr>
<h3>4๏ธโฃ ุงูุฒูุฏู ฺฉูุงุณ DisallowNonNullAspect</h3>
<pre class="hljs"><code>[<span class="hljs-meta">PSerializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DisallowNonNullAspect</span> : <span class="hljs-title">OnMethodBoundaryAspect</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span>[] _inputArgumentsToValidate;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span>[] _outputArgumentsToValidate;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span>[] _parameterNames;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> _validateReturnValue;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> _memberName;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> _isProperty;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DisallowNonNullAspect</span>() : <span class="hljs-title">this</span>(<span class="hljs-params">ValidationFlags.AllPublic</span>)</span> { }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DisallowNonNullAspect</span>(<span class="hljs-params">ValidationFlags validationFlags</span>)</span> {
        ValidationFlags = validationFlags;
    }

    <span class="hljs-keyword">public</span> ValidationFlags ValidationFlags { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</code></pre>
<ul>
<li>ฺฉูุงุณ <strong>DisallowNonNullAspect</strong> ุงุฒ <strong>OnMethodBoundaryAspect</strong> ุงุฑุซโุจุฑ ูโฺฉูุฏ.</li>
<li>ูุชุบุฑูุง ุจุฑุง ูฺฏูุฏุงุฑ ูพุงุฑุงูุชุฑูุง ูุฑูุฏุ ุฎุฑูุฌุ ูุงู ูพุงุฑุงูุชุฑูุงุ ุจุฑุฑุณ ููุงุฏุฑ ุจุงุฒฺฏุดุช ู ูุงู ุนุถู ุงุณุชูุงุฏู ูโุดููุฏ.</li>
<li>ุณุงุฒูุฏู ูพุดโูุฑุถ ุจุฑุง ุงุนูุงู Validator ุจุฑ ุชูุงู ุงุนุถุง ุนููู ุงุณุช.</li>
</ul>
<hr>
<h3>5๏ธโฃ Override ูุชุฏ CompileTimeValidate</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">CompileTimeValidate</span>(<span class="hljs-params">MethodBase method</span>)</span> {
    <span class="hljs-keyword">var</span> methodInformation = MethodInformation.GetMethodInformation(method);
    <span class="hljs-keyword">var</span> parameters = method.GetParameters();

    <span class="hljs-keyword">if</span> (!ValidationFlags.HasFlag(ValidationFlags.NonPublic) &amp;&amp; !methodInformation.IsPublic) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (!ValidationFlags.HasFlag(ValidationFlags.Properties) &amp;&amp; methodInformation.IsProperty) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (!ValidationFlags.HasFlag(ValidationFlags.Methods) &amp;&amp; !methodInformation.IsProperty) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    _parameterNames = parameters.Select(p =&gt; p.Name).ToArray();
    _memberName = methodInformation.Name;
    _isProperty = methodInformation.IsProperty;

    <span class="hljs-keyword">var</span> argumentsToValidate = parameters.Where(p =&gt; p.MayNotBeNull()).ToArray();
    _inputArgumentsToValidate = ValidationFlags.HasFlag(ValidationFlags.Arguments) ?
                                argumentsToValidate.Where(p =&gt; !p.IsOut).Select(p =&gt; p.Position).ToArray() :
                                <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">0</span>];

    _outputArgumentsToValidate = ValidationFlags.HasFlag(ValidationFlags.OutValues) ?
                                 argumentsToValidate.Where(p =&gt; p.ParameterType.IsByRef).Select(p =&gt; p.Position).ToArray() :
                                 <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">0</span>];

    <span class="hljs-keyword">if</span> (!methodInformation.IsConstructor) {
        _validateReturnValue = ValidationFlags.HasFlag(ValidationFlags.ReturnValues) &amp;&amp;
                               methodInformation.ReturnParameter.MayNotBeNull();
    }

    <span class="hljs-keyword">var</span> validationRequired = _validateReturnValue || _inputArgumentsToValidate.Length &gt; <span class="hljs-number">0</span> || _outputArgumentsToValidate.Length &gt; <span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span> validationRequired;
}
</code></pre>
<ul>
<li>ุงู ูุชุฏ ุชุถูู ูโฺฉูุฏ ฺฉู <strong>Aspect</strong> ุฏุฑ ุฒูุงู <strong>Compile-Time</strong> ุจุฑ ุนุถู ููุงุณุจ ุงุนูุงู ุดุฏู ุจุงุดุฏ.</li>
</ul>
<hr>
<h3>6๏ธโฃ Override ูุชุฏ OnEntry</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEntry</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> argumentPosition <span class="hljs-keyword">in</span> _inputArgumentsToValidate) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">args</span>.Arguments[argumentPosition] != <span class="hljs-literal">null</span>) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> parameterName = _parameterNames[argumentPosition];
        <span class="hljs-keyword">if</span> (_isProperty) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(parameterName, <span class="hljs-string">$&quot;Cannot set the value of property &#x27;<span class="hljs-subst">{_memberName}</span>&#x27; to null.&quot;</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(parameterName);
        }
    }
}
</code></pre>
<ul>
<li>ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ูพุงุฑุงูุชุฑูุง ูุฑูุฏ <strong>null</strong> ูุจุงุดูุฏ ู ุฏุฑ ุตูุฑุช ูุฌูุฏุ <strong>ArgumentNullException</strong> ูพุฑุชุงุจ ูโุดูุฏ.</li>
</ul>
<hr>
<h3>7๏ธโฃ Override ูุชุฏ OnSuccess</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSuccess</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> argumentPosition <span class="hljs-keyword">in</span> _outputArgumentsToValidate) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">args</span>.Arguments[argumentPosition] != <span class="hljs-literal">null</span>) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> parameterName = _parameterNames[argumentPosition];
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidOperationException(<span class="hljs-string">$&quot;Out parameter &#x27;<span class="hljs-subst">{parameterName}</span>&#x27; is null.&quot;</span>);
    }

    <span class="hljs-keyword">if</span> (!_validateReturnValue || <span class="hljs-keyword">args</span>.ReturnValue != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">if</span> (_isProperty) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidOperationException(<span class="hljs-string">$&quot;Return value of property &#x27;<span class="hljs-subst">{_memberName}</span>&#x27; is null.&quot;</span>);
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidOperationException(<span class="hljs-string">$&quot;Return value of method &#x27;<span class="hljs-subst">{_memberName}</span>&#x27; is null.&quot;</span>);
}
</code></pre>
<ul>
<li>ูพุงุฑุงูุชุฑูุง ุฎุฑูุฌ ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ุฏุฑ ุตูุฑุช <strong>null</strong> ุจูุฏูุ <strong>InvalidOperationException</strong> ูพุฑุชุงุจ ูโุดูุฏ.</li>
</ul>
<hr>
<h3>8๏ธโฃ ุงูุฒูุฏู ฺฉูุงุณ MethodInformation</h3>
<ul>
<li>ุจุฑุง ุงุณุชุฎุฑุงุฌ ุงุทูุงุนุงุช ูุชุฏูุง ู ุณุงุฒูุฏูโูุง:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MethodInformation</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> IsProperty { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> IsPublic { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> IsConstructor { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> ParameterInfo ReturnParameter { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">MethodInformation</span>(<span class="hljs-params">ConstructorInfo constructor</span>) : <span class="hljs-title">this</span>(<span class="hljs-params">(MethodBase</span>)constructor)</span> {
        IsConstructor = <span class="hljs-literal">true</span>;
        Name = constructor.Name;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">MethodInformation</span>(<span class="hljs-params">MethodInfo method</span>) : <span class="hljs-title">this</span>(<span class="hljs-params">(MethodBase</span>)method)</span> {
        IsConstructor = <span class="hljs-literal">false</span>;
        Name = method.Name;
        <span class="hljs-keyword">if</span> (method.IsSpecialName &amp;&amp; (Name.StartsWith(<span class="hljs-string">&quot;set_&quot;</span>) || Name.StartsWith(<span class="hljs-string">&quot;get_&quot;</span>))) {
            Name = Name.Substring(<span class="hljs-number">4</span>);
            IsProperty = <span class="hljs-literal">true</span>;
        }
        ReturnParameter = method.ReturnParameter;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">MethodInformation</span>(<span class="hljs-params">MethodBase method</span>)</span> {
        IsPublic = method.IsPublic;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MethodInformation <span class="hljs-title">CreateInstance</span>(<span class="hljs-params">MethodInfo method</span>)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MethodInformation(method);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MethodInformation <span class="hljs-title">GetMethodInformation</span>(<span class="hljs-params">MethodBase methodBase</span>)</span> {
        <span class="hljs-keyword">var</span> ctor = methodBase <span class="hljs-keyword">as</span> ConstructorInfo;
        <span class="hljs-keyword">if</span> (ctor != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MethodInformation(ctor);
        <span class="hljs-keyword">var</span> method = methodBase <span class="hljs-keyword">as</span> MethodInfo;
        <span class="hljs-keyword">return</span> method == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : CreateInstance(method);
    }
}
</code></pre>
<hr>
<p>๐ ุงฺฉููู <strong>Validation Aspect</strong> ุขูุงุฏู ุงุณุช ู ูโุชูุงูุฏ:</p>
<ul>
<li><code>[AllowNull]</code> ุจุฑุง ูุฌุงุฒ ฺฉุฑุฏู <strong>null</strong></li>
<li><code>[DisallowNonNullAspect]</code> ุจุฑุง ุฌููฺฏุฑ ุงุฒ <strong>null</strong></li>
</ul>
<p>ฺฏุงู ุจุนุฏ ูุง ุงุถุงูู ฺฉุฑุฏู <strong>Transaction Concern</strong> ุฎูุงูุฏ ุจูุฏ.</p>
<p>ุงฺฉููู ฺฉุชุงุจุฎุงูู ูุง ุดุงูู ฺูุฏ <strong>Cross-Cutting Concern</strong> ุขูุงุฏู ู ูุงุจู ุงุณุชูุงุฏู ุงุณุช. ุจุงุฏ ุจุฎุดโูุง ฺฉู ุงุถุงูู ฺฉุฑุฏูโุงู ุฑุง ุจู ุทูุฑ ุฎูุงุตู ูุฑูุฑ ฺฉูู: โ</p>
<hr>
<h2>1๏ธโฃ <strong>Transaction Concern</strong> ๐ณ</h2>
<ul>
<li><strong>ูุฏู:</strong> ุชุถูู ุงุฌุฑุง ฺฉุงูู ุง rollback ุชุฑุงฺฉูุดโูุง.</li>
<li><strong>ูพุงุฏูโุณุงุฒ:</strong></li>
</ul>
<pre class="hljs"><code>[<span class="hljs-meta">PSerializable</span>]
[<span class="hljs-meta">AttributeUsage(AttributeTargets.Method)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RequiresTransactionAspect</span> : <span class="hljs-title">OnMethodBoundaryAspect</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEntry</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        <span class="hljs-keyword">var</span> transactionScope = <span class="hljs-keyword">new</span> TransactionScope(TransactionScopeOption.Required);
        <span class="hljs-keyword">args</span>.MethodExecutionTag = transactionScope;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSuccess</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        <span class="hljs-keyword">var</span> transactionScope = (TransactionScope)<span class="hljs-keyword">args</span>.MethodExecutionTag;
        transactionScope.Complete();
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnExit</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        <span class="hljs-keyword">var</span> transactionScope = (TransactionScope)<span class="hljs-keyword">args</span>.MethodExecutionTag;
        transactionScope.Dispose();
    }
}
</code></pre>
<ul>
<li><code>[RequiresTransactionAspect]</code> ุฑู ูุชุฏ ูุฑุงุฑ ูโฺฏุฑุฏ ุชุง ุชุฑุงฺฉูุด ุขุบุงุฒ ุดูุฏุ ุฏุฑ ุตูุฑุช ููููุช ฺฉุงูู ุดูุฏ ู ุฏุฑ ููุงุช Dispose ุดูุฏ.</li>
<li>ุจุฑุง ุซุจุช ุฎุทุงูุง ุชุฑุงฺฉูุดุ ูโุชูุงูุฏ ุงุฒ <code>[ExceptionAspect]</code> ูุฒ ุงุณุชูุงุฏู ฺฉูุฏ.</li>
</ul>
<hr>
<h2>2๏ธโฃ <strong>Resource Pool Concern</strong> ๐โโ๏ธ</h2>
<ul>
<li><strong>ูุฏู:</strong> ุจูุจูุฏ ุนููฺฉุฑุฏ ุจุง ุงุฌุงุฏ ู ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ุงุดุงุก ฺฏุฑุงูโููุช.</li>
<li><strong>ฺฉูุงุณ ResourcePool<T></strong>:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ResourcePool</span>&lt;<span class="hljs-title">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ConcurrentBag&lt;T&gt; _resources;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Func&lt;T&gt; _resourceGenerator;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ResourcePool</span>(<span class="hljs-params">Func&lt;T&gt; resourceGenerator</span>)</span> {
        _resourceGenerator = resourceGenerator ?? <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(resourceGenerator));
        _resources = <span class="hljs-keyword">new</span> ConcurrentBag&lt;T&gt;();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">Get</span>()</span> =&gt; _resources.TryTake(<span class="hljs-keyword">out</span> T item) ? item : _resourceGenerator();
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Return</span>(<span class="hljs-params">T item</span>)</span> =&gt; _resources.Add(item);
}
</code></pre>
<ul>
<li><strong>ุงุณุชูุงุฏู:</strong></li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">var</span> pool = <span class="hljs-keyword">new</span> ResourcePool&lt;Course&gt;(() =&gt; <span class="hljs-keyword">new</span> Course());
<span class="hljs-keyword">var</span> course = pool.Get();
pool.Return(course);
</code></pre>
<hr>
<h2>3๏ธโฃ <strong>Configuration Settings Concern</strong> โ๏ธ</h2>
<ul>
<li><strong>ูุฏู:</strong> ูุฑฺฉุฒ ฺฉุฑุฏู ุชูุธูุงุช ุจุฑูุงูู (App.config ุง Web.config).</li>
<li><strong>ฺฉูุงุณ Settings:</strong></li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Settings</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetAppSetting</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> key</span>)</span> {
        <span class="hljs-keyword">return</span> System.Configuration.ConfigurationManager.AppSettings[key];
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetAppSettings</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> <span class="hljs-built_in">string</span> key, <span class="hljs-built_in">string</span> <span class="hljs-keyword">value</span></span>)</span> {
        System.Configuration.ConfigurationManager.AppSettings[key] = <span class="hljs-keyword">value</span>;
    }
}
</code></pre>
<ul>
<li>ุจุง <strong>import static</strong> ูโุชูุงู ุงุฒ ฺฉูุงุณ ุจุฏูู ูพุดโููุฏ ุงุณุชูุงุฏู ฺฉุฑุฏ:</li>
</ul>
<pre class="hljs"><code>Console.WriteLine(GetAppSetting(<span class="hljs-string">&quot;Greeting&quot;</span>));
<span class="hljs-string">&quot;Greeting&quot;</span>.SetAppSettings(<span class="hljs-string">&quot;Goodbye!&quot;</span>);
Console.WriteLine(GetAppSetting(<span class="hljs-string">&quot;Greeting&quot;</span>));
</code></pre>
<hr>
<h2>4๏ธโฃ <strong>Instrumentation Concern</strong> โฑ๏ธ</h2>
<ul>
<li><strong>ูุฏู:</strong> ูพุฑููุงู ู ุงูุฏุงุฒูโฺฏุฑ ุฒูุงู ุงุฌุฑุง ูุชุฏูุง.</li>
<li><strong>ฺฉูุงุณ InstrumentationAspect:</strong></li>
</ul>
<pre class="hljs"><code>[<span class="hljs-meta">PSerializable</span>]
[<span class="hljs-meta">AttributeUsage(AttributeTargets.Method)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">InstrumentationAspect</span> : <span class="hljs-title">OnMethodBoundaryAspect</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEntry</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        LogFile.AppendTextToFile(<span class="hljs-string">&quot;Profile.log&quot;</span>, <span class="hljs-string">$&quot;\nMethod: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>, Start Time: <span class="hljs-subst">{DateTime.Now}</span>&quot;</span>);
        <span class="hljs-keyword">args</span>.MethodExecutionTag = Stopwatch.StartNew();
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnException</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        LogFile.AppendTextToFile(<span class="hljs-string">&quot;Exception.log&quot;</span>, <span class="hljs-string">$&quot;\n<span class="hljs-subst">{DateTime.Now}</span>: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Exception.Source}</span> <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Exception.Message}</span>&quot;</span>);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnExit</span>(<span class="hljs-params">MethodExecutionArgs <span class="hljs-keyword">args</span></span>)</span> {
        <span class="hljs-keyword">var</span> stopwatch = (Stopwatch)<span class="hljs-keyword">args</span>.MethodExecutionTag;
        stopwatch.Stop();
        LogFile.AppendTextToFile(<span class="hljs-string">&quot;Profile.log&quot;</span>, <span class="hljs-string">$&quot;\nMethod: <span class="hljs-subst">{<span class="hljs-keyword">args</span>.Method.Name}</span>, Stop Time: <span class="hljs-subst">{DateTime.Now}</span>, Duration: <span class="hljs-subst">{stopwatch.Elapsed}</span>&quot;</span>);
    }
}
</code></pre>
<ul>
<li>ุดุฑูุน ู ูพุงุงู ูุชุฏ ุซุจุช ุดุฏู ู ูุฏุช ุฒูุงู ุงุฌุฑุง ุขู ุจู <strong>Profile.log</strong> ููุดุชู ูโุดูุฏ.</li>
<li>ุฏุฑ ุตูุฑุช ูููุน ุงุณุชุซูุงุกุ ุฎุทุง ุฏุฑ <strong>Exception.log</strong> ุฐุฎุฑู ูโุดูุฏ.</li>
</ul>
<hr>
<h3>โ ูุชุฌู</h3>
<p>ุญุงูุง ุดูุง ฺฉ <strong>ฺฉุชุงุจุฎุงูู ฺฉุงูู ุงุฒ Cross-Cutting Concerns</strong> ุฏุงุฑุฏ ฺฉู ุดุงูู ููุงุฑุฏ ุฒุฑ ุงุณุช:</p>
<ol>
<li><strong>Caching</strong> โ ุฐุฎุฑู ูููุช ุฏุงุฏูโูุง</li>
<li><strong>File Logging &amp; Console Logging</strong> โ ูุงฺฏโฺฏุฑ</li>
<li><strong>Exception Handling</strong> โ ูุฏุฑุช ุงุณุชุซูุงุกโูุง</li>
<li><strong>Security</strong> โ ุงููุช ูุจุชู ุจุฑ ููุด</li>
<li><strong>Validation</strong> โ ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง</li>
<li><strong>Transactions</strong> โ ุชุฑุงฺฉูุดโูุง</li>
<li><strong>Resource Pooling</strong> โ ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ููุงุจุน</li>
<li><strong>Configuration</strong> โ ูุฏุฑุช ุชูุธูุงุช</li>
<li><strong>Instrumentation</strong> โ ูพุฑููุงููฺฏ ูุชุฏูุง</li>
</ol>
<p>ุชูุงู ุงู ููุงุฑุฏ ุจุง <strong>AOP ู Decorator Pattern</strong> ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ ู ุดูุง ูโุชูุงูุฏ ุจู ุฑุงุญุช ุฏุฑ ูพุฑูฺูโูุง ุฎูุฏ ุงุฒ ุขูโูุง ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<h3>ุฎูุงุตู ูุตู</h3>
<p>ุฏุฑ ุงู ูุตูุ ูุง ููุงุฑุฏ ุฒุฑ ุฑุง ุงุฏ ฺฏุฑูุชู:</p>
<ol>
<li>
<p><strong>ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ (Decorator Pattern)</strong></p>
<ul>
<li>ุงูฺฉุงู ุงุถุงูู ฺฉุฑุฏู ุฑูุชุงุฑ ุฌุฏุฏ ุจู ุงุดุงุก ุจุฏูู ุชุบุฑ ฺฉูุงุณ ุงุตู.</li>
</ul>
</li>
<li>
<p><strong>ุงูฺฏู ูพุฑุงฺฉุณ (Proxy Pattern)</strong></p>
<ul>
<li>ุงุฌุงุฏ ุดุก ุฌุงฺฏุฒู ุจุฑุง ุณุฑูุณ ูุงูุน.</li>
<li>ูพุฑุงฺฉุณ ุฏุฑุฎูุงุณุชโูุง ูุดุชุฑ ุฑุง ุฏุฑุงูุช ู ูพุฑุฏุงุฒุด ฺฉุฑุฏู ู ุจู ุณุฑูุณ ุงุตู ููุชูู ูโฺฉูุฏ.</li>
<li>ูพุฑุงฺฉุณ ู ุณุฑูุณ ฺฉ ุฑุงุจุท (interface) ูุดุชุฑฺฉ ุฏุงุฑูุฏุ ุจูุงุจุฑุงู ูุงุจู ุฌุงฺฏุฒู ูุณุชูุฏ.</li>
</ul>
</li>
<li>
<p><strong>ุจุฑูุงููโููุณ ูุจุชู ุจุฑ ุฌูุจู (AOP) ุจุง PostSharp</strong></p>
<ul>
<li>
<p><strong>Aspect</strong> ู <strong>Attribute</strong> ุจุฑุง ุชุฒุฑู ุฎูุฏฺฉุงุฑ ฺฉุฏ ุฏุฑ ุฒูุงู ฺฉุงููพุงู ุงุณุชูุงุฏู ูโุดููุฏ.</p>
</li>
<li>
<p>ุงูฺฉุงู ูุฏุฑุช <strong>Cross-Cutting Concerns</strong> ูุงููุฏ:</p>
<ul>
<li><strong>Logging</strong> (ูุงฺฏโฺฏุฑ)</li>
<li><strong>Auditing</strong> (ููุฒ)</li>
<li><strong>Security</strong> (ุงููุช)</li>
<li><strong>Validation</strong> (ุงุนุชุจุงุฑุณูุฌ)</li>
<li><strong>Exception Handling</strong> (ูุฏุฑุช ุงุณุชุซูุงุกโูุง)</li>
<li><strong>Instrumentation</strong> (ูพุฑููุงููฺฏ ูุชุฏูุง)</li>
<li><strong>Transactions</strong> (ุชุฑุงฺฉูุดโูุง)</li>
<li><strong>Resource Pooling</strong> (ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ููุงุจุน)</li>
<li><strong>Caching</strong> (ุฐุฎุฑู ูููุช ุฏุงุฏูโูุง)</li>
<li><strong>Threading &amp; Concurrency</strong> (ฺูุฏูุฎ ู ููุฒูุงู)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ฺฏุณุชุฑุด ูุฑููุฑฺฉ Aspect</strong></p>
<ul>
<li>ุณุงุฎุช <strong>Aspect</strong> ุณูุงุฑุด ู ุงุนูุงู ุขู ุฑู ูุชุฏูุง ุง ฺฉูุงุณโูุง.</li>
<li>ุงุณุชูุงุฏู ุงุฒ PostSharp ู ุงูฺฏู ุฏฺฉูุฑุงุชูุฑ ุจุฑุง ูุฏุฑุช Concerns ุจูโุตูุฑุช ุชูุฒ ู ูุงุจู ูฺฏูุฏุงุฑ.</li>
</ul>
</li>
</ol>
<hr>
<h3>ุณูุงูุงุช ูุฑูุฑ</h3>
<ol>
<li>
<p><strong>Cross-Cutting Concern ฺุณุช ู AOP ูุฎูู ฺุณุชุ</strong></p>
<ul>
<li><strong>Cross-Cutting Concern:</strong> ูุณุงุฆู ฺฉู ุจุฑ ุจุฎุดโูุง ูุฎุชูู ุจุฑูุงูู ุงุซุฑ ูโฺฏุฐุงุฑูุฏ ู ููโุชูุงู ุขูโูุง ุฑุง ุฏุฑ ฺฉ ูุงฺูู ุฎุงุต ูุญุฏูุฏ ฺฉุฑุฏ (ูุซู ูุงฺฏุ ุงููุชุ ุชุฑุงฺฉูุด).</li>
<li><strong>AOP:</strong> <strong>Aspect-Oriented Programming</strong> ุง ุจุฑูุงููโููุณ ูุจุชู ุจุฑ ุฌูุจู.</li>
</ul>
</li>
<li>
<p><strong>Aspect ฺุณุช ู ฺฺฏููู ุขู ุฑุง ุงุนูุงู ูโฺฉูุฏุ</strong></p>
<ul>
<li><strong>Aspect:</strong> ูุงุญุฏ ุงุฒ ุฑูุชุงุฑ ฺฉู ูโุชูุงูุฏ ุจู ุฑูุดโูุง ูุฎุชูู ุจุฑูุงูู ุงุถุงูู ุดูุฏ (ูุซูุงู Logging).</li>
<li>ุงุนูุงู ุงุฒ ุทุฑู ุงูุฒูุฏู <strong>Attribute</strong> ุฑู ฺฉูุงุณุ ูุชุฏุ ูพุงุฑุงูุชุฑ ุง property ุงูุฌุงู ูโุดูุฏ.</li>
</ul>
</li>
<li>
<p><strong>Attribute ฺุณุช ู ฺฺฏููู ุขู ุฑุง ุงุนูุงู ูโฺฉูุฏุ</strong></p>
<ul>
<li><strong>Attribute:</strong> Metadata ุง ุฏุงุฏูโูุง ุชูุตู ุจุฑุง ฺฉุฏ.</li>
<li>ุจุง ูุฑุงุฑ ุฏุงุฏู <code>[AttributeName]</code> ุฑู ฺฉูุงุณ ุง ูุชุฏ ุงุนูุงู ูโุดูุฏ.</li>
</ul>
</li>
<li>
<p><strong>Aspects ู Attributes ฺฺฏููู ุจุง ูู ฺฉุงุฑ ูโฺฉููุฏุ</strong></p>
<ul>
<li>Attribute ุฌูุจู (Aspect) ุฑุง ูุดุฎุต ูโฺฉูุฏ.</li>
<li>PostSharp ุฏุฑ ุฒูุงู ฺฉุงููพุงู ฺฉุฏ ูุฑุจูุท ุจู Aspect ุฑุง ุฏุฑ ูุญู ููุฑุฏ ูุธุฑ ุชุฒุฑู ูโฺฉูุฏ.</li>
</ul>
</li>
<li>
<p><strong>ูุฑุขูุฏ ุณุงุฎุช (Build Process) ุจุง Aspects ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ</strong></p>
<ul>
<li>ฺฉุงููพุงูุฑ ฺฉุฏ ุฑุง ุจู ุจุงูุฑ ุชุจุฏู ูโฺฉูุฏ.</li>
<li>PostSharp ุจุงูุฑ ุฑุง ุชุญูู ฺฉุฑุฏู ู ฺฉุฏ Aspect ุฑุง ุชุฒุฑู ูโฺฉูุฏ.</li>
<li>ูุชุฌู: ฺฉุฏ ุงุตู ุฏุณุชโูุฎูุฑุฏู ุจุงู ูโูุงูุฏุ ุงูุง ุฑูุชุงุฑูุง ุงุถุงู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุงุนูุงู ูโุดููุฏ.</li>
</ul>
</li>
</ol>
<hr>
<h3>ูุทุงูุนู ุจุดุชุฑ</h3>
<ul>
<li>ุตูุญู ุงุตู PostSharp: <a href="https://www.postsharp.net/">https://www.postsharp.net/</a></li>
</ul>

</main>


 

  <!-- ููุชุฑ ูุดุชุฑฺฉ -->
  <footer class="footer">
    <div class="container">
      <p>
        <img src="/icone/copyright.svg" alt="ฺฉูพโุฑุงุช" width="14" height="14"
             style="vertical-align:middle;margin-inline:4px">
        <span id="y"></span> Gitab โ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู
      </p>
    </div>
  </footer>

  <!-- ุณุงู + ุงุณฺฉุฑูพุช ุชู -->
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    (() => {
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');
      const KEY = 'gitab-theme';
      const media = window.matchMedia('(prefers-color-scheme: dark)');
      const getEffective = s => s === 'auto' ? (media.matches ? 'dark' : 'light') : s;
      function updateTheme(s) {
        root.setAttribute('data-theme', s);
        const mode = getEffective(s);
        root.dataset.colorMode = mode;
        btn.dataset.icon = mode === 'dark' ? 'moon' : 'sun';
      }
      const saved = localStorage.getItem(KEY) || 'auto';
      updateTheme(saved);
      btn.addEventListener('click', () => {
        const curr = localStorage.getItem(KEY) || 'auto';
        const next = curr === 'auto' ? 'dark' : curr === 'dark' ? 'light' : 'auto';
        localStorage.setItem(KEY, next);
        updateTheme(next);
      });
      media.addEventListener('change', () => {
        if ((localStorage.getItem(KEY) || 'auto') === 'auto') updateTheme('auto');
      });
      window.addEventListener('DOMContentLoaded', () => updateTheme(saved));
    })();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script>
document.querySelectorAll('pre code').forEach(block => {
  const btn = document.createElement('button');
  btn.className = 'copy-btn';

  const icon = document.createElement('img');
  icon.src = '/icone/copy.svg';
  icon.alt = 'Copy';
  btn.appendChild(icon);

  block.parentNode.insertBefore(btn, block);

  btn.addEventListener('click', async () => {
    await navigator.clipboard.writeText(block.textContent);
    btn.classList.add('copied');
    setTimeout(() => btn.classList.remove('copied'), 1500);
  });
});
</script>
<script>
  document.body.dataset.page = window.location.pathname;
</script>
<script>
  // ุจุงุฒ ู ุจุณุชู ฺฉุฑุฏู ููู ููุจุงู
  const menuBtn = document.querySelector(".menu-toggle");
  const nav = document.querySelector(".nav");

  if (menuBtn && nav) {
    // ุจุงุฒ ู ุจุณุชู ุดุฏู ุจุง ุฏฺฉูู
    menuBtn.addEventListener("click", (e) => {
      e.stopPropagation(); // ูุฐุงุฑู ฺฉูฺฉ ุฑู ุฎูุฏ ุฏฺฉูู ุจุงุนุซ ุจุณุชู ุดุฏู ุจุดู
      nav.classList.toggle("show");
    });

    // ุจุณุชู ููู ุจุง ฺฉูฺฉ ุจุฑูู
    document.addEventListener("click", (e) => {
      const clickedInsideNav = nav.contains(e.target);
      const clickedMenuButton = menuBtn.contains(e.target);
      if (!clickedInsideNav && !clickedMenuButton) {
        nav.classList.remove("show");
      }
    });
  }
</script>



</body>

</html>
