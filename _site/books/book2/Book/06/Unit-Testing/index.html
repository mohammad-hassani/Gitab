

<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href="/Gitab/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Unit Testing</title>
  <meta name="description" content="ุชุฑุฌููโูุง ูุงุฑุณ ฺฉุชุงุจโูุง ูู โ ุณุฑุนุ ูููุงู ู ูุงุจู ุงุชฺฉุง.">

  <!-- ุงุณุชุงูโูุง -->
  <link rel="stylesheet" href="/Gitab/styles/main.css">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

  <style>
  @font-face {
    font-family: 'Vazir';
    src: url('/Gitab/fonts/Vazir-FD-WOL.ttf') format('truetype');
    font-display: swap;
  }
  body {
    font-family: 'Vazir', sans-serif;
  }
  </style>
</head>

<body>
  <!-- ูุฏุฑ ูุดุชุฑฺฉ -->
  <header class="header">
    <div class="container nav-wrap">
      <a href="/Gitab/" class="brand">
        <img src="/Gitab/icone/logo.svg" alt="Gitab logo" width="26" height="26">
        <span>Gitab</span>
      </a>

      <nav class="nav">
        <a href="/Gitab/" aria-current="page">ุฎุงูู</a>
        <a href="/Gitab/books/list-books">ฺฉุชุงุจโูุง</a>
       <a href="/Gitab/translator.html">ูุชุฑุฌูู</a>
        <a href="/Gitab/giter.html">ฺฏุชุฑ</a>
      </nav>

      <div class="nav-actions">
        <button id="themeToggle" class="icon-btn theme-btn" data-icon="moon" aria-label="ุชุบุฑ ุชู">
          <img src="/Gitab/icone/sun.svg" class="icon-sun" alt="ุฑูุดู">
          <img src="/Gitab/icone/moon.svg" class="icon-moon" alt="ุชุงุฑฺฉ">
        </button>

        <a class="icon-btn" href="https://github.com/hheydarian/Gitab" target="_blank" title="GitHub">
          <img src="/Gitab/icone/github.svg" alt="GitHub">
        </a>

        <!-- ุฏฺฉูู ููู ุจุฑุง ููุจุงู -->
        <button class="menu-toggle" aria-label="ููู">
          <img src="/Gitab/icone/menu.svg" alt="menu">
        </button>
      </div>
    </div>
  </header>

  
  <main class="site-main book-page">
    <h1>ูุตู ุดุดู: ุชุณุช ูุงุญุฏ (Unit Testing) ๐งช</h1>
<p>ูุจูุงู ุจู ุจุฑุฑุณ <strong>ูุฏุฑุช ุงุณุชุซูุงูุง (Exception Handling)</strong> ูพุฑุฏุงุฎุชูุ ฺฺฏููฺฏ ูพุงุฏูโุณุงุฒ ุตุญุญ ุขู ู ุงู ฺฉู ฺฺฏููู ุงู ฺฉุงุฑ ูโุชูุงูุฏ ุจุฑุง <strong>ูุดุชุฑ</strong> ู <strong>ุจุฑูุงููโููุณ</strong> ููฺฏุงู ุจุฑูุฒ ูุดฺฉูุงุช ููุฏ ุจุงุดุฏ. ุฏุฑ ุงู ูุตูุ ูฺฏุงู ูโุงูุฏุงุฒู ุจู ุงูฺฉู <strong>ุจุฑูุงููโููุณุงู ฺฺฏููู ูโุชูุงููุฏ ุชุถูู ฺฉูุช ุฎูุฏ (QA)</strong> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ ุชุง <strong>ฺฉุฏ ุจุงฺฉูุชุ ููุงูู ู ฺฉูโุงุญุชูุงู ุชููุฏ ุงุณุชุซูุง ุฏุฑ ูุญุท ุชููุฏ</strong> ุงุฑุงุฆู ุฏููุฏ.</p>
<p>ุงุจุชุฏุง ุจุฑุฑุณ ูโฺฉูู <strong>ฺุฑุง ุจุงุฏ ฺฉุฏ ุฎูุฏูุงู ุฑุง ุชุณุช ฺฉูู</strong> ู ฺฉ ุชุณุช ุฎูุจ ฺู ูฺฺฏโูุง ุฏุงุฑุฏ. ุณูพุณ ุจู <strong>ฺูุฏ ุงุจุฒุงุฑ ุชุณุช</strong> ฺฉู ุจุฑุง ุจุฑูุงููโููุณุงู C# ุฏุฑ ุฏุณุชุฑุณ ุงุณุช ูโูพุฑุฏุงุฒู. ุจุนุฏุ ุณู ุณุชูู ุงุตู <strong>ุชุณุช ูุงุญุฏ (Unit Testing)</strong> ุฑุง ูุฑูุฑ ูโฺฉูู: <strong>Failุ Pass ู Refactor</strong>. ุฏุฑ ููุงุชุ ุจู <strong>ุชุณุชโูุง ูุงุญุฏ ุงุถุงู (Redundant Unit Tests)</strong> ู ุฏูู ุญุฐู ุขูโูุง ูโูพุฑุฏุงุฒู.</p>
<p>ุฏุฑ ุงู ูุตูุ ูุจุงุญุซ ุฒุฑ ูพูุดุด ุฏุงุฏู ูโุดููุฏ:</p>
<ul>
<li>ุฏุฑฺฉ <strong>ุฏูุงู ุฏุงุดุชู ฺฉ ุชุณุช ุฎูุจ</strong> โ</li>
<li>ุฏุฑฺฉ <strong>ุงุจุฒุงุฑูุง ุชุณุช</strong> ๐๏ธ</li>
<li>ุชูุฑู <strong>ูุชุฏูููฺ TDD โ Failุ Pass ู Refactor</strong> ๐</li>
<li>ุญุฐู <strong>ุชุณุชโูุงุ ฺฉุงููุชโูุง ู ฺฉุฏูุง ูุฑุฏู ุงุถุงู</strong> ๐๏ธ</li>
</ul>
<p>ุชุง ูพุงุงู ุงู ูุตูุ ุดูุง ููุงุฑุชโูุง ุฒุฑ ุฑุง ฺฉุณุจ ุฎูุงูุฏ ฺฉุฑุฏ:</p>
<ul>
<li>ุชูุงูุง <strong>ุดุฑุญ ูุฒุงุง ุฏุงุดุชู ฺฉุฏ ุฎูุจ</strong> โจ</li>
<li>ุชูุงูุง <strong>ุดุฑุญ ูุดฺฉูุงุช ุงุญุชูุงู ฺฉู ุงุฒ ุนุฏู ุชุณุช ูุงุญุฏ ุงุฌุงุฏ ูโุดูุฏ</strong> โ๏ธ</li>
<li>ุชูุงูุง <strong>ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ MSTest ุจุฑุง ููุดุชู ู ุงุฌุฑุง ุชุณุชโูุง ูุงุญุฏ</strong> ๐ฅ๏ธ</li>
<li>ุชูุงูุง <strong>ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ NUnit ุจุฑุง ููุดุชู ู ุงุฌุฑุง ุชุณุชโูุง ูุงุญุฏ</strong> ๐ฅ๏ธ</li>
<li>ุชูุงูุง <strong>ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ Moq ุจุฑุง ููุดุชู ุงุดุงุก ุฌุนู (Mock Objects)</strong> ๐ญ</li>
<li>ุชูุงูุง <strong>ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ SpecFlow ุจุฑุง ููุดุชู ูุฑูโุงูุฒุงุฑ ูุทุงุจู ุจุง ูุดุฎุตุงุช ูุดุชุฑ</strong> ๐</li>
<li>ุชูุงูุง <strong>ููุดุชู ุชุณุชโูุง ฺฉู ุงุจุชุฏุง Fail ูโุดููุฏุ ุณูพุณ Pass ุดููุฏ ู ุฏุฑ ููุงุช ูุฑ Refactoring ูุงุฒู ุฑุง ุงูุฌุงู ุฏูุฏ</strong> ๐</li>
</ul>
<hr>
<h2><strong>ูุงุฒููุฏโูุง ูู ๐๏ธ</strong></h2>
<p>ุจุฑุง ุฏุณุชุฑุณ ุจู ูุงูโูุง ฺฉุฏ ุงู ูุตูุ ูโุชูุงูุฏ ุจู ุงู ููฺฉ ูุฑุงุฌุนู ฺฉูุฏ:<br>
<a href="https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH06">https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH06</a> ๐</p>
<h3><strong>ุฏุฑฺฉ ุฏูุงู ุฏุงุดุชู ฺฉ ุชุณุช ุฎูุจ ๐งฉ</strong></h3>
<p>ุจูโุนููุงู ฺฉ ุจุฑูุงููโููุณุ ฺฉุงุฑ ุฑู ฺฉ ูพุฑูฺู ุชูุณุนู ุฌุฏุฏ ฺฉู ุจุฑุงุชุงู ุฌุฐุงุจ ุงุณุช ุจุณุงุฑ ูุฐุชโุจุฎุด ุงุณุชุ ูุฎุตูุตุงู ุงฺฏุฑ ุงูฺฏุฒู ุจุงูุง ุจุฑุง ุงูุฌุงู ุขู ุฏุงุดุชู ุจุงุดุฏ. ุงูุง ููุช ูุงฺฏูุงู ูุฌุจูุฑ ูโุดูุฏ ุจุฑุง ุฑูุน ฺฉ <strong>ุจุงฺฏ (Bug)</strong> ุจู ูพุฑูฺูโุง ุฏฺฏุฑ ุจุฑูุฏุ ุงู ููุถูุน ูโุชูุงูุฏ ุจุณุงุฑ ูุงุงูุฏฺฉููุฏู ุจุงุดุฏ. ูุถุนุช ุจุฏุชุฑ ููุช ุงุณุช ฺฉู ุขู ฺฉุฏุ <strong>ฺฉุฏ ุฎูุฏุชุงู ูุจุงุดุฏ</strong> ู ุดูุง ุฏุฑฺฉ ฺฉุงูู ุงุฒ ูพุดุช ุตุญููโ ุขู ูุฏุงุดุชู ุจุงุดุฏ. ู ุจุฏุชุฑ ุงุฒ ููู ููุช ุงุณุช ฺฉู <strong>ฺฉุฏ ุฎูุฏุชุงู ุจุงุดุฏ</strong> ู ูุญุธูโุง ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูฺฉุฑ ฺฉูุฏ: ยซูุงูุนุงู ุฏุงุดุชู ุจู ฺู ฺุฒ ูฺฉุฑ ูโฺฉุฑุฏูุ!ยป</p>
<p>ูุฑ ฺู ุจุดุชุฑ ุงุฒ ุชูุณุนู ุฌุฏุฏ ฺฉูุงุฑ ฺฏุฐุงุดุชู ุดูุฏ ุชุง ุจู <strong>ูฺฏูุฏุงุฑ ฺฉุฏ ููุฌูุฏ</strong> ุจูพุฑุฏุงุฒุฏุ ุจุดุชุฑ ุจู ุงููุช <strong>ุชุณุช ูุงุญุฏ (Unit Testing)</strong> ูพ ูโุจุฑุฏ. ุจุง ุงูุฒุงุด ุงู ุฏุฑฺฉุ ุจู ูุฒุงุง ูุงูุน <strong>ุงุฏฺฏุฑ ูุชุฏูููฺโูุง ู ุชฺฉูฺฉโูุง ุชุณุช ูุงููุฏ TDD ู BDD</strong> ูพ ุฎูุงูุฏ ุจุฑุฏ.</p>
<hr>
<p>ููุช ูุฏุช ุจูโุนููุงู ุจุฑูุงููโููุณ ูฺฏูุฏุงุฑ ุฑู ฺฉุฏ ุฏฺฏุฑุงู ฺฉุงุฑ ฺฉุฑุฏู ุจุงุดุฏุ ุจุง <strong>ฺฉุฏ ุฎูุจุ ุจุฏ ู ุฒุดุช</strong> ููุงุฌู ูโุดูุฏ. ฺูู ุชุฌุฑุจูโุง ูโุชูุงูุฏ ุจู ุดูุง ุขููุฒุด ุฏูุฏ ฺฉู ฺู ฺฉุงุฑูุง ุฑุง ูุจุงุฏ ุงูุฌุงู ุฏูุฏ ู ฺุฑุงุ ู ุฏุฑ ูุชุฌู ุฑูุด ุจูุชุฑ ุจุฑุง ุจุฑูุงููโููุณ ุงุฏ ุจฺฏุฑุฏ. ฺฉุฏูุง ุจุฏ ููฺฉู ุงุณุช ุจุงุนุซ ุดููุฏ ูุฑุงุฏ ุจุฒูุฏ: ยซูู! ูุงูุนุงู ูู!ยป ู ฺฉุฏูุง ุฒุดุช ููฺฉู ุงุณุช ฺุดูุชุงู ุฑุง ุจุณูุฒุงูุฏ ู ุฐูู ุดูุง ุฑุง ููุฌ ฺฉูุฏ. ๐</p>
<hr>
<p>ููุช ูุณุชูู ุจุง ูุดุชุฑุงู ุฏุฑ ุชูุงุณ ูุณุชุฏ ู ุจู ุขูโูุง <strong>ูพุดุชุจุงู ูู</strong> ูโุฏูุฏุ ุงููุช ุชุฌุฑุจูโ ุฎูุจ ูุดุชุฑ ุฑุง ุฏุฑ ููููุช ฺฉุณุจโูฺฉุงุฑ ูโุจูุฏ. ุจุฑุนฺฉุณุ ุชุฌุฑุจูโ ุจุฏ ูุดุชุฑ ูโุชูุงูุฏ ููุฌุฑ ุจู ูุดุชุฑุงู ุจุณุงุฑ ูุงุฑุงุถุ ุนุตุจุงู ู ุญุช ูพุฑุฎุงุดฺฏุฑ ุดูุฏ ู ูุฑูุด ุจูโุณุฑุนุช ฺฉุงูุด ุงุจุฏุ ุจูโูฺู ุงฺฏุฑ ูุดุชุฑุงู ูุธุฑ ููู ุฎูุฏ ุฑุง ุฏุฑ ุดุจฺฉูโูุง ุงุฌุชูุงุน ู ุณุงุชโูุง ููุฏ ููุชุดุฑ ฺฉููุฏ. ๐๐ฌ</p>
<hr>
<p>ุจูโุนููุงู <strong>ุชฺฉโูุฏ (Tech Lead)</strong>ุ ูุณุฆููุช ุดูุง ุงูุฌุงู <strong>ุจุงุฒุจู ฺฉุฏ ูู (Code Review)</strong> ุงุณุช ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ฺฉุงุฑฺฉูุงู ุงุฒ <strong>ุฑุงูููุง ฺฉุฏููุณ ู ุณุงุณุชโูุง ุดุฑฺฉุช</strong> ูพุฑู ูโฺฉููุฏุ ุจุงฺฏโูุง ุฑุง ุจุฑุฑุณ ู ุงูููุชโุจูุฏ ูโฺฉูุฏ ู ุจู <strong>ูุฏุฑ ูพุฑูฺู</strong> ุฏุฑ ูุฏุฑุช ุชู ุฎูุฏ ฺฉูฺฉ ูโฺฉูุฏ. ููุงุฑุชโูุง ูุงุฒู ุดุงูู: <strong>ูุฏุฑุช ูพุฑูฺู ุณุทุญ ุจุงูุงุ ุฌูุนโุขูุฑ ู ุชุญูู ูุงุฒููุฏโูุงุ ุทุฑุงุญ ูุนูุงุฑุ ุจุฑูุงููโููุณ ูพุงฺฉ (Clean Programming)</strong> ู ุฏุงุดุชู ููุงุฑุชโูุง ุงุฑุชุจุงุท ุฎูุจ ุงุณุช. ๐ค</p>
<p>ูุฏุฑ ูพุฑูฺู ูุนูููุงู ุชููุง ุจู <strong>ุชุญูู ูพุฑูฺู ุจู ูููุน ู ุทุจู ุจูุฏุฌู</strong> ุงููุช ูโุฏูุฏ ู ฺูุฏุงู ุงููุช ุจู ูุญููโ ฺฉุฏููุณ ุดูุง ููโุฏูุฏุ ููู ุงู ุงุณุช ฺฉู ูุฑูโุงูุฒุงุฑ ุจูโูููุน ู ูุทุงุจู ุจุง ุจูุฏุฌู ุชุญูู ุฏุงุฏู ุดูุฏ. ููฺูู ฺฉูุช ฺฉุฏ ูโุชูุงูุฏ ุจุฑูุฏ ุดุฑฺฉุช ุฑุง ุชููุช ุง ุชุฎุฑุจ ฺฉูุฏ. ๐ขโก</p>
<hr>
<p>ุจูโุนููุงู ุชฺฉโูุฏุ ุดูุง ุจู ูุฏุฑ ูพุฑูฺู ู ุชู ูพุฑูฺู ูุฑุงุฑ ุฏุงุฑุฏ. ุฏุฑ ฺฉุงุฑ ุฑูุฒูุฑูุ <strong>ุฌูุณุงุช ุงุณฺฉุฑุงู (Scrum Meetings)</strong> ุจุฑฺฏุฒุงุฑ ูโฺฉูุฏ ู ุจุง ูุดฺฉูุงุช ุฑูุฒูุฑู ุจุฑุฎูุฑุฏ ูโฺฉูุฏ: ุจุฑูุงููโููุณุงู ูุงุฒููุฏ ููุงุจุน ุงุฒ ุชุญููโฺฏุฑุงูุ ุชุณุชุฑูุง ููุชุธุฑ ุฑูุน ุจุงฺฏโูุงุ ู ุบุฑู. ุณุฎุชโุชุฑู ฺฉุงุฑุ ุงูุฌุงู <strong>ุจุงุฒุจู ฺฉุฏ ููฺฉุงุฑุงู (Peer Code Review)</strong> ู ุงุฑุงุฆู ุจุงุฒุฎูุฑุฏ ุณุงุฒูุฏู ุงุณุช ฺฉู ูุชุฌู ูุทููุจ ุจุฏูุฏ ุจุฏูู ุงูฺฉู ฺฉุณ ุขุฒุฑุฏู ุดูุฏ. ุจู ููู ุฏูู <strong>ุชุณุช ูุงุญุฏ ู ฺฉุฏููุณ ูพุงฺฉ</strong> ุจุงุฏ ุฌุฏ ฺฏุฑูุชู ุดูุฏ. โ๏ธ</p>
<hr>
<p>ุจู ููู ุฏููุ ุจูโุนููุงู ุชฺฉโูุฏุ ุชุดูู ุจู <strong>TDD</strong> ุจุณุงุฑ ููู ุงุณุช ู ุจูุชุฑู ุฑุงู <strong>ุงูฺฏูุจุฑุฏุงุฑ ุงุฒ ุฎูุฏุชุงู</strong> ุงุณุช. ุญุช ุจุฑูุงููโููุณุงู ุจุง ุชุฌุฑุจู ููฺฉู ุงุณุช ูุณุจุช ุจู TDD ููุงููุช ุฏุงุดุชู ุจุงุดูุฏุ ุฒุฑุง ุงุฏฺฏุฑ ู ูพุงุฏูโุณุงุฒ ุขู <strong>ุฒูุงูโุจุฑ</strong> ุจู ูุธุฑ ูโุฑุณุฏุ ูุฎุตูุตุงู ุฏุฑ ฺฉุฏูุง ูพฺุฏูโุชุฑ. ุงูุง ุงฺฏุฑ ูโุฎูุงูุฏ ูุงูุนุงู ูุทูุฆู ุจุงุดุฏ ฺฉู ูพุณ ุงุฒ ููุดุชู ฺฉุฏุ ฺฉูุช ุขู ุชุถูู ุดุฏู ู ุจุงฺฏ ุจู ุดูุง ุจุงุฒููโฺฏุฑุฏุฏุ <strong>TDD ฺฉ ุฑูุด ุนุงู ุจุฑุง ุงุฑุชูุง ููุงุฑุชโูุง ุดูุงุณุช</strong>. ๐ก</p>
<hr>
<p>ููฺููุ ูุฒุงู ุงููุช ุชุณุช ูุงุญุฏ ุจู <strong>ุญุณุงุณุช ูุฑูโุงูุฒุงุฑ</strong> ุจุณุชฺฏ ุฏุงุฑุฏ. ุจุงฺฏ ุฏุฑ ฺฉ ุงูพูฺฉุดู ุณุงุฏู ุงุฏุฏุงุดุชโุจุฑุฏุงุฑ ูุงุฌุนูโุขูุฒ ูุณุชุ ุงูุง ุฏุฑ <strong>ุตูุนุช ุฏูุงุน ุง ุณูุงูุช</strong> ููฺฉู ุงุณุช ุนูุงูุจ ูุฑฺฏุจุงุฑ ุฏุงุดุชู ุจุงุดุฏ. ูุซุงูโูุง: ููุดฺฉ ูุฏุงุชโุดุฏู ุจู ุณู ุบุฑูุธุงูุงูุ ุชุฌูุฒุงุช ูพุฒุดฺฉ ฺฉู ุจู ุฏูู ุจุงฺฏ ุจุงุนุซ ูุฑฺฏ ุจูุงุฑ ูโุดูุฏ ุง ูุฑูโุงูุฒุงุฑ ุงูู ููุงูพูุง ฺฉู ุจุงุนุซ ุณููุท ูโุดูุฏ. โ๏ธ๐ฅ</p>
<p>ูุฑ ฺู ูุฑูโุงูุฒุงุฑ ุญุณุงุณโุชุฑ ุจุงุดุฏุ <strong>ุชฺฉูฺฉโูุง ุชุณุช ูุงุญุฏ ูุงููุฏ TDD ู BDD</strong> ุงููุช ุจุดุชุฑ ูพุฏุง ูโฺฉููุฏ. ููฺฏุงู ููุดุชู ูุฑูโุงูุฒุงุฑุ ุชุตูุฑ ฺฉูุฏ ุงฺฏุฑ ุดูุง ูุดุชุฑ ุจูุฏุฏ ู ฺฉุฏ ุฎุฑุงุจ ุดุฏุ ฺู ูพุงูุฏ ุฏุงุดุชุ ฺฺฏููู ุจุฑ ุฎุงููุงุฏูุ ุฏูุณุชุงู ู ููฺฉุงุฑุงู ุชุฃุซุฑ ูโฺฏุฐุงุดุชุ ููฺูู ูพุงูุฏูุง <strong>ุงุฎูุงู ู ูุงููู</strong> ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. โ๏ธ๐จโ๐ฉโ๐งโ๐ฆ</p>
<hr>
<p>ุจุง ุงูฺฉู ฺฏูุชู ูโุดูุฏ: &quot;ุจุฑูุงููโููุณ ูุจุงุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุชุณุช ฺฉูุฏ&quot;ุ ุงู ุชููุง ุฒูุงู ุตุญุญ ุงุณุช ฺฉู <strong>ฺฉุฏ ุชูุงู ุดุฏู ู ุขูุงุฏู ุชุณุช ูุจู ุงุฒ ุชููุฏ</strong> ุจุงุดุฏ. ุฏุฑ ุทูู ุจุฑูุงููโููุณุ ุจุฑูุงููโููุณุงู ููุดู ุจุงุฏ <strong>ฺฉุฏ ุฎูุฏ ุฑุง ุชุณุช ฺฉููุฏ</strong>.</p>
<p>ุชุณุช ูุงุญุฏ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ <strong>ุนุงุฏุงุช ุจุฑูุงููโููุณ ูพุงฺฉ</strong> ุงุฌุงุฏ ฺฉูุฏ: ุงุจุชุฏุง ุชุณุช ูโููุณุฏุ ุณูพุณ ฺฉุฏ ฺฉุงู ุจุฑุง ููููุช ุชุณุช ุงุถุงูู ูโฺฉูุฏ ู ุจุนุฏ ฺฉุฏ ุฑุง ุจุงุฒุณุงุฒ (Refactor) ูโฺฉูุฏ. ุงู ฺุฑุฎู ุจุงุนุซ ูโุดูุฏ ฺฉุฏ ุดูุง <strong>ุฎูุงูุงุชุฑุ ูุงุจู ูฺฏูุฏุงุฑ ู ูุงุจู ุงุนุชูุงุฏ</strong> ุจุงุดุฏ. ๐</p>
<hr>
<p>ุฏุฑ ุญู ููุดุชู ฺฉุฏุ ุชุณุชโูุง ุจุงุฏ <strong>Atomic ุง ุชฺฉ ูุธููโุง</strong> ุจุงุดูุฏุ ุนู ูุฑ ุชุณุช ููุท ฺฉ ูฺฺฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ุชุณุช ุจุงุฏ <strong>ุชฺฉุฑุงุฑูพุฐุฑุ ูุงุจู ุงุทููุงู ู ุณุฑุน (ููโุซุงููโุง)</strong> ุจุงุดุฏ. ฺฉุฏูุง ุชุณุช ุทููุงู ุง ูุงุจุณุชู ุจู ุฏฺฏุฑ ุชุณุชโูุง ููุงุณุจ ูุณุชูุฏ. ุงฺฏุฑ ูุงุฒ ุจู ฺฉ ุซุงูู ุง ุจุดุชุฑ ุฏุงุฑูุฏุ ุจุงุฏ <strong>Refactor ุง ุงุณุชูุงุฏู ุงุฒ Mock Objects</strong> ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. โฑ๏ธ๐งช</p>
<hr>
<p>ฺุฑุฎูโ ุชุณุช ูุงุญุฏ ุดุงูู ูุฑุงุญู ุฒุฑ ุงุณุช:</p>
<ol>
<li>ููุดุชู <strong>ฺฉูุงุณ ุชุณุช ู ุดุจูโฺฉุฏ (Pseudocode)</strong></li>
<li>ููุดุชู <strong>ูุชุฏูุง ุชุณุช ฺฉู ุงุจุชุฏุง Fail ูโุดููุฏ</strong></li>
<li>ููุดุชู ฺฉุฏ ฺฉุงู ุจุฑุง <strong>Pass ุดุฏู ุชุณุช</strong></li>
<li><strong>Refactor ฺฉุฏ</strong> ู ุงุฏุงูู ุจู ุชุณุช ุจุนุฏ</li>
</ol>
<hr>
<p>ุฏุฑ ุงุฏุงููุ ูุตู ุจู ุจุฑุฑุณ <strong>Use Caseุ Test Designุ Test Case ู Test Suite</strong> ู ูุญูู ุชุนุงูู ุขูโูุง ุจุง ฺฉุฏฺฏุฑ ูโูพุฑุฏุงุฒุฏ:</p>
<ul>
<li><strong>Use Case:</strong> ุฌุฑุงู ุนููุงุช ฺฉ ุนููุงุช ูุงุญุฏุ ูุงููุฏ ุงูุฒูุฏู ุฑฺฉูุฑุฏ ูุดุชุฑ.</li>
<li><strong>Test Design:</strong> ุดุงูู ฺฉ ุง ฺูุฏ <strong>Test Case</strong> ุจุฑุง ุณูุงุฑููุง ูุฎุชูู Use Case.</li>
<li><strong>Test Case:</strong> ูโุชูุงูุฏ ุฏุณุช ุง ุฎูุฏฺฉุงุฑ ุจุงุดุฏ.</li>
<li><strong>Test Suite:</strong> ูุฑูโุงูุฒุงุฑ ุจุฑุง ฺฉุดูุ ุงุฌุฑุง ุชุณุชโูุง ู ฺฏุฒุงุฑุด ูุชุงุฌ ุจู ฺฉุงุฑุจุฑ ููุง.</li>
</ul>
<p>ุชูุณุนูโุฏููุฏฺฏุงู ุจุงุฏ ุฑู ููุดุชู ู ุงุณุชูุงุฏู ุงุฒ <strong>ุชุณุช ูุงุญุฏ ุฎูุฏ</strong> ุชูุฑฺฉุฒ ฺฉููุฏ ุชุง ฺฉุฏูุง ฺฉู <strong>Failุ Pass ู Refactor</strong> ูโุดููุฏุ ุชููุฏ ฺฉููุฏ. ๐ฅ๏ธโ</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-1.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3><strong>ุฏุฑฺฉ ุงุจุฒุงุฑูุง ุชุณุช ๐๏ธ</strong></h3>
<p>ุฏุฑ ุงู ูุตูุ ูุง <strong>ุชุณุชโูุง ูุงุญุฏ (Unit Tests)</strong> ู <strong>ุงุดุงุก ุฌุนู (Mock Objects)</strong> ุฎูุงูู ููุดุช. ุงูุง ูุจู ุงุฒ ุขูุ ุจุงุฏ ุจุง <strong>ุงุจุฒุงุฑูุง ฺฉู ุจูโุนููุงู ุจุฑูุงููโููุณ C# ุฏุฑ ุฏุณุชุฑุณ ุฏุงุฑู</strong> ุขุดูุง ุดูู.</p>
<p>ุงุจุฒุงุฑูุง ุชุณุช ฺฉู ุฏุฑ <strong>Visual Studio</strong> ุจุฑุฑุณ ูโฺฉูู ุนุจุงุฑุชูุฏ ุงุฒ: <strong>MSTestุ NUnitุ Moq ู SpecFlow</strong>. ูุฑ ุงุจุฒุงุฑ ุชุณุชุ ฺฉ <strong>ฺฉูุณูู ุงูพูฺฉุดู</strong> ู ูพุฑูฺู ุชุณุช ูุฑุจูุทู ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ.</p>
<ul>
<li><strong>NUnit ู MSTest</strong> ูุฑูโูุฑฺฉโูุง ุชุณุช ูุงุญุฏ ูุณุชูุฏ. NUnit ูุณุจุช ุจู MSTest ูุฏูโุชุฑ ุงุณุช ู <strong>API ฺฉุงููโุชุฑ ู ุจุงูุบโุชุฑ</strong> ุฏุงุฑุฏ. ุดุฎุตุงู <strong>NUnit ุฑุง ุชุฑุฌุญ ูโุฏูู</strong>.</li>
<li><strong>Moq</strong> ุจุง MSTest ู NUnit ูุชูุงูุช ุงุณุชุ ุฒุฑุง ฺฉ ูุฑูโูุฑฺฉ ุชุณุช ูุณุชุ ุจูฺฉู ฺฉ <strong>ูุฑูโูุฑฺฉ Mocking</strong> ุงุณุช. ูุฑูโูุฑฺฉ Mocking ฺฉูุงุณโูุง ูุงูุน ูพุฑูฺู ุดูุง ุฑุง ุจุง ูพุงุฏูโุณุงุฒโูุง ุฌุนู (Fake) ุฌุงฺฏุฒู ูโฺฉูุฏ ุชุง ุจุฑุง ุงูุฏุงู ุชุณุช ุงุณุชูุงุฏู ุดูุฏ. ูโุชูุงู Moq ุฑุง ููุฑุงู ุจุง MSTest ุง NUnit ุงุณุชูุงุฏู ฺฉุฑุฏ.</li>
<li><strong>SpecFlow</strong> ฺฉ ูุฑูโูุฑฺฉ <strong>BDD</strong> ุงุณุช. ุงุจุชุฏุง ฺฉ <strong>Feature</strong> ุฏุฑ ูุงู Feature ูโููุณุฏ ุจุง ุฒุจุงู ฺฉู ูู ฺฉุงุฑุจุฑ ู ูู ุจุฑูุงููโููุณ ูู ูุชูุฌู ูโุดููุฏ. ุณูพุณ ฺฉ <strong>Step File</strong> ุจุฑุง ุขู Feature ุชููุฏ ูโุดูุฏ ฺฉู ุดุงูู ูุชุฏูุง ุจูโุตูุฑุช ฺฏุงูโูุง ูุงุฒู ุจุฑุง ูพุงุฏูโุณุงุฒ Feature ุงุณุช.</li>
</ul>
<p>ุชุง ูพุงุงู ุงู ูุตูุ ุดูุง ุฎูุงูุฏ ุฏุงูุณุช ูุฑ ุงุจุฒุงุฑ ฺู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ ู ูุงุฏุฑ ุฎูุงูุฏ ุจูุฏ ุงุฒ ุขูโูุง ุฏุฑ ูพุฑูฺูโูุง ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ูพุณ ุจุงุฏ ุจุง <strong>MSTest</strong> ุดุฑูุน ฺฉูู. ๐</p>
<hr>
<h3><strong>MSTest ๐งช</strong></h3>
<p>ุฏุฑ ุงู ุจุฎุดุ <strong>ูุฑูโูุฑฺฉ MSTest ุฑุง ูุตุจ ู ูพฺฉุฑุจูุฏ</strong> ุฎูุงูู ฺฉุฑุฏ. ฺฉ <strong>ฺฉูุงุณ ุชุณุช</strong> ุจุง <strong>ูุชุฏูุง ุชุณุช</strong> ุฎูุงูู ููุดุช ู ุขู ุฑุง ููุฏุงุฑุฏู ุงููู (Initialize) ูโฺฉูู. ููฺูู <strong>Assembly Setup ู Cleanupุ Class Cleanupุ Method Cleanup</strong> ู <strong>Assertions</strong> ุฑุง ุงูุฌุงู ูโุฏูู.</p>
<p>ุจุฑุง ูุตุจ <strong>MSTest Framework</strong> ุงุฒ <strong>ุฎุท ูุฑูุงู (Command Line)</strong> ุฏุฑ Visual Studioุ ุงุจุชุฏุง ุจุงุฏ <strong>Package Manager Console</strong> ุฑุง ุงุฒ ูุณุฑ ุฒุฑ ุจุงุฒ ฺฉูุฏ:</p>
<p><strong>Tools | NuGet Package Manager | Package Manager Console</strong> ๐ป</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-2.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุณูพุณุ ุณู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง <strong>ูุฑูโูุฑฺฉ MSTest ูุตุจ ุดูุฏ</strong>:</p>
<pre class="hljs"><code><span class="hljs-built_in">install-package</span> mstest.testframework
<span class="hljs-built_in">install-package</span> mstest.testadapter
<span class="hljs-built_in">install-package</span> microsoft.net.tests.sdk
</code></pre>
<hr>
<p>ุจูโุทูุฑ ุฌุงฺฏุฒูุ ูโุชูุงูุฏ ฺฉ ูพุฑูฺู ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ ู ฺฏุฒูู <strong>Unit Test Project (.NET Framework)</strong> ุฑุง ุงุฒ ูุณุฑ <strong>Context | Add</strong> ุฏุฑ <strong>Solution Explorer</strong> ุงูุชุฎุงุจ ฺฉูุฏ. ๐ฅ๏ธ</p>
<p>ุฏุฑ ูุงูโฺฏุฐุงุฑ ูพุฑูฺูโูุง ุชุณุชุ ุงุณุชุงูุฏุงุฑุฏ ูพุฐุฑูุชูโุดุฏู ุจู ุดฺฉู ุฒุฑ ุงุณุช:</p>
<pre class="hljs"><code>&lt;ProjectName&gt;.Tests
</code></pre>
<p>ุงู ุงุณุชุงูุฏุงุฑุฏ ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูพุฑูฺูโูุง ุชุณุช <strong>ุจูโุฑุงุญุช ุจุง ูพุฑูฺู ุงุตู ูุฑุชุจุท ุดููุฏ</strong> ู ุขูโูุง ุฑุง ุงุฒ ูพุฑูฺูโุง ฺฉู ุชุญุช ุชุณุช ูุฑุงุฑ ุฏุงุฑุฏุ ูุชูุงุฒ ฺฉูุฏ. ๐งฉโ</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-3.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3><strong>ฺฉุฏ ูพุดโูุฑุถ ุชุณุช ูุงุญุฏ ุฏุฑ MSTest ๐งช</strong></h3>
<p>ฺฉุฏ ฺฉู ุฏุฑ ุงุฏุงูู ูโุจูุฏุ <strong>ฺฉุฏ ูพุดโูุฑุถ ุชุณุช ูุงุญุฏ</strong> ุงุณุช ฺฉู ููุช ฺฉ <strong>ูพุฑูฺู MSTest</strong> ุจู <strong>Solution</strong> ุงุถุงูู ูโฺฉูุฏุ ุชููุฏ ูโุดูุฏ. ููุงูโุทูุฑ ฺฉู ูุดุงูุฏู ูโฺฉูุฏุ ุงู ฺฉูุงุณ <strong>Namespace</strong> ุฒุฑ ุฑุง ูุงุฑุฏ ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">using</span> Microsoft.VisualStudio.TestTools.UnitTesting;
</code></pre>
<ul>
<li><strong>[TestClass]</strong> ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงู ฺฉูุงุณ ฺฉ <strong>ฺฉูุงุณ ุชุณุช</strong> ุจุฑุง <strong>MS Test Framework</strong> ุงุณุช.</li>
<li><strong>[TestMethod]</strong> ูุดุฎุต ูโฺฉูุฏ ฺฉู ูุชุฏ ฺฉ <strong>ูุชุฏ ุชุณุช</strong> ุงุณุช. ุชูุงู ฺฉูุงุณโูุง ฺฉู ุงู ูฺฺฏ ุฑุง ุฏุงุฑูุฏุ ุฏุฑ <strong>Test Explorer</strong> ุธุงูุฑ ูโุดููุฏ.</li>
</ul>
<blockquote>
<p>ูฺฺฏโูุง <strong>[TestClass] ู [TestMethod] ุงุฌุจุงุฑ ูุณุชูุฏ</strong>.</p>
</blockquote>
<p>ููููู ฺฉุฏ ูพุดโูุฑุถ:</p>
<pre class="hljs"><code><span class="hljs-keyword">namespace</span> <span class="hljs-title">CH05_MSTestUnitTesting.Tests</span>
{
    [<span class="hljs-meta">TestClass</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UnitTest1</span>
    {
        [<span class="hljs-meta">TestMethod</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestMethod1</span>()</span>
        {
        }
    }
}
</code></pre>
<hr>
<h3><strong>ูฺฺฏโูุง ู ูุชุฏูุง ุงุฎุชุงุฑ ุจุฑุง workflow ฺฉุงูู ุชุณุช</strong></h3>
<p>ุนูุงูู ุจุฑ ููุงุฑุฏ ุจุงูุงุ ูโุชูุงู ูฺฺฏโูุง ุงุฎุชุงุฑ ุฒุฑ ุฑุง ูุฒ ุชุฑฺฉุจ ฺฉุฑุฏ:</p>
<ul>
<li><code>[AssemblyInitialize]</code></li>
<li><code>[AssemblyCleanup]</code></li>
<li><code>[ClassInitialize]</code></li>
<li><code>[ClassCleanup]</code></li>
<li><code>[TestInitialize]</code></li>
<li><code>[TestCleanup]</code></li>
</ul>
<blockquote>
<p>ููุงูโุทูุฑ ฺฉู ุงุฒ ูุงู ุขูโูุง ูพุฏุงุณุชุ ูฺฺฏโูุง <strong>Initialize</strong> ุจุฑุง ุงูุฌุงู ููุฏุงุฑุฏู ุงููู ุฏุฑ ุณุทุญ <strong>Assemblyุ Class ู Method</strong> ูุจู ุงุฒ ุงุฌุฑุง ุชุณุชโูุง ุงุณุชูุงุฏู ูโุดููุฏ. ูฺฺฏโูุง <strong>Cleanup</strong> ูุฒ ุจุนุฏ ุงุฒ ุงุฌุฑุง ุชุณุชโูุง ุจุฑุง ุงูุฌุงู ุนููุงุช ูพุงฺฉโุณุงุฒ ููุฑุฏ ูุงุฒ ุงุฌุฑุง ูโุดููุฏ.</p>
</blockquote>
<hr>
<h3><strong>ูุชุฏ ฺฉูฺฉ ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฎุฑูุฌ ุชุณุชโูุง</strong></h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteSeparatorLine</span>()</span>
{
    Debug.WriteLine(<span class="hljs-string">&quot;--------------------------------------------------&quot;</span>);
}
</code></pre>
<hr>
<h3><strong>ูุซุงูโูุง Initialize ู Cleanup</strong></h3>
<h4><strong>AssemblyInitialize</strong></h4>
<pre class="hljs"><code>[<span class="hljs-meta">AssemblyInitialize</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AssemblyInit</span>(<span class="hljs-params">TestContext context</span>)</span>
{
    WriteSeparatorLine();
    Debug.WriteLine(<span class="hljs-string">&quot;Optional: AssemblyInitialize&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;Executes once before the test run.&quot;</span>);
}
</code></pre>
<h4><strong>ClassInitialize</strong></h4>
<pre class="hljs"><code>[<span class="hljs-meta">ClassInitialize</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestFixtureSetup</span>(<span class="hljs-params">TestContext context</span>)</span>
{
    WriteSeparatorLine();
    Console.WriteLine(<span class="hljs-string">&quot;Optional: ClassInitialize&quot;</span>);
    Console.WriteLine(<span class="hljs-string">&quot;Executes once for the test class.&quot;</span>);
}
</code></pre>
<h4><strong>TestInitialize</strong></h4>
<pre class="hljs"><code>[<span class="hljs-meta">TestInitialize</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Setup</span>()</span>
{
    WriteSeparatorLine();
    Debug.WriteLine(<span class="hljs-string">&quot;Optional: TestInitialize&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;Runs before each test.&quot;</span>);
}
</code></pre>
<h4><strong>AssemblyCleanup</strong></h4>
<pre class="hljs"><code>[<span class="hljs-meta">AssemblyCleanup</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AssemblyCleanup</span>()</span>
{
    WriteSeparatorLine();
    Debug.WriteLine(<span class="hljs-string">&quot;Optional: AssemblyCleanup&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;Executes once after the test run.&quot;</span>);
}
</code></pre>
<h4><strong>ClassCleanup</strong></h4>
<pre class="hljs"><code>[<span class="hljs-meta">ClassCleanup</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestFixtureTearDown</span>()</span>
{
    WriteSeparatorLine();
    Debug.WriteLine(<span class="hljs-string">&quot;Optional: ClassCleanup&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;Runs once after all tests in the class have been executed.&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;Not guaranteed that it executes instantly after all tests the class have executed.&quot;</span>);
}
</code></pre>
<h4><strong>TestCleanup</strong></h4>
<pre class="hljs"><code>[<span class="hljs-meta">TestCleanup</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TearDown</span>()</span>
{
    WriteSeparatorLine();
    Debug.WriteLine(<span class="hljs-string">&quot;Optional: TestCleanup&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;Runs after each test.&quot;</span>);
    Assert.Fail();
}
</code></pre>
<hr>
<p>ูพุณ ุงุฒ ูุฑุงุฑ ุฏุงุฏู ุงู ฺฉุฏุ <strong>Solution</strong> ุฑุง Build ฺฉูุฏ. ุณูพุณ ุงุฒ ููู <strong>Test</strong> ฺฏุฒูู <strong>Test Explorer</strong> ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ุฏุฑ <strong>Test Explorer</strong> ูโุชูุงูุฏ ุชุณุชโูุง ุฑุง ูุดุงูุฏู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ูุดุงู ุฏุงุฏู ุดุฏูุ ูููุฒ ูฺ ุชุณุช ุงุฌุฑุง ูุดุฏู ุงุณุช. โ</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-4.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ูพุณ ุจุงุฏ ุชููุง ุชุณุช ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉูู. ๐ฌ</p>
<p>ูุง ูู! ุชุณุช ูุง <strong>Fail ุดุฏ</strong>ุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ุฒุฑ ูุดุงูุฏู ูโฺฉูุฏ: โ</p>
<p>ุงู ููุงู ูุฑุญููโุง ุงุณุช ฺฉู <strong>ฺุฑุฎู TDD</strong> ุขุบุงุฒ ูโุดูุฏ: ุงุจุชุฏุง ุชุณุชโูุง Fail ูโุดููุฏุ ุณูพุณ ฺฉุฏ ฺฉุงู ููุดุชู ูโุดูุฏ ุชุง ุชุณุชโูุง <strong>Pass</strong> ุดููุฏุ ู ุฏุฑ ููุงุช ฺฉุฏ <strong>Refactor</strong> ูโุดูุฏ. ๐</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-5.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ฺฉุฏ <strong>TestMethod1()</strong> ุฑุง ุจู ุดฺฉู ุฒุฑ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ ู ุณูพุณ ุชุณุช ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">TestMethod</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestMethod1</span>()</span>
{
    WriteSeparatorLine();
    Debug.WriteLine(<span class="hljs-string">&quot;Required: TestMethod&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;A test method to be run by the test runner.&quot;</span>);
    Debug.WriteLine(<span class="hljs-string">&quot;This method will appear in the test list.&quot;</span>);
    Assert.IsTrue(<span class="hljs-literal">true</span>);
}
</code></pre>
<p>ูพุณ ุงุฒ ุงู ุชุบุฑุ ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู <strong>ุชุณุช ุฏุฑ Test Explorer ุจุง ููููุช Pass ุดุฏ</strong> โุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ุจุนุฏ ููุงุด ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<p>ุงู ูุดุงูโุฏููุฏู ูุฑุญูู ุฏูู ฺุฑุฎู <strong>TDD</strong> ุงุณุช: ููุดุชู ฺฉุฏ ฺฉู ุชุณุชโูุง ุฑุง ูพุงุณ ูโฺฉูุฏ. ๐</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-6.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ูพุณุ ููุงูโุทูุฑ ฺฉู ุงุฒ <strong>ุชุตุงูุฑ ูุจู</strong> ูุดุงูุฏู ูโฺฉูุฏ:</p>
<ul>
<li><strong>ุชุณุชโูุง ฺฉู ุงุฌุฑุง ูุดุฏูโุงูุฏ</strong> ุขุจ ูุณุชูุฏ ๐ต</li>
<li><strong>ุชุณุชโูุง ฺฉู Fail ุดุฏูโุงูุฏ</strong> ูุฑูุฒ ูุณุชูุฏ ๐ด</li>
<li><strong>ุชุณุชโูุง ฺฉู Pass ุดุฏูโุงูุฏ</strong> ุณุจุฒ ูุณุชูุฏ โ</li>
</ul>
<p>ุจุฑุง ูุดุงูุฏู ุฌุฒุฆุงุช ุจุดุชุฑุ ูุณุฑ ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:<br>
<strong>Tools | Options | Debugging | General</strong> ู ฺฏุฒูู <strong>Redirect all Output Window text to the Immediate Window</strong> ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.<br>
ุณูพุณ ุจู ูุณุฑ <strong>Run | Debug All Tests</strong> ุจุฑูุฏ.</p>
<p>ููฺฏุงู ฺฉู ุชุณุชโูุง ุงุฌุฑุง ูโุดููุฏ ู ุฎุฑูุฌ ุฏุฑ <strong>Immediate Window</strong> ฺุงูพ ูโุดูุฏุ ุจูโูุถูุญ ูโุชูุงูุฏ <strong>ุชุฑุชุจ ุงุฌุฑุง Attributeูุง</strong> ุฑุง ูุดุงูุฏู ฺฉูุฏ.<br>
ุชุตูุฑ ุฒุฑ ุฎุฑูุฌ ูุชุฏูุง ุชุณุช ูุง ุฑุง ูุดุงู ูโุฏูุฏุ ฺฉู ุชุฑุชุจ ู ุนููฺฉุฑุฏ ูุฑ Attribute ูุดุฎุต ุงุณุช. ๐ฅ๏ธ๐งช</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-7.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ููุงูโุทูุฑ ฺฉู ุชุงฺฉููู ูุดุงูุฏู ฺฉุฑุฏูโุงุฏุ ูุง ุงุฒ ุฏู ูุชุฏ <strong>Assert</strong> ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู:</p>
<ul>
<li><code>Assert.Fail()</code></li>
<li><code>Assert.IsTrue(true)</code> โ</li>
</ul>
<p>ฺฉูุงุณ <strong>Assert</strong> ุจุณุงุฑ ฺฉุงุฑุจุฑุฏ ุงุณุช ู ุจูุงุจุฑุงู ุขุดูุง ุจุง <strong>ูุชุฏูุง ููุฌูุฏ ุฏุฑ ุงู ฺฉูุงุณ ุจุฑุง ุชุณุช ูุงุญุฏ</strong> ุจุณุงุฑ ููุฏ ุงุณุช.</p>
<p>ูุชุฏูุง ูุงุจู ุงุณุชูุงุฏู ุฏุฑ ฺฉูุงุณ Assert ุจู ุดุฑุญ ุฒุฑ ูุณุชูุฏ: ๐</p>
<p>(ุฏุฑ ุงุฏุงูู ูุตูุ ูุฑ ฺฉ ุงุฒ ุงู ูุชุฏูุง ุจุง ุชูุถุญ ฺฉุงุฑุจุฑุฏ ู ูุซุงู ุงุฑุงุฆู ูโุดููุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ุขูโูุง ุฏุฑ <strong>Unit Testing</strong> ุงุณุชูุงุฏู ฺฉูุฏ.)</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-8.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุญุงูุง ฺฉู ุจุง <strong>MSTest</strong> ุขุดูุง ุดุฏูุ ุฒูุงู ุขู ุฑุณุฏู ฺฉู <strong>NUnit</strong> ุฑุง ุจุฑุฑุณ ฺฉูู. ๐งช</p>
<hr>
<h3><strong>NUnit</strong></h3>
<p>ุงฺฏุฑ <strong>NUnit</strong> ุจุฑุง Visual Studio ูุตุจ ูุดุฏู ุงุณุชุ ุขู ุฑุง ุงุฒ ูุณุฑ ุฒุฑ ุฏุงูููุฏ ู ูุตุจ ฺฉูุฏ:<br>
<strong>Extensions | Manage Extensions</strong></p>
<p>ุณูพุณ ฺฉ <strong>NUnit Test Project (.NET Core)</strong> ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ.</p>
<p>ฺฉุฏ ุฒุฑ ฺฉูุงุณ ูพุดโูุฑุถ ุงุณุช ฺฉู NUnit ุงุฌุงุฏ ูโฺฉูุฏุ ุจู ูุงู <strong>Tests</strong>:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Tests</span>
{
    [<span class="hljs-meta">SetUp</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Setup</span>()</span>
    {
    }

    [<span class="hljs-meta">Test</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Test1</span>()</span>
    {
        Assert.Pass();
    }
}
</code></pre>
<hr>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุชุฏ <strong>Test1</strong> ูุดุงูุฏู ูโฺฉูุฏุ ูุชุฏูุง ุชุณุช ูุฒ ุงุฒ ฺฉูุงุณ <strong>Assert</strong> ุงุณุชูุงุฏู ูโฺฉููุฏุ ุฏุฑุณุช ูุงููุฏ <strong>MSTest</strong> ุจุฑุง ุจุฑุฑุณ Assertions ุฏุฑ ฺฉุฏ.</p>
<p>ฺฉูุงุณ <strong>Assert ุฏุฑ NUnit</strong> ูุชุฏูุง ูุฎุชูู ุฑุง ุฏุฑ ุงุฎุชุงุฑ ูุง ูุฑุงุฑ ูโุฏูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุชุฏูุง ฺฉู ุจุง <strong>[NUnit]</strong> ูุดุฎุต ุดุฏูโุงูุฏุ ุงุฎุชุตุงุต <strong>NUnit</strong> ูุณุชูุฏ ู ุณุงุฑ ูุชุฏูุง ุฏุฑ <strong>MSTest</strong> ูุฒ ููุฌูุฏูุฏ. ๐๏ธ</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-9.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3><strong>ฺุฑุฎู ุญุงุช NUnit ๐</strong></h3>
<p>ฺุฑุฎู ุญุงุช <strong>NUnit</strong> ุจู ุดฺฉู ุฒุฑ ุงุณุช:</p>
<ol>
<li><strong>TestFixtureSetup</strong> ูุจู ุงุฒ ุงุฌุฑุง ุงููู <strong>SetUp</strong> ุงุฌุฑุง ูโุดูุฏ (ฺฉ ุจุงุฑ).</li>
<li><strong>SetUp</strong> ูุจู ุงุฒ ูุฑ ุชุณุช ุงุฌุฑุง ูโุดูุฏ.</li>
<li>ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุฑ ุชุณุชุ <strong>TearDown</strong> ุงุฌุฑุง ูโุดูุฏ.</li>
<li>ุฏุฑ ููุงุชุ <strong>TestFixtureTearDown</strong> ุจุนุฏ ุงุฒ ุขุฎุฑู <strong>TearDown</strong> ุงุฌุฑุง ูโุดูุฏ (ฺฉ ุจุงุฑ).</li>
</ol>
<p>ุญุงูุง ฺฉูุงุณ <strong>Tests</strong> ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ุจุชูุงูู ฺุฑุฎู ุญุงุช NUnit ุฑุง ุฏุฑ ุนูู ูุดุงูุฏู ฺฉูู:</p>
<pre class="hljs"><code><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Diagnostics;
<span class="hljs-keyword">using</span> NUnit.Framework;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_NUnitUnitTesting.Tests</span>
{
    [<span class="hljs-meta">TestFixture</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Tests</span> : <span class="hljs-title">IDisposable</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestClass</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Constructor&quot;</span>);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Dispose</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Dispose&quot;</span>);
        }

        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteSeparatorLine</span>()</span>
        {
            Debug.WriteLine(<span class="hljs-string">&quot;--------------------------------------------------&quot;</span>);
        }

        [<span class="hljs-meta">OneTimeSetUp</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OneTimeSetup</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;OneTimeSetUp&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;This method is run once before any tests in this class are run.&quot;</span>);
        }

        [<span class="hljs-meta">OneTimeTearDown</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OneTimeTearDown</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;OneTimeTearDown&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;This method is run once after all tests in this class have been run.&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;This method runs even when an exception occurs.&quot;</span>);
        }

        [<span class="hljs-meta">SetUp</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Setup</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Setup&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;This method is run before each test method is run.&quot;</span>);
        }

        [<span class="hljs-meta">TearDown</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Teardown</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Teardown&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;This method is run after each test method has been run.&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;This method runs even when an exception occurs.&quot;</span>);
        }

        [<span class="hljs-meta">Test</span>]
        [<span class="hljs-meta">Order(0)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Test1</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Test:Test1&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;Order: 0&quot;</span>);
            Assert.Pass(<span class="hljs-string">&quot;Test 1 passed with flying colours.&quot;</span>);
        }

        [<span class="hljs-meta">Test</span>]
        [<span class="hljs-meta">Order(1)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Test2</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Test:Test2&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;Order: 1&quot;</span>);
            Assert.Inconclusive(<span class="hljs-string">&quot;Test 2 is inconclusive.&quot;</span>);
        }

        [<span class="hljs-meta">Test</span>]
        [<span class="hljs-meta">Order(2)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Test3</span>()</span>
        {
            WriteSeparatorLine();
            Debug.WriteLine(<span class="hljs-string">&quot;Test:Test3&quot;</span>);
            Debug.WriteLine(<span class="hljs-string">&quot;Order: 2&quot;</span>);
            Assert.Fail(<span class="hljs-string">&quot;Test 3 failed dismally.&quot;</span>);
        }
    }
}
</code></pre>
<hr>
<ul>
<li>ูุง <strong>[TestFixture]</strong> ุฑุง ุจู ฺฉูุงุณ ุงุถุงูู ฺฉุฑุฏูโุงู ู ุฑุงุจุท <strong>IDisposable</strong> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงู.</li>
<li>ูุชุฏ <strong>WriteSeparatorLine()</strong> ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฎุฑูุฌ ุฏุจุงฺฏ ุงุณุชูุงุฏู ูโุดูุฏ.</li>
<li><strong>[OneTimeSetUp]</strong> ููุท ฺฉ ุจุงุฑ ูุจู ุงุฒ ุชูุงู ุชุณุชโูุง ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>[OneTimeTearDown]</strong> ุจุนุฏ ุงุฒ ุงุฌุฑุง ููู ุชุณุชโูุง ู ูุจู ุงุฒ Dispose ุดุฏู ฺฉูุงุณ ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>[SetUp]</strong> ูุจู ุงุฒ ูุฑ ุชุณุช ู <strong>[TearDown]</strong> ุจุนุฏ ุงุฒ ูุฑ ุชุณุช ุงุฌุฑุง ูโุดููุฏ.</li>
</ul>
<hr>
<h3>ุชุฑุชุจ ุงุฌุฑุง ุชุณุชโูุง ุจุง ูฺฺฏ [Order]</h3>
<ul>
<li><strong>Test1</strong>: [Order(0)] โ Pass โ</li>
<li><strong>Test2</strong>: [Order(1)] โ Inconclusive โ๏ธ</li>
<li><strong>Test3</strong>: [Order(2)] โ Fail โ</li>
</ul>
<hr>
<p>ููุช ุชูุงู ุชุณุชโูุง ุฑุง ุฏุจุงฺฏ ูโฺฉูุฏุ ุฎุฑูุฌ <strong>Immediate Window</strong> ุชุฑุชุจ ุงุฌุฑุง ูุชุฏูุง ู ฺุฑุฎู ุญุงุช NUnit ุฑุง ูุดุงู ุฎูุงูุฏ ุฏุงุฏ. ๐ฅ๏ธ๐</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-10.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุงฺฉููู ุดูุง ุจุง <strong>MSTest</strong> ู <strong>NUnit</strong> ุขุดูุง ุดุฏูโุงุฏ ู ฺุฑุฎู ุญุงุช ุชุณุช ูุฑ ูุฑูโูุฑฺฉ ุฑุง ุฏุฑ ุนูู ุฏุฏูโุงุฏ. ๐งช<br>
ุญุงูุง ุฒูุงู ุขู ุฑุณุฏู ฺฉู ุจู <strong>Moq</strong> ูฺฏุงู ุจูุฏุงุฒู. ๐</p>
<p>ููุงูโุทูุฑ ฺฉู ุงุฒ ุฌุฏูู ูุชุฏูุง <strong>NUnit</strong> ุฏุฑ ููุงุณู ุจุง ุฌุฏูู ูุชุฏูุง <strong>MSTest</strong> ูุดุงูุฏู ูโฺฉูุฏุ <strong>NUnit</strong> ุงูฺฉุงู ุชุณุช ูุงุญุฏ ุฏููโุชุฑ ู ุจุง ุนููฺฉุฑุฏ ุจูุชุฑ ูุณุจุช ุจู MSTest ุฑุง ูุฑุงูู ูโฺฉูุฏุ ุจู ููู ุฏูู ุจุดุชุฑ ุงุฒ MSTest ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ. โก</p>
<hr>
<h3><strong>Moq</strong></h3>
<p>ฺฉ <strong>Unit Test</strong> ุจุงุฏ ููุท <strong>ูุชุฏ ุชุญุช ุชุณุช</strong> ุฑุง ุจุฑุฑุณ ฺฉูุฏ.<br>
ุจู ูููุฏุงุฑ ุฒุฑ ุชูุฌู ฺฉูุฏ: ๐</p>
<p>ุงฺฏุฑ ูุชุฏ ุชุญุช ุชุณุชุ ูุชุฏูุง ุฏฺฏุฑ ุฑุง ุตุฏุง ุจุฒูุฏโฺู ุฏุฑ ููุงู ฺฉูุงุณ ู ฺู ุฏุฑ ฺฉูุงุณโูุง ุฏฺฏุฑโุฏุฑ ุงู ุตูุฑุช <strong>ูู ุชููุง ูุชุฏ ุชุญุช ุชุณุชุ ุจูฺฉู ูุชุฏูุง ุฏฺฏุฑ ูุฒ ููุฑุฏ ุชุณุช ูุฑุงุฑ ูโฺฏุฑูุฏ</strong>.</p>
<p>ุงู ููุงู ุฌุง ุงุณุช ฺฉู <strong>Moq</strong> ูุงุฑุฏ ุนูู ูโุดูุฏ ู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ <strong>ูุชุฏูุง ูุงุจุณุชู ุฑุง ุจู ุตูุฑุช ุดุจูโุณุงุฒโุดุฏู (Mock) ุฌุงฺฏุฒู ฺฉูุฏ</strong> ุชุง ููุท ูุชุฏ ุงุตู ุชุญุช ุชุณุช ุจุงู ุจูุงูุฏ. ๐ฏ</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-11.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3><strong>Moq โ ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ุดุจูโุณุงุฒโุดุฏู (Mock Objects) ๐๏ธ</strong></h3>
<p>ฺฉ ุงุฒ ุฑุงูโูุง ุญู ูุดฺฉู ุชุณุช ูุชุฏูุง ฺฉู ุจู ูุชุฏูุง ุฏฺฏุฑ ูุงุจุณุชูโุงูุฏุ ุงุณุชูุงุฏู ุงุฒ <strong>ุงุดุงุก ุดุจูโุณุงุฒโุดุฏู (mock/fake objects)</strong> ุงุณุช. ๐ฏ</p>
<ul>
<li>ฺฉ <strong>mock object</strong> ููุท <strong>ูุชุฏ ุฑุง ฺฉู ูโุฎูุงูุฏ ุชุณุช ฺฉูุฏ</strong> ุจุฑุฑุณ ูโฺฉูุฏ.</li>
<li>ุดูุง ูโุชูุงูุฏ ุฑูุชุงุฑ mock ุฑุง ุจู ูุฑ ูุญู ฺฉู ูโุฎูุงูุฏ ุชูุธู ฺฉูุฏ.</li>
<li>ุงฺฏุฑ ุฎูุฏุชุงู ุจุฎูุงูุฏ mock ุจุณุงุฒุฏุ ุฎู ุฒูุฏ ูุชูุฌู ูโุดูุฏ ฺฉู ฺฉุงุฑ ุณุฎุช ู ุฒูุงูโุจุฑ ุงุณุชุ ูุฎุตูุตุงู ุฏุฑ ูพุฑูฺูโูุง ุญุณุงุณ ุจู ุฒูุงู ู ููุช ฺฉุฏ ูพฺุฏู ูโุดูุฏุ ุณุงุฎุช mock ูพฺุฏูโุชุฑ ุฎูุงูุฏ ุดุฏ.</li>
</ul>
<p>ุจู ููู ุฏูู ูุนูููุงู ุงุฒ <strong>ูุฑูโูุฑฺฉโูุง Mock</strong> ุงุณุชูุงุฏู ูโฺฉูู. ุฏู ููููู ูุนุฑูู ุจุฑุง <strong>.NET Framework</strong> ุนุจุงุฑุชโุงูุฏ ุงุฒ <strong>Rhino Mocks</strong> ู <strong>Moq</strong>. โ<br>
ุฏุฑ ุงู ูุตูุ ููุท ุจุง <strong>Moq</strong> ฺฉุงุฑ ูโฺฉูู ฺูู ูุณุจุช ุจู Rhino Mocks ุณุงุฏูโุชุฑ ุงุณุช. ๐</p>
<hr>
<h3>ุฑููุฏ ุชุณุช ุจุง Moq</h3>
<ol>
<li>ุงุจุชุฏุง <strong>mock object</strong> ุฑุง ุงุฌุงุฏ ูโฺฉูู.</li>
<li>ุฑูุชุงุฑ ุขู ุฑุง ูพฺฉุฑุจูุฏ ูโฺฉูู.</li>
<li>ุจุฑุฑุณ ูโฺฉูู ฺฉู ูพฺฉุฑุจูุฏ ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ ู mock ูุฑุงุฎูุงู ุดุฏู ุงุณุช.</li>
</ol>
<blockquote>
<p>ูฺฉุชู: <strong>Moq ููุท ุงุดุงุก ุดุจูโุณุงุฒโุดุฏู ุชููุฏ ูโฺฉูุฏ ู ุฎูุฏุด ฺฉุฏ ุฑุง ุชุณุช ููโฺฉูุฏ</strong>. ูููุฒ ุจู ฺฉ <strong>ูุฑูโูุฑฺฉ ุชุณุช</strong> ูุงููุฏ <strong>NUnit</strong> ูุงุฒ ุฏุงุฑุฏ. ๐งช</p>
</blockquote>
<hr>
<h3>ูุซุงู ุนูู: ุชุฑฺฉุจ Moq ู NUnit</h3>
<ol>
<li>ฺฉ <strong>Console Application</strong> ุฌุฏุฏ ุงุฌุงุฏ ฺฉุฑุฏู ู ูุงู ุขู ุฑุง <code>CH06_Moq</code> ุจฺฏุฐุงุฑุฏ.</li>
<li>ุงูุชุฑูุณ ู ฺฉูุงุณโูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ: <strong>IFoo, Bar, Baz, UnitTests</strong>.</li>
<li>ุงุฒ <strong>NuGet Package Manager</strong>ุ ุจุณุชูโูุง <strong>Moq, NUnit, NUnit3TestAdapter</strong> ุฑุง ูุตุจ ฺฉูุฏ.</li>
</ol>
<h4>ฺฉูุงุณ Bar</h4>
<pre class="hljs"><code><span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_Moq</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span>
    {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> Baz Baz { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Submit</span>()</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }
    }
}
</code></pre>
<ul>
<li>Bar ุดุงูู ฺฉ <strong>property ูุฌุงุฒ ุงุฒ ููุน Baz</strong> ู ฺฉ <strong>ูุชุฏ ูุฌุงุฒ Submit()</strong> ุงุณุช ฺฉู ููุฏุงุฑ <code>false</code> ุจุฑูโฺฏุฑุฏุงูุฏ.</li>
</ul>
<h4>ฺฉูุงุณ Baz</h4>
<pre class="hljs"><code><span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_Moq</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Baz</span>
    {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    }
}
</code></pre>
<ul>
<li>Baz ููุท ฺฉ property ูุฌุงุฒ ุงุฒ ููุน <strong>string</strong> ุฏุงุฑุฏ ุจู ูุงู <strong>Name</strong>.</li>
</ul>
<h4>ุงูุชุฑูุณ IFoo</h4>
<pre class="hljs"><code><span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_Moq</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IFoo</span>
    {
        Bar Bar { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-built_in">int</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">DoSomething</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> <span class="hljs-keyword">value</span></span>)</span>;
        <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">DoSomething</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> number, <span class="hljs-built_in">string</span> <span class="hljs-keyword">value</span></span>)</span>;
        <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">DoSomethingStringy</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> <span class="hljs-keyword">value</span></span>)</span>;
        <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">TryParse</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> <span class="hljs-keyword">value</span>, <span class="hljs-keyword">out</span> <span class="hljs-built_in">string</span> outputValue</span>)</span>;
        <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Submit</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> Bar bar</span>)</span>;
        <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">GetCount</span>()</span>;
        <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span></span>)</span>;
    }
}
</code></pre>
<ul>
<li>ุงู ุงูุชุฑูุณ ุดุงูู ฺูุฏู property ู ูุชุฏ ุงุณุช ู ุงุฑุฌุงุน ุจู ฺฉูุงุณ <strong>Bar</strong> ุฏุงุฑุฏุ ฺฉู ุฎูุฏ Bar ูู ุงุฑุฌุงุน ุจู Baz ุฏุงุฑุฏ.</li>
</ul>
<hr>
<h3>ฺฉูุงุณ UnitTests ุจุฑุง NUnit ู Moq</h3>
<pre class="hljs"><code><span class="hljs-keyword">using</span> Moq;
<span class="hljs-keyword">using</span> NUnit.Framework;
<span class="hljs-keyword">using</span> System;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_Moq</span>
{
    [<span class="hljs-meta">TestFixture</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UnitTests</span>
    {
    }
}
</code></pre>
<hr>
<h3>ูุชุฏ AssertThrows</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">AssertThrows</span>&lt;<span class="hljs-title">TException</span>&gt;(<span class="hljs-params">
    Action action,
    Func&lt;TException, <span class="hljs-built_in">bool</span>&gt; exceptionCondition = <span class="hljs-literal">null</span>
</span>) <span class="hljs-keyword">where</span> TException : Exception</span>
{
    <span class="hljs-keyword">try</span>
    {
        action();
    }
    <span class="hljs-keyword">catch</span> (TException ex)
    {
        <span class="hljs-keyword">if</span> (exceptionCondition != <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> exceptionCondition(ex);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">catch</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<ul>
<li>ุงู ูุชุฏ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู <strong>ุขุง Exception ูุดุฎุต ุดุฏู ูพุฑุชุงุจ ุดุฏู ุงุณุช ุง ูู</strong>. โ</li>
</ul>
<hr>
<h3>ูุซุงูโูุง ุนูู ุจุง Moq</h3>
<h4>ูุชุฏ DoSomethingReturnsTrue</h4>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoSomethingReturnsTrue</span>()</span>
{
    <span class="hljs-keyword">var</span> mock = <span class="hljs-keyword">new</span> Mock&lt;IFoo&gt;();
    mock.Setup(foo =&gt; foo.DoSomething(<span class="hljs-string">&quot;ping&quot;</span>)).Returns(<span class="hljs-literal">true</span>);
    Assert.IsTrue(mock.Object.DoSomething(<span class="hljs-string">&quot;ping&quot;</span>));
}
</code></pre>
<ul>
<li>ุงุฌุงุฏ ฺฉ mock ุงุฒ IFoo</li>
<li>ุชูุธู ูุชุฏ DoSomething ุจุฑุง ููุฏุงุฑ &quot;ping&quot; ฺฉู <strong>true</strong> ุจุฑฺฏุฑุฏุงูุฏ</li>
<li>ุจุฑุฑุณ ุงูฺฉู ุฎุฑูุฌ ูุงูุนุงู <strong>true</strong> ุงุณุช โ</li>
</ul>
<h4>ูุชุฏ DoSomethingReturnsFalse</h4>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoSomethingReturnsFalse</span>()</span>
{
    <span class="hljs-keyword">var</span> mock = <span class="hljs-keyword">new</span> Mock&lt;IFoo&gt;();
    mock.Setup(foo =&gt; foo.DoSomething(<span class="hljs-string">&quot;tracert&quot;</span>)).Returns(<span class="hljs-literal">false</span>);
    Assert.IsFalse(mock.Object.DoSomething(<span class="hljs-string">&quot;tracert&quot;</span>));
}
</code></pre>
<ul>
<li>ูุดุงุจู ูุซุงู ูุจูุ ูู ุจุฑุง ููุฏุงุฑ &quot;tracert&quot; ุฎุฑูุฌ <strong>false</strong> ุจุฑูโฺฏุฑุฏุฏ โ</li>
</ul>
<h4>ูุชุฏ OutArguments</h4>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OutArguments</span>()</span>
{
    <span class="hljs-keyword">var</span> mock = <span class="hljs-keyword">new</span> Mock&lt;IFoo&gt;();
    <span class="hljs-keyword">var</span> outString = <span class="hljs-string">&quot;ack&quot;</span>;
    mock.Setup(foo =&gt; foo.TryParse(<span class="hljs-string">&quot;ping&quot;</span>, <span class="hljs-keyword">out</span> outString)).Returns(<span class="hljs-literal">true</span>);
    Assert.AreEqual(<span class="hljs-string">&quot;ack&quot;</span>, outString);
    Assert.IsTrue(mock.Object.TryParse(<span class="hljs-string">&quot;ping&quot;</span>, <span class="hljs-keyword">out</span> outString));
}
</code></pre>
<ul>
<li>ุชุณุช ุฎุฑูุฌ ุงุฒ ููุน <strong>out parameter</strong> ู ุจุฑุฑุณ ููุฏุงุฑ ุขู</li>
</ul>
<h4>ูุชุฏ RefArguments</h4>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RefArguments</span>()</span>
{
    <span class="hljs-keyword">var</span> instance = <span class="hljs-keyword">new</span> Bar();
    <span class="hljs-keyword">var</span> mock = <span class="hljs-keyword">new</span> Mock&lt;IFoo&gt;();
    mock.Setup(foo =&gt; foo.Submit(<span class="hljs-keyword">ref</span> instance)).Returns(<span class="hljs-literal">true</span>);
    Assert.AreEqual(<span class="hljs-literal">true</span>, mock.Object.Submit(<span class="hljs-keyword">ref</span> instance));
}
</code></pre>
<ul>
<li>ุชุณุช ูุฑูุฏ ุงุฒ ููุน <strong>ref</strong> ู ุจุฑุฑุณ ููุฏุงุฑ ุจุฑฺฏุดุช</li>
</ul>
<h4>ูุชุฏ AccessInvocationArguments</h4>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AccessInvocationArguments</span>()</span>
{
    <span class="hljs-keyword">var</span> mock = <span class="hljs-keyword">new</span> Mock&lt;IFoo&gt;();
    mock.Setup(foo =&gt; foo.DoSomethingStringy(It.IsAny&lt;<span class="hljs-built_in">string</span>&gt;()))
        .Returns((<span class="hljs-built_in">string</span> s) =&gt; s.ToLower());
    Assert.AreEqual(<span class="hljs-string">&quot;i like oranges!&quot;</span>, mock.Object.DoSomethingStringy(<span class="hljs-string">&quot;I LIKE ORANGES!&quot;</span>));
}
</code></pre>
<ul>
<li>ุชุณุช ูุชุฏ ฺฉู ุฑุดุชู ูุฑูุฏ ุฑุง ุจู <strong>ุญุฑูู ฺฉูฺฺฉ</strong> ุชุจุฏู ูโฺฉูุฏ ๐ค</li>
</ul>
<h4>ูุชุฏ ThrowingWhenInvokedWithSpecificParameters</h4>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ThrowingWhenInvokedWithSpecificParameters</span>()</span>
{
    <span class="hljs-keyword">var</span> mock = <span class="hljs-keyword">new</span> Mock&lt;IFoo&gt;();
    mock.Setup(foo =&gt; foo.DoSomething(<span class="hljs-string">&quot;reset&quot;</span>)).Throws&lt;InvalidOperationException&gt;();
    mock.Setup(foo =&gt; foo.DoSomething(<span class="hljs-string">&quot;&quot;</span>)).Throws(<span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">&quot;command&quot;</span>));
    Assert.IsTrue(
        AssertThrows&lt;InvalidOperationException&gt;(() =&gt; mock.Object.DoSomething(<span class="hljs-string">&quot;reset&quot;</span>))
    );
    Assert.IsTrue(
        AssertThrows&lt;ArgumentException&gt;(() =&gt; mock.Object.DoSomething(<span class="hljs-string">&quot;&quot;</span>))
    );
    Assert.Throws(
        Is.TypeOf&lt;ArgumentException&gt;()
          .And.Message.EqualTo(<span class="hljs-string">&quot;command&quot;</span>),
          () =&gt; mock.Object.DoSomething(<span class="hljs-string">&quot;&quot;</span>)
    );
}
</code></pre>
<ul>
<li>ุชูุธู ุฑูุชุงุฑ ุจุฑุง ูพุฑุชุงุจ <strong>Exception</strong> ุจุฑ ุงุณุงุณ ูพุงุฑุงูุชุฑ ูุฑูุฏ โ๏ธ</li>
</ul>
<hr>
<p>โ ุชุง ุงูุฌุง ุดูุง ุฏุฏุฏ ฺฉู ฺฺฏููู ุงุฒ <strong>Moq</strong> ุจุฑุง ุณุงุฎุช <strong>mock objects</strong> ู ุชุณุช ฺฉุฏ ุจุง <strong>NUnit</strong> ุงุณุชูุงุฏู ูโฺฉูู.</p>
<p>ูุฑูโูุฑฺฉ ุจุนุฏ ฺฉู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ <strong>SpecFlow</strong> ุงุณุช ฺฉู ฺฉ ุงุจุฒุงุฑ <strong>BDD</strong> ูโุจุงุดุฏ. ๐งฉ</p>
<h3><strong>SpecFlow โ ุชุณุช ุฑูุชุงุฑ ฺฉุงุฑุจุฑูุญูุฑ (BDD) ๐งฉ</strong></h3>
<p><strong>SpecFlow</strong> ุจุฑุง ูพุงุฏูโุณุงุฒ <strong>BDD (Behavior Driven Development)</strong> ุงุณุชูุงุฏู ูโุดูุฏุ ุฑูุด ุจุฑุง ุชูุณุนู ูุฑูโุงูุฒุงุฑ ฺฉู ุงุฒ <strong>TDD (Test Driven Development)</strong> ุชฺฉุงูู ุงูุชู ุงุณุช. โ</p>
<ul>
<li>ุฏุฑ BDDุ <strong>ุชุณุชโูุง ูุจู ุงุฒ ููุดุชู ฺฉุฏ</strong> ุจุฑ ุงุณุงุณ ุฑูุชุงุฑ ฺฉุงุฑุจุฑ ุทุฑุงุญ ูโุดููุฏ.</li>
<li>ฺฉุงุฑ ุจุง <strong>ูุณุช ูฺฺฏโูุง (Features)</strong> ุดุฑูุน ูโุดูุฏุ ุงู ูฺฺฏโูุง ุจู ุฒุจุงู ุฑุณู ู ฺฉุณุจโูฺฉุงุฑ ููุดุชู ูโุดููุฏ ุชุง <strong>ุชูุงู ุฐโููุนุงู ูพุฑูฺู</strong> ุจุชูุงููุฏ ุขูโูุง ุฑุง ุฏุฑฺฉ ฺฉููุฏ. ๐</li>
<li>ูพุณ ุงุฒ ุชุฃุฏ ู ุชููุฏ ูฺฺฏโูุงุ ุชูุณุนูโุฏููุฏฺฏุงู <strong>Step Definitions</strong> ุฑุง ุจุฑุง ูุฑ ูฺฺฏ ุงุฌุงุฏ ูโฺฉููุฏ.</li>
<li>ุณูพุณ ฺฉ ูพุฑูฺู ุฎุงุฑุฌ ุจุฑุง ูพุงุฏูโุณุงุฒ ูฺฺฏ ุณุงุฎุชู ู ุจู ูพุฑูฺู ุงุตู ุงุฑุฌุงุน ุฏุงุฏู ูโุดูุฏ.</li>
<li>Step Definitions ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฏ ูุงูุน ูฺฺฏ ุชูุณุนู ุฏุงุฏู ูโุดููุฏ.</li>
</ul>
<p>๐ก <strong>ูุฒุช ุงู ุฑูฺฉุฑุฏ:</strong><br>
ุจู ุนููุงู ุจุฑูุงููโููุณุ ูุทูุฆู ูุณุชุฏ ฺฉู ุฏููุงู ุขูฺู <strong>ฺฉุณุจโูฺฉุงุฑ ุฎูุงุณุชู</strong> ุฑุง ุงุฑุงุฆู ูโุฏูุฏุ ูู ฺุฒ ฺฉู ูฺฉุฑ ูโฺฉูุฏ ุฎูุงุณุชู ุดุฏู ุงุณุช. ุงู ุฑูุด ูโุชูุงูุฏ <strong>ูุฒููโูุง ู ุฒูุงู ุฒุงุฏ ุฑุง ุตุฑููโุฌู ฺฉูุฏ</strong>. ุชุฌุฑุจู ูุดุงู ุฏุงุฏู ฺฉู ุจุณุงุฑ ุงุฒ ูพุฑูฺูโูุง ุจู ุฏูู <strong>ุนุฏู ูุถูุญ ุฎูุงุณุชูโูุง ุจู ุชูโูุง ฺฉุณุจโูฺฉุงุฑ ู ุจุฑูุงููโููุณ</strong> ุดฺฉุณุช ุฎูุฑุฏูโุงูุฏ.</p>
<hr>
<h3>ูุซุงู ุนูู: ูพุงุฏูโุณุงุฒ ฺฉ ูุงุดูโุญุณุงุจ ุณุงุฏู ๐งฎ</h3>
<ol>
<li>
<p>ฺฉ <strong>Class Library ุฌุฏุฏ</strong> ุจุณุงุฒุฏ ู ุจุณุชูโูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:</p>
<ul>
<li>NUnit</li>
<li>NUnit3TestAdapter</li>
<li>SpecFlow</li>
<li>SpecRun.SpecFlow</li>
<li>SpecFlow.NUnit</li>
</ul>
</li>
<li>
<p>ฺฉ <strong>SpecFlow Feature File</strong> ุฌุฏุฏ ุจุง ูุงู <code>Calculator</code> ุจุณุงุฒุฏ:</p>
</li>
</ol>
<pre class="hljs"><code><span class="hljs-keyword">Feature</span>: Calculator
  In order to avoid silly mistakes
  As a math idiot
  I want to be told the sum of two numbers

  <span class="hljs-meta">@mytag</span>
  <span class="hljs-keyword">Scenario</span>: Add two numbers
    <span class="hljs-keyword">Given</span> I have entered 50 into the calculator
    <span class="hljs-keyword">And</span> I have entered 70 into the calculator
    <span class="hljs-keyword">When</span> I press add
    <span class="hljs-keyword">Then</span> the result should be 120 on the screen
</code></pre>
<ul>
<li>ูุชู ุจุงูุง ุจู ุตูุฑุช <strong>ุฎูุฏฺฉุงุฑ</strong> ุฏุฑ ูุงู <code>Calculator.feature</code> ุงุถุงูู ูโุดูุฏ ู <strong>ููุทู ุดุฑูุน ุงุฏฺฏุฑ BDD ุจุง SpecFlow</strong> ุงุณุช.</li>
</ul>
<p>๐ก ูฺฉุชู:<br>
SpecFlow ู SpecMap ุงฺฉููู ุชูุณุท <strong>Tricentis</strong> ุฎุฑุฏุงุฑ ุดุฏูโุงูุฏ ู <strong>ููฺูุงู ุฑุงฺฏุงู</strong> ุฎูุงููุฏ ุจูุฏุ ุจูุงุจุฑุงู ุฒูุงู ุฎูุจ ุจุฑุง ุงุฏฺฏุฑ ู ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุงุณุช.</p>
<hr>
<h3>ุงุฌุงุฏ Step Definitions</h3>
<ul>
<li>ูพุณ ุงุฒ ุฏุงุดุชู ูุงู Featureุ ุจุงุฏ <strong>Step Definitions</strong> ุงุฌุงุฏ ฺฉูุฏ ุชุง ุฏุฑุฎูุงุณุชโูุง ูฺฺฏ ุจู ฺฉุฏ ุดูุง ูุชุตู ุดููุฏ.</li>
<li>ุฑู ูุงู Feature <strong>ุฑุงุณุชโฺฉูฺฉ</strong> ฺฉูุฏ ู ุงุฒ ููู ุฒููู ฺฏุฒูู <strong>Generate Step Definitions</strong> ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</li>
<li>ฺฉ ูพูุฌุฑู ุฏุงููฺฏ ุจุฑุง ุงุฌุงุฏ Step Definitions ุธุงูุฑ ูโุดูุฏ ฺฉู ูุฑุงุญู ุจุนุฏ ุขููุฒุด BDD ุฑุง ุดุฑูุน ูโฺฉูุฏ.</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-12.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3><strong>ุงุฌุงุฏ ฺฉูุงุณ Step Definitions โ CalculatorSteps ๐๏ธ</strong></h3>
<ol>
<li><strong>ูุงู ฺฉูุงุณ</strong> ุฑุง <code>CalculatorSteps</code> ูุงุฑุฏ ฺฉูุฏ.</li>
<li>ุฑู <strong>Generate</strong> ฺฉูฺฉ ฺฉูุฏ ุชุง Step Definitions ุงุฌุงุฏ ุดูุฏ ู ูุงู ุฐุฎุฑู ฺฏุฑุฏุฏ.</li>
<li>ูุงู <code>CalculatorSteps.cs</code> ุฑุง ุจุงุฒ ฺฉูุฏ. ูุญุชูุง ุขู ุจู ุดฺฉู ุฒุฑ ุฎูุงูุฏ ุจูุฏ:</li>
</ol>
<pre class="hljs"><code><span class="hljs-keyword">using</span> TechTalk.SpecFlow;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_SpecFlow</span>
{
    [<span class="hljs-meta">Binding</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CalculatorSteps</span>
    {
        [<span class="hljs-meta">Given(@<span class="hljs-string">&quot;I have entered (.*) into the calculator&quot;</span>)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GivenIHaveEnteredIntoTheCalculator</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> p0</span>)</span>
        {
            ScenarioContext.Current.Pending();
        }

        [<span class="hljs-meta">When(@<span class="hljs-string">&quot;I press add&quot;</span>)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WhenIPressAdd</span>()</span>
        {
            ScenarioContext.Current.Pending();
        }

        [<span class="hljs-meta">Then(@<span class="hljs-string">&quot;the result should be (.*) on the screen&quot;</span>)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ThenTheResultShouldBeOnTheScreen</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> p0</span>)</span>
        {
            ScenarioContext.Current.Pending();
        }
    }
}
</code></pre>
<ul>
<li>ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ <strong>Step Definitions</strong> ุงุฌุงุฏ ุดุฏู ุจุง <strong>ุนุจุงุฑุงุช Feature File</strong> ูุทุงุจูุช ุฏุงุฑุฏ.</li>
<li>ูุชุฏูุง <code>[Given]</code>ุ <code>[When]</code> ู <code>[Then]</code> ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ุดุฏูโุงูุฏ ู ุฏุฑ ุญุงู ุญุงุถุฑ <strong>ุฏุฑ ุญุงูุช Pending</strong> ูุณุชูุฏ ุชุง ุจุนุฏุงู ฺฉุฏ ูุงูุน ุจุฑุง ุขููุง ููุดุชู ุดูุฏ. โก</li>
</ul>
<p>๐ก ูฺฉุชู: ุงู ูุทุงุจูุช ุจู Feature ู Steps ุชุถูู ูโฺฉูุฏ ฺฉู ุชุณุชโูุง ุฑูุชุงุฑ ุฏููุงู ููุงู ฺุฒ ุฑุง ุจุฑุฑุณ ฺฉููุฏ ฺฉู ุฏุฑ Feature File ูุดุฎุต ุดุฏู ุงุณุช.</p>
<div align="center">
<p><img src="../../../assets/image/06/Table%206-13.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3><strong>ูพุงุฏูโุณุงุฒ Feature ุฏุฑ ูุงู ุฌุฏุงฺฏุงูู โ CH06_SpecFlow.Implementation ๐</strong></h3>
<ol>
<li>ฺฉ <strong>Class Library ุฌุฏุฏ</strong> ุงุฌุงุฏ ฺฉูุฏ ู ูุงู ุขู ุฑุง <code>CH06_SpecFlow.Implementation</code> ุจฺฏุฐุงุฑุฏ.</li>
<li>ุฏุฑ ุขู ฺฉ ูุงู ุฌุฏุฏ ุจู ูุงู <code>Calculator.cs</code> ุงุถุงูู ฺฉูุฏ.</li>
<li>ุจู ูพุฑูฺู SpecFlow ฺฉ <strong>Reference</strong> ุจู ุงู ฺฉุชุงุจุฎุงูู ุงุถุงูู ฺฉูุฏ.</li>
<li>ุฏุฑ ุจุงูุง ูุงู <code>CalculatorSteps.cs</code> ุงู ุฎุท ุฑุง ุงุถุงูู ฺฉูุฏ:</li>
</ol>
<pre class="hljs"><code><span class="hljs-keyword">private</span> Calculator _calculator = <span class="hljs-keyword">new</span> Calculator();
</code></pre>
<hr>
<h3><strong>ฺฏุณุชุฑุด Step Definitions ุจุฑุง ุงุฌุฑุง ฺฉุฏ ุจุฑูุงูู</strong></h3>
<h4>1๏ธโฃ ุงูุฒูุฏู Properties ุฏุฑ ฺฉูุงุณ Calculator</h4>
<p>ุฏุฑ ุจุงูุง ฺฉูุงุณ Calculator ุฏู <strong>Property ุนููู</strong> ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> FirstNumber { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> SecondNumber { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
</code></pre>
<h4>2๏ธโฃ ุจูโุฑูุฒุฑุณุงู ูุชุฏ <code>[Given]</code></h4>
<p>ุฏุฑ ฺฉูุงุณ <code>CalculatorSteps</code>ุ ูุชุฏ <code>GivenIHaveEnteredIntoTheCalculator()</code> ุฑุง ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ุฏูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">Given(@<span class="hljs-string">&quot;I have entered (.*) into the calculator&quot;</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GivenIHaveEnteredIntoTheCalculator</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> number</span>)</span>
{
    _calculator.FirstNumber = number;
}
</code></pre>
<h4>3๏ธโฃ ุงูุฒูุฏู ูุชุฏ ุฏูู <code>[Given]</code></h4>
<p>ุงฺฏุฑ ูุชุฏ <code>GivenIHaveAlsoEnteredIntoTheCalculator()</code> ููุฌูุฏ ูุณุชุ ุงุถุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GivenIHaveAlsoEnteredIntoTheCalculator</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> number</span>)</span>
{
    _calculator.SecondNumber = number;
}
</code></pre>
<hr>
<h3><strong>ุงูุฒูุฏู ูุชุบุฑ ูุชุฌู ู ูุชุฏ Add()</strong></h3>
<ol>
<li>ุฏุฑ ุจุงูุง ฺฉูุงุณ <code>CalculatorSteps</code> ู ูุจู ุงุฒ ูุฑ Stepุ ูุชุบุฑ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:</li>
</ol>
<pre class="hljs"><code><span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _result;
</code></pre>
<ol start="2">
<li>ุฏุฑ ฺฉูุงุณ <code>Calculator</code>ุ ูุชุฏ <code>Add()</code> ุฑุง ุงุถุงูู ฺฉูุฏ:</li>
</ol>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>()</span>
{
    <span class="hljs-keyword">return</span> FirstNumber + SecondNumber;
}
</code></pre>
<hr>
<h3><strong>ุจูโุฑูุฒุฑุณุงู ูุชุฏ <code>[When]</code></strong></h3>
<p>ุฏุฑ ฺฉูุงุณ <code>CalculatorSteps</code> ูุชุฏ <code>WhenIPressAdd()</code> ุฑุง ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ุฏูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">When(@<span class="hljs-string">&quot;I press add&quot;</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WhenIPressAdd</span>()</span>
{
    _result = _calculator.Add();
}
</code></pre>
<hr>
<h3><strong>ุจูโุฑูุฒุฑุณุงู ูุชุฏ <code>[Then]</code></strong></h3>
<p>ุฏุฑ ฺฉูุงุณ <code>CalculatorSteps</code> ูุชุฏ <code>ThenTheResultShouldBeOnTheScreen()</code> ุฑุง ุชุบุฑ ุฏูุฏ:</p>
<pre class="hljs"><code>[<span class="hljs-meta">Then(@<span class="hljs-string">&quot;the result should be (.*) on the screen&quot;</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ThenTheResultShouldBeOnTheScreen</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> expectedResult</span>)</span>
{
    Assert.AreEqual(expectedResult, _result);
}
</code></pre>
<hr>
<p>โ <strong>ุชุณุช ู ุงุฌุฑุง ูพุฑูฺู</strong></p>
<ul>
<li>ูพุฑูฺู ุฑุง <strong>Build</strong> ฺฉูุฏ ู ุชุณุชโูุง ุฑุง ุงุฌุฑุง ฺฉูุฏ.</li>
<li>ุฎูุงูุฏ ุฏุฏ ฺฉู <strong>ุชูุงู ุชุณุชโูุง ุจุง ููููุช ฺฏุฐุฑุงูุฏู ุดุฏูุฏ</strong>.</li>
<li>ููุท ฺฉุฏ ููุดุชู ุดุฏู ฺฉู ุจุฑุง ูพุงุณ ุดุฏู Feature ูุงุฒู ุจูุฏ.</li>
</ul>
<hr>
<p>๐ก <strong>ููุงุจุน ุจุดุชุฑ:</strong> ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู SpecFlow ุจู <a href="https://specflow.org/docs/">SpecFlow Documentation</a> ูุฑุงุฌุนู ฺฉูุฏ.</p>
<p>ุฏุฑ ุงุฏุงููุ ูพุณ ุงุฒ ูุนุฑู ุงุจุฒุงุฑูุงุ ููุจุช ุจู <strong>ููููู ุณุงุฏูโุง ุงุฒ TDD</strong> ูโุฑุณุฏ:</p>
<ul>
<li>ุงุจุชุฏุง ฺฉุฏ ูโููุณู ฺฉู <strong>Fail</strong> ูโุดูุฏ.</li>
<li>ุณูพุณ ููุท ุจูโุงูุฏุงุฒู ูุงุฒู ุจุฑุง <strong>Compile ุดุฏู ุชุณุช</strong> ฺฉุฏ ูโููุณู.</li>
<li>ุฏุฑ ููุงุชุ ฺฉุฏ ุฑุง <strong>Refactor</strong> ูโฺฉูู. โก</li>
</ul>
<h3><strong>ุชูุฑู ุฑูุดโุดูุงุณ TDD โ Fail, Pass ู Refactor โก</strong></h3>
<p>ุฏุฑ ุงู ุจุฎุดุ ุดูุง ุฎูุงูุฏ ุขููุฎุช ฺฉู ฺฺฏููู ุชุณุชโูุง ุจููุณุฏ ฺฉู ุงุจุชุฏุง <strong>Fail</strong> ุดููุฏ. ุณูพุณ ุชููุง ุจูโุงูุฏุงุฒู ูุงุฒู ฺฉุฏ ูโููุณู ุชุง ุชุณุช <strong>Pass</strong> ุดูุฏ ู ุฏุฑ ููุงุชุ ุฏุฑ ุตูุฑุช ูุงุฒุ <strong>Refactor</strong> ุงูุฌุงู ูโุฏูู ุชุง ฺฉุฏ ุชูุฒุชุฑ ู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุดูุฏ.</p>
<hr>
<h3><strong>ฺุฑุง ุจู TDD ูุงุฒ ุฏุงุฑูุ ๐ค</strong></h3>
<p>ุฏุฑ ุจุฎุด ูุจูุ ุฏุฏุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>Feature Files</strong> ู <strong>Step Files</strong> ฺฉุฏ ููุดุช ฺฉู ูุงุฒ ฺฉุณุจโูฺฉุงุฑ ุฑุง ุจุฑุขูุฑุฏู ฺฉูุฏ. ุงูุง ฺฉ ุฑูุด ุฏฺฏุฑ ุจุฑุง ุชุถูู ุงูฺฉู ฺฉุฏ ุดูุง <strong>ูุทุงุจู ุจุง ูุงุฒูุง ฺฉุณุจโูฺฉุงุฑ</strong> ุจุงุดุฏุ ุงุณุชูุงุฏู ุงุฒ <strong>TDD</strong> ุงุณุช.</p>
<ul>
<li>ุฏุฑ TDD ุงุจุชุฏุง ฺฉ ุชุณุช ูโููุณุฏ ฺฉู <strong>Fail</strong> ุดูุฏ.</li>
<li>ุณูพุณ ุชููุง ฺฉุฏ ูุงุฒู ุจุฑุง <strong>Pass</strong> ฺฉุฑุฏู ุชุณุช ุฑุง ูโููุณุฏ.</li>
<li>ุฏุฑ ููุงุชุ ุฏุฑ ุตูุฑุช ูุงุฒุ ฺฉุฏ ุฑุง Refactor ูโฺฉูุฏ.</li>
</ul>
<p>ุงู ฺุฑุฎู ุชุง ุฒูุงู ฺฉู <strong>ุชูุงู Features</strong> ฺฉุฏููุณ ุดููุฏุ ุชฺฉุฑุงุฑ ูโุดูุฏ.</p>
<hr>
<h3><strong>ููุด TDD ุฏุฑ ูุฑูโุงูุฒุงุฑูุง ุญุงุช ๐ผ</strong></h3>
<p>ุจุฑุฎ ูุฑูโุงูุฒุงุฑูุง ููโุชูุงููุฏ ุฏุงุฑุง ุจุงฺฏ ุจุงุดูุฏุ ูุงููุฏ:</p>
<ul>
<li>ุณุณุชูโูุง ูุงู ๐ฐ ฺฉู ุณุฑูุงูโูุง ุฎุตูุต ู ุชุฌุงุฑ ุฑุง ูุฏุฑุช ูโฺฉููุฏ.</li>
<li>ุชุฌูุฒุงุช ูพุฒุดฺฉ โ๏ธุ ุดุงูู ุฏุณุชฺฏุงูโูุง ุญุงุช ู ุงุณฺฉูุ ฺฉู ูุฑูโุงูุฒุงุฑ ุตุญุญ ุจุฑุง ุนููฺฉุฑุฏ ูุงุฒู ุฏุงุฑูุฏ.</li>
<li>ูุฑูโุงูุฒุงุฑูุง ูุฏุฑุช ุชุฑุงูฺฉ ู ูุงูุจุฑ ๐ฆ.</li>
<li>ุณุณุชูโูุง ูุถุง ๐ ู ุณุณุชูโูุง ุชุณูุญุงุช ๐ก๏ธ.</li>
</ul>
<p>ุฏุฑ ฺูู ูพุฑูฺูโูุงุ TDD ุชุถูู ูโฺฉูุฏ ฺฉู ฺฉุฏ <strong>ูุทูุฆู ู ูุงุจู ุงุทููุงู</strong> ููุดุชู ุดูุฏ.</p>
<hr>
<h3><strong>ูุฑุงุญู TDD ๐๏ธ</strong></h3>
<ol>
<li>ฺฉ <strong>ูพุฑูฺู ุฌุฏุฏ</strong> ุงุฌุงุฏ ฺฉูุฏ (<code>CH06_FailPassRefactor</code>).</li>
<li>ฺฉ ฺฉูุงุณ ุจู ูุงู <code>UnitTests</code> ุจุณุงุฒุฏ ู <strong>Pseudocode</strong> ุฒุฑ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ:</li>
</ol>
<pre class="hljs"><code><span class="hljs-keyword">using</span> NUnit.Framework;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CH06_FailPassRefactor</span>
{
    [<span class="hljs-meta">TestFixture</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UnitTests</span>
    {
        <span class="hljs-comment">// The PseudoCode.</span>
        <span class="hljs-comment">// [1] Call a method to log an exception.</span>
        <span class="hljs-comment">// [2] Build up the text to log including all inner exceptions.</span>
        <span class="hljs-comment">// [3] Write the text to a file with a timestamp.</span>
    }
}
</code></pre>
<hr>
<h3><strong>ููุดุชู ุงููู ุชุณุช โ Fail Test</strong></h3>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">LogException</span>()</span>
{
    <span class="hljs-keyword">var</span> logger = <span class="hljs-keyword">new</span> Logger();
    <span class="hljs-keyword">var</span> logFileName = logger.Log(<span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">&quot;Argument cannot be null&quot;</span>));
    Assert.Pass();
}
</code></pre>
<blockquote>
<p>ุงู ุชุณุช ุงุฌุฑุง ููโุดูุฏ ุฒุฑุง ฺฉูุงุณ <strong>Logger</strong> ูุฌูุฏ ูุฏุงุฑุฏ.</p>
</blockquote>
<ol>
<li>ฺฉ ฺฉูุงุณ ุฏุงุฎู ุจู ูุงู <code>Logger</code> ุจุณุงุฒุฏ.</li>
<li>ุณูพุณ ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ. ููฺูุงู Fail ุฎูุงูุฏ ุดุฏ ุฒุฑุง ูุชุฏ <code>Log()</code> ูุฌูุฏ ูุฏุงุฑุฏ.</li>
<li>ูุชุฏ <code>Log()</code> ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ุชุณุช Pass ุดูุฏ.</li>
</ol>
<hr>
<h3><strong>ุงุฌุงุฏ Exception ุจุง Inner Exception</strong></h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> Exception <span class="hljs-title">GetException</span>()</span>
{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Exception(
        <span class="hljs-string">&quot;Exception: Main exception.&quot;</span>,
        <span class="hljs-keyword">new</span> Exception(
            <span class="hljs-string">&quot;Exception: Inner Exception.&quot;</span>,
            <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">&quot;Exception: Inner Exception Inner Exception&quot;</span>)
        )
    );
}
</code></pre>
<hr>
<h3><strong>ุชุณุช ูุฌูุฏ ูุงู ูุงฺฏ</strong></h3>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckFileExists</span>()</span>
{
    <span class="hljs-keyword">var</span> logger = <span class="hljs-keyword">new</span> Logger();
    <span class="hljs-keyword">var</span> logFile = logger.Log(GetException());
    FileAssert.Exists(logFile);
}
</code></pre>
<blockquote>
<p>ุฏุฑ ุงุจุชุฏุง ุงู ุชุณุช Fail ุฎูุงูุฏ ุดุฏ.</p>
</blockquote>
<ul>
<li>ุฏุฑ ฺฉูุงุณ <code>Logger</code> ฺฉ <strong>StringBuilder ุฎุตูุต</strong> ุงุถุงูู ฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">private</span> StringBuilder _stringBuilder;
</code></pre>
<ul>
<li>ูุชุฏ <code>Log()</code> ู ูุชุฏ <code>SaveLog()</code> ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ูุงู ูุงฺฏ ุงุฌุงุฏ ุดูุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">Log</span>(<span class="hljs-params">Exception ex</span>)</span>
{
    _stringBuilder = <span class="hljs-keyword">new</span> StringBuilder();
    <span class="hljs-keyword">return</span> SaveLog();
}

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> <span class="hljs-title">SaveLog</span>()</span>
{
    <span class="hljs-keyword">var</span> fileName = <span class="hljs-string">$&quot;LogFile<span class="hljs-subst">{DateTime.UtcNow.GetHashCode()}</span>.txt&quot;</span>;
    <span class="hljs-keyword">var</span> dir = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">file</span> = <span class="hljs-string">$&quot;<span class="hljs-subst">{dir}</span>\\<span class="hljs-subst">{fileName}</span>&quot;</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">file</span>;
}
</code></pre>
<hr>
<h3><strong>ุชุณุช ูพุงู Exception ุดุงูู Inner Exception</strong></h3>
<pre class="hljs"><code>[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ContainsMessage</span>()</span>
{
    <span class="hljs-keyword">var</span> logger = <span class="hljs-keyword">new</span> Logger();
    <span class="hljs-keyword">var</span> logFile = logger.Log(GetException());
    <span class="hljs-keyword">var</span> msg = File.ReadAllText(logFile);
    Assert.IsTrue(msg.Contains(<span class="hljs-string">&quot;Exception: Inner Exception Inner Exception&quot;</span>));
}
</code></pre>
<ul>
<li>ุงฺฉููู ุจุงุฏ ูุชุฏ ุจุณุงุฒู ฺฉู ูพุงู Exception ู Inner Exceptionโูุง ุฑุง ุจุณุงุฒุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildExceptionMessage</span>(<span class="hljs-params">Exception ex, <span class="hljs-built_in">bool</span> isInnerException</span>)</span>
{
    <span class="hljs-keyword">if</span> (isInnerException)
        _stringBuilder.Append(<span class="hljs-string">&quot;Inner Exception: &quot;</span>).AppendLine(ex.Message);
    <span class="hljs-keyword">else</span>
        _stringBuilder.Append(<span class="hljs-string">&quot;Exception: &quot;</span>).AppendLine(ex.Message);

    <span class="hljs-keyword">if</span> (ex.InnerException != <span class="hljs-literal">null</span>)
        BuildExceptionMessage(ex.InnerException, <span class="hljs-literal">true</span>);
}
</code></pre>
<ul>
<li>ูุชุฏ <code>Log()</code> ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">Log</span>(<span class="hljs-params">Exception ex</span>)</span>
{
    _stringBuilder = <span class="hljs-keyword">new</span> StringBuilder();
    _stringBuilder.AppendLine(<span class="hljs-string">&quot;--------------------------------------------------------------&quot;</span>);
    BuildExceptionMessage(ex, <span class="hljs-literal">false</span>);
    _stringBuilder.AppendLine(<span class="hljs-string">&quot;--------------------------------------------------------------&quot;</span>);
    <span class="hljs-keyword">return</span> SaveLog();
}
</code></pre>
<hr>
<h3><strong>Refactor ฺฉุฏ ุจุง ฺฉูุงุณ Text ๐งน</strong></h3>
<ul>
<li>ฺฉูุงุณ ุฌุฏุฏ <code>Text</code> ุจุณุงุฒุฏ ู ูพุงู Exception ู Inner Exceptionโูุง ุฑุง ูุฏุฑุช ฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Text</span>
{
    <span class="hljs-keyword">private</span> StringBuilder _stringBuilder = <span class="hljs-keyword">new</span> StringBuilder();

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> ExceptionMessage =&gt; _stringBuilder.ToString();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildExceptionMessage</span>(<span class="hljs-params">Exception ex, <span class="hljs-built_in">bool</span> isInnerException</span>)</span>
    {
        <span class="hljs-keyword">if</span> (isInnerException)
            _stringBuilder.Append(<span class="hljs-string">&quot;Inner Exception: &quot;</span>).AppendLine(ex.Message);
        <span class="hljs-keyword">else</span>
        {
            _stringBuilder.AppendLine(<span class="hljs-string">&quot;--------------------------------------------------------------&quot;</span>);
            _stringBuilder.Append(<span class="hljs-string">&quot;Exception: &quot;</span>).AppendLine(ex.Message);
        }

        <span class="hljs-keyword">if</span> (ex.InnerException != <span class="hljs-literal">null</span>)
            BuildExceptionMessage(ex.InnerException, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">else</span>
            _stringBuilder.AppendLine(<span class="hljs-string">&quot;--------------------------------------------------------------&quot;</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetHashedTextFileName</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, SpecialFolder folder</span>)</span>
    {
        <span class="hljs-keyword">var</span> fileName = <span class="hljs-string">$&quot;<span class="hljs-subst">{name}</span>-<span class="hljs-subst">{DateTime.UtcNow.GetHashCode()}</span>.txt&quot;</span>;
        <span class="hljs-keyword">var</span> dir = Environment.GetFolderPath(folder);
        <span class="hljs-keyword">return</span> <span class="hljs-string">$&quot;<span class="hljs-subst">{dir}</span>\\<span class="hljs-subst">{fileName}</span>&quot;</span>;
    }
}
</code></pre>
<ul>
<li>ฺฉูุงุณ <code>Logger</code> ุฑุง ุจู ุดฺฉู ุฒุฑ ุจุงุฒููุณ ฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">private</span> Text _text;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">Log</span>(<span class="hljs-params">Exception ex</span>)</span>
{
    BuildMessage(ex);
    <span class="hljs-keyword">return</span> SaveLog();
}

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildMessage</span>(<span class="hljs-params">Exception ex</span>)</span>
{
    _text = <span class="hljs-keyword">new</span> Text();
    _text.BuildExceptionMessage(ex, <span class="hljs-literal">false</span>);
}

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> <span class="hljs-title">SaveLog</span>()</span>
{
    <span class="hljs-keyword">var</span> filename = _text.GetHashedTextFileName(<span class="hljs-string">&quot;Log&quot;</span>, Environment.SpecialFolder.MyDocuments);
    File.WriteAllText(filename, _text.ExceptionMessage);
    <span class="hljs-keyword">return</span> filename;
}
</code></pre>
<p>โ <strong>ูุชุฌู:</strong><br>
ุชูุงู ุชุณุชโูุง ุงฺฉููู ูพุงุณ ูุณุชูุฏ ู ฺฉุฏ ุชูุฒุชุฑุ ุฎูุงูุงุชุฑ ู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุณุช.</p>
<hr>
<p>ุฏุฑ ุจุฎุด ุจุนุฏุ ูฺฏุงู ฺฉูุชุงู ุจู <strong>ุชุณุชโูุง ุชฺฉุฑุงุฑ (Redundant Tests)</strong> ุฎูุงูู ุฏุงุดุช. ๐</p>
<h3><strong>ุญุฐู ุชุณุชโูุง ุชฺฉุฑุงุฑุ ฺฉุงููุชโูุง ู ฺฉุฏ ูุฑุฏู ๐๏ธ</strong></h3>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ฺฉุชุงุจ ุงุดุงุฑู ุดุฏุ ูุฏู ูุง ููุดุชู <strong>ฺฉุฏ ุชูุฒ</strong> ุงุณุช. ุจุง ุฑุดุฏ ุจุฑูุงููโูุง ู ุชุณุชโูุง ู ุงูุฌุงู Refactorุ ุจุฑุฎ ุงุฒ ฺฉุฏูุง ููฺฉู ุงุณุช <strong>ุชฺฉุฑุงุฑ ุง ุจูุงุงุณุชูุงุฏู</strong> ุดููุฏ.</p>
<ul>
<li><strong>ฺฉุฏ ูุฑุฏู (Dead Code)</strong> ุจู ูุฑ ฺฉุฏ ฺฏูุชู ูโุดูุฏ ฺฉู ุชฺฉุฑุงุฑ ุงุณุช ู ูฺโฺฏุงู ุงุฌุฑุง ููโุดูุฏ.</li>
<li>ฺฉุฏ ูุฑุฏู ุจุงุฏ ุจูุงูุงุตูู ุญุฐู ุดูุฏุ ุฒุฑุง ูุฑฺูุฏ ุฏุฑ ฺฉุฏ ููุง ุงุฌุฑุง ููโุดูุฏุ ุงูุง ููฺูุงู ุจุฎุด ุงุฒ <strong>ฺฉุฏุจุณ</strong> ุงุณุช ฺฉู ุจุงุฏ ูฺฏูุฏุงุฑ ุดูุฏ.</li>
<li>ูุงูโูุง ฺฉู ฺฉุฏ ูุฑุฏู ุฏุงุฑูุฏ ุทููุงูโุชุฑ ู ุฎูุงูุฏู ุขูโูุง ุณุฎุชโุชุฑ ุงุณุช. ุงู ููุถูุน ูโุชูุงูุฏ ุจุงุนุซ <strong>ฺฏุฌ ุจุฑูุงููโููุณ</strong> ู ุงุชูุงู ููุช ุดูุฏุ ูุฎุตูุตุงู ุจุฑุง ฺฉุณุงู ฺฉู ุชุงุฒู ุจู ูพุฑูฺู ูุงุฑุฏ ุดุฏูโุงูุฏ.</li>
</ul>
<hr>
<h3><strong>ฺฉุงููุชโูุง ๐ฌ</strong></h3>
<ul>
<li>
<p>ฺฉุงููุชโูุง ุฏุฑ ุตูุฑุช ููุฏ ูุณุชูุฏ ฺฉู <strong>ุจู ุฏุฑุณุช</strong> ููุดุชู ุดููุฏุ ุจูโูฺู ุจุฑุง <strong>ูุณุชูุฏุณุงุฒ API</strong>.</p>
</li>
<li>
<p>ุจุฑุฎ ฺฉุงููุชโูุง ููุท <strong>ุตุฏุง ุงุถุงู</strong> ุจู ูุงู ุงุถุงูู ูโฺฉููุฏ ู ูโุชูุงููุฏ ุจุฑูุงููโููุณ ุฑุง ุขุฒุงุฑ ุฏููุฏ.</p>
</li>
<li>
<p>ุฏุฏฺฏุงูโูุง ุฏุฑุจุงุฑู ฺฉุงููุชโูุง ูุชูุงูุช ุงุณุช:</p>
<ol>
<li>ฺฏุฑูู ููู ฺุฒ ุฑุง ฺฉุงููุช ูโฺฉููุฏ.</li>
<li>ฺฏุฑูู ูฺ ฺฉุงููุช ููโฺฏุฐุงุฑูุฏุ ุฒุฑุง ูุนุชูุฏูุฏ ฺฉุฏ ุจุงุฏ <strong>ูุงููุฏ ฺฉ ฺฉุชุงุจ ุฎูุงูุฏู ุดูุฏ</strong>.</li>
<li>ฺฏุฑูู ูุชุนุงุฏู ุนูู ูโฺฉููุฏ ู ููุท ุฒูุงู ฺฉุงููุช ูโฺฏุฐุงุฑูุฏ ฺฉู ุจุฑุง ุฏุฑฺฉ ฺฉุฏ ุถุฑูุฑ ุจุงุดุฏ.</li>
</ol>
</li>
</ul>
<blockquote>
<p>ุงฺฏุฑ ุจุง ฺฉุงููุชโูุง ูุงููุฏ:<br>
<code>&quot;This generates a random bug every so often. Don't know why. But you're welcome to fix it!&quot;</code><br>
ููุงุฌู ุดุฏุฏุ ุจุงุฏ <strong>ูุดุฏุงุฑ ุฏูุฏ</strong>. ุจุฑูุงููโููุณ ุจุงุฏ ุชุง ุงูุชู ู ุฑูุน ุจุงฺฏุ ฺฉุฏ ุฑุง ุชุฑฺฉ ูฺฉูุฏ.</p>
</blockquote>
<ul>
<li>ุงฺฏุฑ ุจููฺฉโูุง ฺฉุงููุชโุดุฏูโุง ุงุฒ ฺฉุฏ ูุดุงูุฏู ฺฉุฑุฏุฏ ฺฉู <strong>ุชุงุฏ ุดุฏูโุงูุฏ</strong>ุ ุขูโูุง ุฑุง ุญุฐู ฺฉูุฏ. ูุณุฎู ฺฉูุชุฑู (Version Control) ุงูฺฉุงู ุจุงุฒุงุจ ุขูโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.</li>
</ul>
<hr>
<h3><strong>ุฎูุงูุง ฺฉุฏ ๐</strong></h3>
<ul>
<li>ฺฉุฏ ุจุงุฏ <strong>ูุงููุฏ ฺฉ ฺฉุชุงุจ ุฎูุงูุฏู ุดูุฏ</strong>.</li>
<li>ุงุฒ ููุดุชู ฺฉุฏ <strong>ูุฑููุฒ ุง ูพฺุฏู ููุท ุจุฑุง ุฌูุจ ุชูุฌู</strong> ุฎูุฏุฏุงุฑ ฺฉูุฏ.</li>
<li>ุจุงุฒฺฏุดุช ุจู ฺฉุฏ ุฎูุฏุชุงู ูพุณ ุงุฒ ฺูุฏ ููุชู ููฺฉู ุงุณุช ุจุงุนุซ ุณุฑุฏุฑฺฏู ุดูุฏ ุงฺฏุฑ ฺฉุฏ ูพฺุฏู ุจุงุดุฏ.</li>
</ul>
<hr>
<h3><strong>ุชุณุชโูุง ุชฺฉุฑุงุฑ ๐</strong></h3>
<ul>
<li>ุชุณุชโูุง ุชฺฉุฑุงุฑ ุจุงุฏ ุญุฐู ุดููุฏ.</li>
<li>ููุท ุชุณุชโูุง ุงุฌุฑุง ุดููุฏ ฺฉู <strong>ุถุฑูุฑ ูุณุชูุฏ</strong>.</li>
<li>ุชุณุชโูุง ฺฉุฏ ุชฺฉุฑุงุฑ <strong>ูฺ ุงุฑุฒุด ูุฏุงุฑูุฏ</strong> ู ูโุชูุงููุฏ ุฒูุงู ุฒุงุฏ ุฑุง ูุฏุฑ ุฏููุฏ.</li>
<li>ุฏุฑ ูุญุทโูุง CI/CD ฺฉู ุชุณุชโูุง ุฏุฑ <strong>ฺฉููุฏ</strong> ุงุฌุฑุง ูโุดููุฏุ ุชุณุชโูุง ุงุถุงู ู ฺฉุฏ ูุฑุฏู <strong>ูุฒููโูุง ุนููุงุช</strong> ุงุฌุงุฏ ูโฺฉููุฏ.</li>
</ul>
<blockquote>
<p>ูุฑฺู ุฎุทูุท ฺฉุฏ ฺฉูุชุฑ ุขูพููุฏุ ุจูุฏ ู ุชุณุช ุดููุฏุ ูุฒูู ฺฉูุชุฑ ุจุฑุง ุดุฑฺฉุช ุฎูุงูุฏ ุฏุงุดุช.</p>
</blockquote>
<hr>
<h3><strong>ุฎูุงุตู ูุตู โ</strong></h3>
<ol>
<li>
<p>ุงููุช ููุดุชู <strong>Unit Test</strong> ุจุฑุง ุชููุฏ ฺฉุฏ ุจุง ฺฉูุช ุจุฑุฑุณ ุดุฏ.</p>
</li>
<li>
<p>ูุดฺฉูุงุช ูุธุฑ ูุงุด ุงุฒ ุจุงฺฏโูุง ู ุชุฃุซุฑุงุช ุขูโูุง ูุงููุฏ ุฎุณุงุฑุชโูุง ูุงู ู ุญุช ุฎุทุฑุงุช ุฌุงู ุจุงู ุดุฏ.</p>
</li>
<li>
<p>ูฺฺฏโูุง ฺฉ <strong>Unit Test ุฎูุจ</strong>:</p>
<ul>
<li>Atomic</li>
<li>Deterministic</li>
<li>Repeatable</li>
<li>Fast</li>
</ul>
</li>
<li>
<p>ุงุจุฒุงุฑูุง TDD ู BDD ุจุฑุฑุณ ุดุฏ:</p>
<ul>
<li>MSTest ู NUnit</li>
<li>Moq ุจุฑุง ุชุณุช <strong>Mock Objects</strong></li>
<li>SpecFlow ุจุฑุง ููุดุชู Featureโูุง ุจู ุฒุจุงู ฺฉุณุจโูฺฉุงุฑ</li>
</ul>
</li>
<li>
<p>ูุซุงู ุนูู TDD ุจุง ุฑูุด <strong>Fail, Pass, Refactor</strong> ุงุฑุงุฆู ุดุฏ.</p>
</li>
<li>
<p>ุถุฑูุฑุช ุญุฐู <strong>ฺฉุงููุชโูุง ุงุถุงูุ ุชุณุชโูุง ุชฺฉุฑุงุฑ ู ฺฉุฏ ูุฑุฏู</strong> ุชูุถุญ ุฏุงุฏู ุดุฏ.</p>
</li>
</ol>
<hr>
<h3><strong>ุณุคุงูุงุช ุจุฑุง ูุฑูุฑ ๐</strong></h3>
<ol>
<li>ฺฉ Unit Test ุฎูุจ ฺู ูฺฺฏโูุง ุฏุงุฑุฏุ</li>
<li>ฺฉ Unit Test ุฎูุจ ฺู ฺุฒ ูุจุงุฏ ุจุงุดุฏุ</li>
<li>TDD ูุฎูู ฺุณุชุ</li>
<li>BDD ูุฎูู ฺุณุชุ</li>
<li>Unit Test ฺุณุชุ</li>
<li>Mock Object ฺุณุชุ</li>
<li>Fake Object ฺุณุชุ</li>
<li>ฺูุฏ ูุฑููุฑฺฉ Unit Testing ูุงู ุจุจุฑุฏ.</li>
<li>ฺูุฏ ูุฑููุฑฺฉ Mocking ูุงู ุจุจุฑุฏ.</li>
<li>ฺฉ ูุฑููุฑฺฉ BDD ูุงู ุจุจุฑุฏ.</li>
<li>ฺู ููุงุฑุฏ ุจุงุฏ ุงุฒ ูุงูโูุง ฺฉุฏ ุญุฐู ุดููุฏุ</li>
</ol>
<hr>
<h3><strong>ูุทุงูุนู ุจุดุชุฑ ๐</strong></h3>
<ul>
<li>
<p>ูุฑูุฑ ฺฉูุชุงู ุจุฑ Unit Testingุ ุดุงูู <strong>Integration Testing</strong>ุ <strong>Acceptance Testing</strong> ู <strong>ุดุฑุญ ูุธุงู ุชุณุชุฑ</strong>:<br>
<a href="http://softwaretestingfundamentals.com/unit-testing">softwaretestingfundamentals.com/unit-testing</a></p>
</li>
<li>
<p>ุตูุญู ุงุตู <strong>Rhino Mocks</strong>:<br>
<a href="http://hibernatingrhinos.com/oss/rhino-mocks">hibernatingrhinos.com/oss/rhino-mocks</a></p>
</li>
</ul>

  </main>

  <!-- ููุชุฑ ูุดุชุฑฺฉ -->
  <footer class="footer">
    <div class="container">
      <p>
        <img src="/Gitab/icone/copyright.svg" alt="ฺฉูพโุฑุงุช" width="14" height="14"
             style="vertical-align:middle;margin-inline:4px">
        <span id="y"></span> Gitab โ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู
      </p>
    </div>
  </footer>

  <!-- ุณุงู ู ุงุณฺฉุฑูพุช ุชุบุฑ ุชู -->
  <script>
  (() => {
    const root = document.documentElement;
    const btn = document.getElementById('themeToggle');
    const KEY = 'gitab-theme';

    function updateTheme(s) {
      root.setAttribute('data-theme', s);
      const mode = s;  // ููุท `dark` ุง `light` ุฎูุงูุฏ ุจูุฏ
      root.dataset.colorMode = mode;
      btn.dataset.icon = mode === 'dark' ? 'moon' : 'sun';
    }

    // ูุถุนุช ุชู ุฐุฎุฑู ุดุฏู ุงุฒ localStorage
    let saved = localStorage.getItem(KEY) || 'light'; // ูพุดโูุฑุถ ุฑูุดู
    updateTheme(saved);

    // ุชูุธู ูุฌุฏุฏ ุชู ููฺฏุงู ุชุบุฑ ูุถุนุช ุฏฺฉูู
    btn.addEventListener('click', () => {
      const current = localStorage.getItem(KEY) || 'light';
      const next = current === 'dark' ? 'light' : 'dark';  // ููุท ุฏู ุญุงูุช: ุชุงุฑฺฉ ู ุฑูุดู
      localStorage.setItem(KEY, next);
      updateTheme(next);
    });

    // ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ุตูุญู
    document.addEventListener('DOMContentLoaded', () => {
      updateTheme(localStorage.getItem(KEY) || 'light');
    });
  })();
</script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  <script>
  document.querySelectorAll('pre code').forEach(block => {
    const btn = document.createElement('button');
    btn.className = 'copy-btn';

    const icon = document.createElement('img');
    icon.src = "/Gitab/icone/copy.svg";
    icon.alt = 'Copy';
    btn.appendChild(icon);

    block.parentNode.insertBefore(btn, block);

    btn.addEventListener('click', async () => {
      await navigator.clipboard.writeText(block.textContent);
      btn.classList.add('copied');
      setTimeout(() => btn.classList.remove('copied'), 1500);
    });
  });
  </script>

  <script>
  document.body.dataset.page = window.location.pathname;

  const menuBtn = document.querySelector(".menu-toggle");
  const nav = document.querySelector(".nav");

  if (menuBtn && nav) {
    menuBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      nav.classList.toggle("show");
    });

    document.addEventListener("click", (e) => {
      const clickedInsideNav = nav.contains(e.target);
      const clickedMenuButton = menuBtn.contains(e.target);
      if (!clickedInsideNav && !clickedMenuButton) {
        nav.classList.remove("show");
      }
    });
  }
  </script>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
  <script>
document.getElementById("openDonate").addEventListener("click", () => {
  document.getElementById("donateModal").style.display = "block";
});
document.getElementById("closeDonate").addEventListener("click", () => {
  document.getElementById("donateModal").style.display = "none";
});
document.querySelectorAll(".copy-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    navigator.clipboard.writeText(btn.dataset.copy);
    btn.textContent = "โ ฺฉูพ ุดุฏ!";
    setTimeout(() => (btn.textContent = "ฺฉูพ"), 2000);
  });
});
</script>

</body>
</html>
