<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ูุฌููุนูโูุง (Collections)</title>
  <meta name="description" content="ุชุฑุฌููโูุง ูุงุฑุณ ฺฉุชุงุจโูุง ูู โ ุณุฑุนุ ูููุงู ู ูุงุจู ุงุชฺฉุง.">
  <link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
<style>
@font-face {
  font-family: 'Vazir';
  src: url('/fonts/Vazir-FD-WOL.ttf') format('truetype');
  font-display: swap;
}
body {
  font-family: 'Vazir', sans-serif;
}
</style>

</head>
<body>
  <!-- ูุฏุฑ ูุดุชุฑฺฉ -->
  <header class="header">
    <div class="container nav-wrap">
      <a class="brand" href="/">
        <img src="/icone/logo.svg" alt="Gitab" width="28" height="28">
        <span>Gitab</span>
      </a>

      <nav class="nav">
        <a href="/">ุฎุงูู</a>
        <a href="/books/list-books">ฺฉุชุงุจโูุง</a>
        <a href="#">ููฺฉุงุฑ</a>
        <a href="#">ุฏุฑุจุงุฑูโูุง</a>
      </nav>

     <div class="nav-actions">
  <button id="themeToggle" class="icon-btn theme-btn" aria-label="ุชุบุฑ ุญุงูุช">
    <img class="icon-sun" src="/icone/sun.svg" alt="ุฑูุดู">
    <img class="icon-moon" src="/icone/moon.svg" alt="ุชุงุฑฺฉ">
  </button>

  <a class="icon-btn" href="https://github.com/hheydarian/Gitab" target="_blank" title="GitHub">
    <img src="/icone/github.svg" alt="GitHub">
  </a>
</div>

  </header>


<main class="site-main book-page ">
  <h1>ูุตู ููุชู: <strong>ูุฌููุนูโูุง (Collections) ๐</strong></h1>
<p>.NET ฺฉ ูุฌููุนู ุงุณุชุงูุฏุงุฑุฏ ุงุฒ ููุนโูุง ุฑุง ุจุฑุง ุฐุฎุฑูโุณุงุฒ ู ูุฏุฑุช ูุฌููุนูโุง ุงุฒ ุงุดุงุก ุงุฑุงุฆู ูโุฏูุฏ. ุงู ููุนโูุง ุดุงูู ูุณุชโูุง ูุงุจู ุชุบุฑ ุงูุฏุงุฒู (resizable lists)ุ ูุณุชโูุง ูพููุฏ (linked lists)ุ ุฏฺฉุดูุฑโูุง ูุฑุชุจ ู ูุงูุฑุชุจ (sorted ู unsorted dictionaries) ู ููฺูู ุขุฑุงูโูุง (arrays) ูุณุชูุฏ. ุงุฒ ุจู ุงูโูุงุ ุชููุง ุขุฑุงูโูุง ุจุฎุด ุงุฒ ุฒุจุงู C# ุฑุง ุชุดฺฉู ูโุฏููุฏุ ุจูู ูุฌููุนูโูุง ููุท ฺฉูุงุณโูุง ูุณุชูุฏ ฺฉู ูโุชูุงูุฏ ูุงููุฏ ูุฑ ฺฉูุงุณ ุฏฺฏุฑ ูููููโุณุงุฒ (instantiate) ฺฉูุฏ.</p>
<p>ูโุชูุงูู ููุนโูุง ุฏุฑ BCL ุฏุงุชโูุช ุจุฑุง ูุฌููุนูโูุง ุฑุง ุจู ุฏุณุชูโูุง ุฒุฑ ุชูุณู ฺฉูู:</p>
<p>โข ุงูุชุฑูุณโูุง ฺฉู ูพุฑูุชฺฉูโูุง ุงุณุชุงูุฏุงุฑุฏ ูุฌููุนู ุฑุง ุชุนุฑู ูโฺฉููุฏ</p>
<p>โข ฺฉูุงุณโูุง ุขูุงุฏู ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ูุฌููุนูโูุง (ูุณุชโูุงุ ุฏฺฉุดูุฑโูุง ู ุบุฑู)</p>
<p>โข ฺฉูุงุณโูุง ูพุงู ุจุฑุง ููุดุชู ูุฌููุนูโูุง ูุฎุตูุต ุจุฑูุงูู</p>
<p>ุงู ูุตู ูุฑ ฺฉ ุงุฒ ุงู ุฏุณุชูโูุง ุฑุง ูพูุดุด ูโุฏูุฏุ ุจูโุนูุงูู ฺฉ ุจุฎุด ุงุถุงู ุฏุฑุจุงุฑู ููุนโูุง ฺฉู ุจุฑุง ุชุนู ุจุฑุงุจุฑ ู ุชุฑุชุจ ุนูุงุตุฑ ุงุณุชูุงุฏู ูโุดููุฏุ ุงุฑุงุฆู ูโฺฉูุฏ.</p>
<p>ูุถุงูุง ูุงู (namespaces) ูุฑุจูุท ุจู ูุฌููุนูโูุง ุจู ุดุฑุญ ุฒุฑ ูุณุชูุฏ:</p>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-1.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p><strong>ุดูุงุฑูโฺฏุฐุงุฑ (Enumeration) ๐ข</strong></p>
<p>ุฏุฑ ุนููู ฺฉุงููพูุชุฑุ ูุฌููุนูโูุง ูุฎุชูู ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุงุฒ ุณุงุฎุชุงุฑูุง ุฏุงุฏู ุณุงุฏู ูุงููุฏ ุขุฑุงูโูุง (arrays) ุง ูุณุชโูุง ูพููุฏ (linked lists)ุ ุชุง ุณุงุฎุชุงุฑูุง ูพฺุฏูโุชุฑ ูุงููุฏ ุฏุฑุฎุชโูุง ูุฑูุฒ/ุณุงู (red/black trees) ู ูุดุชโุฌุฏููโูุง (hashtables) ุฑุง ุดุงูู ูโุดููุฏ.</p>
<p>ุงฺฏุฑฺู ูพุงุฏูโุณุงุฒ ุฏุงุฎู ู ูฺฺฏโูุง ุฎุงุฑุฌ ุงู ุณุงุฎุชุงุฑูุง ุฏุงุฏู ุจุณุงุฑ ูุชูุงูุช ุงุณุชุ ุงูุง ุชูุงูุง ูพูุงุด (traverse) ูุญุชูุงุช ูุฌููุนูุ ูุงุฒ ุชูุฑุจุงู ุฌูุงู ุงุณุช. BCL ุฏุงุชโูุช ุงู ูุงุฒ ุฑุง ุงุฒ ุทุฑู ฺฉ ุฌูุช ุงูุชุฑูุณ (IEnumerable ู IEnumerator ู ูุณุฎูโูุง Generic ุขูโูุง) ูพุดุชุจุงู ูโฺฉูุฏ ฺฉู ุจู ุณุงุฎุชุงุฑูุง ุฏุงุฏู ูุฎุชูู ุงุฌุงุฒู ูโุฏูุฏ ฺฉ API ูุดุชุฑฺฉ ุจุฑุง ูพูุงุด ุงุฑุงุฆู ุฏููุฏ.</p>
<p>ุงู ุงูุชุฑูุณโูุง ุจุฎุด ุงุฒ ูุฌููุนู ุจุฒุฑฺฏโุชุฑ ุงุฒ ุงูุชุฑูุณโูุง ูุฌููุนู ูุณุชูุฏ ฺฉู ุฏุฑ ุดฺฉู ท-ฑ ูุดุงู ุฏุงุฏู ุดุฏูโุงูุฏ.</p>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-2.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p><strong>IEnumerable ู IEnumerator ๐</strong></p>
<p>ุงูุชุฑูุณ <code>IEnumerator</code> ูพุฑูุชฺฉู ูพุงู ู ุณุทุญ ูพุงู ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ุจุง ุขู ุนูุงุตุฑ ฺฉ ูุฌููุนู ุจูโุตูุฑุช ูพุดโุฑููุฏู (forward-only) ูพูุงุด ุง ุดูุงุฑูโฺฏุฐุงุฑ (enumerate) ูโุดููุฏ. ุชุนุฑู ุขู ุจู ุตูุฑุช ุฒุฑ ุงุณุช:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IEnumerator</span>
{
  <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">MoveNext</span>()</span>;
  <span class="hljs-built_in">object</span> Current { <span class="hljs-keyword">get</span>; }
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Reset</span>()</span>;
}
</code></pre>
<p>ูุชุฏ <code>MoveNext</code> ุนูุตุฑ ูุนู ุง ยซฺฉุฑุณุฑยป (cursor) ุฑุง ุจู ูููุนุช ุจุนุฏ ููุชูู ูโฺฉูุฏ ู ุงฺฏุฑ ุฏฺฏุฑ ุนูุตุฑ ุฏุฑ ูุฌููุนู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ ููุฏุงุฑ <code>false</code> ุจุฑูโฺฏุฑุฏุงูุฏ. <code>Current</code> ุนูุตุฑ ุฑุง ฺฉู ุฏุฑ ูููุนุช ูุนู ูุฑุงุฑ ุฏุงุฑุฏ ุจุฑูโฺฏุฑุฏุงูุฏ (ูุนูููุงู ุงุฒ ููุน <code>object</code> ุจู ููุน ุฎุงุตโุชุฑ ุชุจุฏู ูโุดูุฏ). ูุจู ุงุฒ ุฏุณุชุฑุณ ุจู ุงููู ุนูุตุฑุ ุญุชูุงู ุจุงุฏ <code>MoveNext</code> ูุฑุงุฎูุงู ุดูุฏ โ ุงู ฺฉุงุฑ ุงุฌุงุฒู ูโุฏูุฏ ุชุง ูุฌููุนู ุฎุงู ูุฒ ูุฏุฑุช ุดูุฏ. ูุชุฏ <code>Reset</code>ุ ุฏุฑ ุตูุฑุช ูพุงุฏูโุณุงุฒุ ฺฉุฑุณุฑ ุฑุง ุจู ุงุจุชุฏุง ูุฌููุนู ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ุงูฺฉุงู ูพูุงุด ูุฌุฏุฏ ูุฑุงูู ุดูุฏ. ูุฌูุฏ <code>Reset</code> ุจุดุชุฑ ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง <strong>Component Object Model (COM)</strong> ุงุณุชุ ูุฑุงุฎูุงู ูุณุชูู ุขู ูุนูููุงู ุงุฌุชูุงุจ ูโุดูุฏ ฺูู ููุดู ูพุดุชุจุงู ููโุดูุฏ ู ุจู ุทูุฑ ฺฉู ูุงุฒู ูุณุชุ ุฒุฑุง ุงุฌุงุฏ ฺฉ ููููู ุฌุฏุฏ ุงุฒ enumerator ุงุบูุจ ุณุงุฏูโุชุฑ ุงุณุช.</p>
<p>ูุนูููุงู ูุฌููุนูโูุง ุฎูุฏุดุงู enumerator ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉููุฏุ ุจูฺฉู <strong>enumerator</strong> ุฑุง ุงุฒ ุทุฑู ุงูุชุฑูุณ <code>IEnumerable</code> ูุฑุงูู ูโฺฉููุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IEnumerable</span>
{
  <span class="hljs-function">IEnumerator <span class="hljs-title">GetEnumerator</span>()</span>;
}
</code></pre>
<p>ุจุง ุชุนุฑู ฺฉ ูุชุฏ ฺฉู ฺฉ enumerator ุจุงุฒูโฺฏุฑุฏุงูุฏุ <code>IEnumerable</code> ุงูุนุทุงูโูพุฐุฑ ุงุฌุงุฏ ูโฺฉูุฏ ุชุง ููุทู ุชฺฉุฑุงุฑ (iteration) ุจู ฺฉูุงุณ ุฏฺฏุฑ ุณูพุฑุฏู ุดูุฏ. ููฺูู ุงู ุจู ุงู ูุนู ุงุณุช ฺฉู ฺูุฏ ูุตุฑูโฺฉููุฏู ูโุชูุงููุฏ ููุฒูุงู ูุฌููุนู ุฑุง ูพูุงุด ฺฉููุฏ ุจุฏูู ุงูฺฉู ุจุง ฺฉุฏฺฏุฑ ุชุฏุงุฎู ุฏุงุดุชู ุจุงุดูุฏ. ูโุชูุงู <code>IEnumerable</code> ุฑุง ยซ<code>IEnumeratorProvider</code>ยป ุฏุฑ ูุธุฑ ฺฏุฑูุชุ ู ุงู ุงุจุชุฏุงโุชุฑู ุงูุชุฑูุณ ุงุณุช ฺฉู ฺฉูุงุณโูุง ูุฌููุนู ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ.</p>
<p>ููููู ุฒุฑ ุงุณุชูุงุฏู ุณุทุญ ูพุงู ุงุฒ <code>IEnumerable</code> ู <code>IEnumerator</code> ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">string</span> s = <span class="hljs-string">&quot;Hello&quot;</span>;
<span class="hljs-comment">// ฺูู ุฑุดุชู String ุงูุชุฑูุณ IEnumerable ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูโุชูุงูู GetEnumerator ุฑุง ูุฑุงุฎูุงู ฺฉูู:</span>
IEnumerator rator = s.GetEnumerator();
<span class="hljs-keyword">while</span> (rator.MoveNext())
{
  <span class="hljs-built_in">char</span> c = (<span class="hljs-built_in">char</span>) rator.Current;
  Console.Write(c + <span class="hljs-string">&quot;.&quot;</span>);
}
<span class="hljs-comment">// ุฎุฑูุฌ: H.e.l.l.o.</span>
</code></pre>
<p>ุจุง ุงู ุญุงูุ ุจูโูุฏุฑุช ูพุด ูโุขุฏ ฺฉู ูุชุฏูุง ุฑู enumerator ุจู ุงู ุดฺฉู ูุฑุงุฎูุงู ุดููุฏุ ุฒุฑุง C# ฺฉ ูุงูโุจุฑ ูุญู ูุฑุงูู ูโฺฉูุฏ: ุฏุณุชูุฑ <code>foreach</code>. ูุซุงู ุจุงูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <code>foreach</code> ุจู ุดฺฉู ุฒุฑ ุจุงุฒููุณ ูโุดูุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">string</span> s = <span class="hljs-string">&quot;Hello&quot;</span>;      <span class="hljs-comment">// ฺฉูุงุณ String ุงูุชุฑูุณ IEnumerable ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ</span>
<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> c <span class="hljs-keyword">in</span> s)
  Console.Write(c + <span class="hljs-string">&quot;.&quot;</span>);
</code></pre>
<hr>
<h3><code>IEnumerable&lt;T&gt;</code> ู <code>IEnumerator&lt;T&gt;</code> ๐งฉ</h3>
<p><code>IEnumerator</code> ู <code>IEnumerable</code> ุชูุฑุจุงู ููุดู ููุฑุงู ุจุง ูุณุฎูโูุง Generic ุฎูุฏ ูพุงุฏูโุณุงุฒ ูโุดููุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IEnumerator</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IEnumerator</span>, <span class="hljs-title">IDisposable</span>
{
  T Current { <span class="hljs-keyword">get</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IEnumerable</span>
{
  <span class="hljs-function">IEnumerator&lt;T&gt; <span class="hljs-title">GetEnumerator</span>()</span>;
}
</code></pre>
<p>ุจุง ุชุนุฑู ูุณุฎูโุง ููุนโุฏุงุฑ (typed) ุงุฒ <code>Current</code> ู <code>GetEnumerator</code>ุ ุงู ุงูุชุฑูุณโูุง ุงูู ููุน ุงุณุชุง (static type safety) ุฑุง ุชููุช ูโฺฉููุฏุ ุงุฒ ุณุฑุจุงุฑ <strong>boxing</strong> ุฏุฑ ุนูุงุตุฑ ููุน ููุฏุงุฑ (value-type) ุฌููฺฏุฑ ูโฺฉููุฏ ู ุจุฑุง ูุตุฑูโฺฉููุฏู ุฑุงุญุชโุชุฑ ูุณุชูุฏ. ุขุฑุงูโูุง ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ <code>IEnumerable&lt;T&gt;</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ (ฺฉู T ููุน ุนุถู ุขุฑุงู ุงุณุช).</p>
<p>ุจู ูุทู ุงูู ููุน ุงุณุชุงุ ูุฑุงุฎูุงู ูุชุฏ ุฒุฑ ุจุง ุขุฑุงูโุง ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุจุงุนุซ ุงุฌุงุฏ ุฎุทุง ุฒูุงู ฺฉุงููพุงู ูโุดูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Test</span> (<span class="hljs-params">IEnumerable&lt;<span class="hljs-built_in">int</span>&gt; numbers</span>)</span> { ... }
</code></pre>
<p>ฺฉ ุฑูุด ุงุณุชุงูุฏุงุฑุฏ ุฏุฑ ฺฉูุงุณโูุง ูุฌููุนู ุงู ุงุณุช ฺฉู <code>IEnumerable&lt;T&gt;</code> ุฑุง ุจูโุตูุฑุช ุนููู (public) ููุงุด ุฏููุฏ ู <code>IEnumerable</code> ุบุฑ Generic ุฑุง ุงุฒ ุทุฑู ูพุงุฏูโุณุงุฒ ุตุฑุญ ุงูุชุฑูุณ (explicit interface implementation) ยซูุฎูยป ฺฉููุฏ. ุงู ฺฉุงุฑ ุจู ุงู ุฏูู ุงุณุช ฺฉู ุงฺฏุฑ ูุณุชููุงู <code>GetEnumerator()</code> ูุฑุงุฎูุงู ุดูุฏุ ฺฉ <code>IEnumerator&lt;T&gt;</code> ุงูู ุงุฒ ูุธุฑ ููุน ุจุงุฒฺฏุฑุฏุงูุฏู ุดูุฏ.</p>
<p>ุจุง ุงู ุญุงูุ ฺฏุงู ุงู ูุงููู ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎูโูุง ูุฏู ุดฺฉุณุชู ูโุดูุฏ (ุฒุฑุง Genericูุง ูุจู ุงุฒ C# 2.0 ูุฌูุฏ ูุฏุงุดุชูุฏ). ฺฉ ูุซุงู ุฎูุจ ุขุฑุงูโูุง ูุณุชูุฏ โ ุงูโูุง ุจุงุฏ <code>IEnumerator</code> ุบุฑ Generic (ุง ููุงู ูุณุฎู ยซฺฉูุงุณฺฉยป) ุฑุง ุจุฑฺฏุฑุฏุงููุฏ ุชุง ฺฉุฏูุง ูุจู ุฎุฑุงุจ ูุดููุฏ. ุจุฑุง ุจู ุฏุณุช ุขูุฑุฏู <code>IEnumerator&lt;T&gt;</code> Genericุ ุจุงุฏ ููุน ุฑุง ุจู ุตูุฑุช ุตุฑุญ ุชุจุฏู (cast) ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] data = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
<span class="hljs-keyword">var</span> rator = ((IEnumerable&lt;<span class="hljs-built_in">int</span>&gt;)data).GetEnumerator();
</code></pre>
<p>ุฎูุดุจุฎุชุงูู ุจู ูุทู ุฏุณุชูุฑ <code>foreach</code>ุ ุจู ูุฏุฑุช ูุงุฒ ุงุณุช ฺูู ฺฉุฏ ููุดุชู ุดูุฏ.</p>
<p><strong>IEnumerable<T> ู IDisposable โป๏ธ</strong></p>
<p><code>IEnumerator&lt;T&gt;</code> ุงุฒ <code>IDisposable</code> ุงุฑุซโุจุฑ ูโฺฉูุฏ. ุงู ุงูฺฉุงู ุฑุง ุจู enumerator ูโุฏูุฏ ฺฉู ุจู ููุงุจุน ูุงููุฏ ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู (database connections) ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ ู ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุงู ููุงุจุน ูพุณ ุงุฒ ุงุชูุงู ุง ูุทุน ูพูุงุด ุขุฒุงุฏ ูโุดููุฏ. ุฏุณุชูุฑ <code>foreach</code> ุงู ูฺฉุชู ุฑุง ุชุดุฎุต ูโุฏูุฏ ู ุนุจุงุฑุช ุฒุฑ ุฑุง:</p>
<pre class="hljs"><code><span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> element <span class="hljs-keyword">in</span> somethingEnumerable) { ... }
</code></pre>
<p>ุจู ูุนุงุฏู ููุทู ุฒุฑ ุชุจุฏู ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> rator = somethingEnumerable.GetEnumerator())
  <span class="hljs-keyword">while</span> (rator.MoveNext())
  {
    <span class="hljs-keyword">var</span> element = rator.Current;
    ...
  }
</code></pre>
<p>ุจููฺฉ <code>using</code> ุชุถูู ูโฺฉูุฏ ฺฉู ููุงุจุน ุจู ุฏุฑุณุช Dispose ุดููุฏ โ ุฏุฑุจุงุฑู <code>IDisposable</code> ุฏุฑ ูุตู ฑฒ ุจุดุชุฑ ุชูุถุญ ุฏุงุฏู ูโุดูุฏ.</p>
<hr>
<h3>ุงุณุชูุงุฏู ุงุฒ ุงูุชุฑูุณโูุง ุบุฑ Generic โ</h3>
<p>ุจุง ุชูุฌู ุจู ุงูู ููุน ุงุถุงู ฺฉู ุงูุชุฑูุณโูุง ูุฌููุนู Generic ูุงููุฏ <code>IEnumerable&lt;T&gt;</code> ุงุฑุงุฆู ูโุฏููุฏุ ุงู ุณุคุงู ูุทุฑุญ ูโุดูุฏ: ุขุง ูุงูุนุงู ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ <code>IEnumerable</code> ุบุฑ Generic (ุง <code>ICollection</code> ุง <code>IList</code>) ูุฌูุฏ ุฏุงุฑุฏุ</p>
<p>ุฏุฑ ููุฑุฏ <code>IEnumerable</code>ุ ุจุงุฏ ุงู ุงูุชุฑูุณ ุฑุง ููุฑุงู ุจุง <code>IEnumerable&lt;T&gt;</code> ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุฒุฑุง ูุณุฎู Generic ุงุฒ ูุณุฎู ุบุฑ Generic ุงุฑุซโุจุฑ ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ุจุณุงุฑ ูุงุฏุฑ ุงุณุช ฺฉู ุจุฎูุงูุฏ ุงู ุงูุชุฑูุณโูุง ุฑุง ุงุฒ ุงุจุชุฏุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุฏุฑ ุงฺฉุซุฑ ููุงุฑุฏ ูโุชูุงูุฏ ุงุฒ ุฑูุดโูุง ุณุทุญ ุจุงูุงุชุฑ ูุงููุฏ <strong>iterator methods</strong>ุ <code>Collection&lt;T&gt;</code> ู <strong>LINQ</strong> ุงุณุชูุงุฏู ฺฉูุฏ.</p>
<hr>
<h3>ุจูโุนููุงู ูุตุฑูโฺฉููุฏู ๐</h3>
<p>ุฏุฑ ุงฺฉุซุฑ ููุงุฑุฏุ ูโุชูุงูุฏ ุจูโุทูุฑ ฺฉุงูู ุจุง ุงูุชุฑูุณโูุง Generic ฺฉุงุฑ ฺฉูุฏ. ุจุง ุงู ุญุงูุ ุงูุชุฑูุณโูุง ุบุฑ Generic ูููุฒ ฺฏุงู ููุฏ ูุณุชูุฏุ ุฒุฑุง ุชูุงูุง ุงุฑุงุฆู <strong>ฺฉูพุงุฑฺฺฏ ููุน</strong> ุจุฑุง ูุฌููุนูโูุง ุจุง ููู ููุน ุนูุงุตุฑ ุฑุง ุฏุงุฑูุฏ.</p>
<p>ุจุฑุง ูุซุงูุ ูุชุฏ ุฒุฑ ุชุนุฏุงุฏ ุนูุงุตุฑ ููุฌูุฏ ุฏุฑ ูุฑ ูุฌููุนูโุง ุฑุง ุจูโุตูุฑุช ุจุงุฒฺฏุดุช ูโุดูุงุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Count</span>(<span class="hljs-params">IEnumerable e</span>)</span>
{
    <span class="hljs-built_in">int</span> count = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">object</span> element <span class="hljs-keyword">in</span> e)
    {
        <span class="hljs-keyword">var</span> subCollection = element <span class="hljs-keyword">as</span> IEnumerable;
        <span class="hljs-keyword">if</span> (subCollection != <span class="hljs-literal">null</span>)
            count += Count(subCollection);
        <span class="hljs-keyword">else</span>
            count++;
    }
    <span class="hljs-keyword">return</span> count;
}
</code></pre>
<p>ฺูู C# ุจุง ุงูุชุฑูุณโูุง Generic ุงูฺฉุงู <strong>covariance</strong> ุฑุง ุงุฑุงุฆู ูโุฏูุฏุ ููฺฉู ุงุณุช ูฺฉุฑ ฺฉูุฏ ูโุชูุงูุณุชู ุจู ุฌุง ุขู <code>IEnumerable&lt;object&gt;</code> ุฏุฑุงูุช ฺฉูู. ุงูุง ุงู ุฑูุด ุจุง ุนูุงุตุฑ ููุน ููุฏุงุฑ (value-type) ู ูุฌููุนูโูุง ูุฏู ฺฉู <code>IEnumerable&lt;T&gt;</code> ุฑุง ูพุงุฏูโุณุงุฒ ูฺฉุฑุฏูโุงูุฏุ ุดฺฉุณุช ูโุฎูุฑุฏ โ ูุซุงู ุงุฒ ุงู ููุนุ <code>ControlCollection</code> ุฏุฑ Windows Forms ุงุณุช.</p>
<blockquote>
<p>โ๏ธ ูฺฉุชู: ุฏุฑ ูุซุงู ุจุงูุงุ ุงุฑุฌุงุนุงุช ฺุฑุฎูโุง (cyclic references) ูโุชูุงููุฏ ุจุงุนุซ ุจุงุฒฺฏุดุช ูุงูุชูุงู ู ฺฉุฑุด ุดุฏู ุจุฑูุงูู ุดููุฏ. ุณุงุฏูโุชุฑู ุฑุงู ุญูุ ุงุณุชูุงุฏู ุงุฒ <code>HashSet</code> ุงุณุช (ุจู ุจุฎุด &quot;HashSet<T> ู SortedSet<T>&quot; ุฏุฑ ุตูุญู ณนฒ ูุฑุงุฌุนู ฺฉูุฏ).</p>
</blockquote>
<hr>
<h3>ูพุงุฏูโุณุงุฒ ุงูุชุฑูุณโูุง Enumeration ๐๏ธ</h3>
<p>ููฺฉู ุงุณุช ุจุฎูุงูุฏ <code>IEnumerable</code> ุง <code>IEnumerable&lt;T&gt;</code> ุฑุง ุจู ฺฉ ุง ฺูุฏ ุฏูู ุฒุฑ ูพุงุฏูโุณุงุฒ ฺฉูุฏ:</p>
<ul>
<li>ูพุดุชุจุงู ุงุฒ ุฏุณุชูุฑ <code>foreach</code></li>
<li>ููฺฉุงุฑ ุจุง ูุฑ ฺุฒ ฺฉู ูุฌููุนู ุงุณุชุงูุฏุงุฑุฏ ุงูุชุธุงุฑ ุฏุงุฑุฏ</li>
<li>ุฑุนุงุช ูุงุฒููุฏโูุง ฺฉ ุงูุชุฑูุณ ูุฌููุนู ูพุดุฑูุชูโุชุฑ</li>
<li>ูพุดุชุจุงู ุงุฒ <strong>collection initializers</strong></li>
</ul>
<p>ุจุฑุง ูพุงุฏูโุณุงุฒ <code>IEnumerable/IEnumerable&lt;T&gt;</code>ุ ุจุงุฏ ฺฉ <strong>enumerator</strong> ุงุฑุงุฆู ุฏูุฏ. ุณู ุฑูุด ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ูุฌูุฏ ุฏุงุฑุฏ:</p>
<ol>
<li>ุงฺฏุฑ ฺฉูุงุณุ ูุฌููุนู ุฏฺฏุฑ ุฑุง <strong>wrapper</strong> ูโฺฉูุฏุ ุจุง ุจุงุฒฺฏุฑุฏุงูุฏู enumerator ูุฌููุนู ุฏุงุฎู</li>
<li>ุงุฒ ุทุฑู ฺฉ <strong>iterator</strong> ุจุง ุงุณุชูุงุฏู ุงุฒ <code>yield return</code></li>
<li>ุจุง ุงุฌุงุฏ ูููููโุง ุงุฒ ูพุงุฏูโุณุงุฒ ุฎูุฏ <code>IEnumerator/IEnumerator&lt;T&gt;</code></li>
</ol>
<hr>
<h3>ููููู ุงุณุชูุงุฏู ุงุฒ iterator ุจุง <code>yield return</code> โจ</h3>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyCollection</span> : <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-built_in">int</span>[] data = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">GetEnumerator</span>()</span>
    {
        <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> i <span class="hljs-keyword">in</span> data)
            <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> i;
    }
}
</code></pre>
<p>ุฏุฑ ูฺฏุงู ุงููุ ุจู ูุธุฑ ูโุฑุณุฏ <code>GetEnumerator</code> ูฺ enumeratorโุง ุจุงุฒ ููโฺฏุฑุฏุงูุฏ! ุงูุง ฺฉุงููพุงูุฑ ููฺฏุงู ูพุฑุฏุงุฒุด <code>yield return</code>ุ ฺฉ ฺฉูุงุณ enumerator ูพููุงู ูโุณุงุฒุฏ ู <code>GetEnumerator</code> ุฑุง ุทูุฑ ุชุบุฑ ูโุฏูุฏ ฺฉู ุขู ฺฉูุงุณ ุฑุง ูููููโุณุงุฒ ู ุจุงุฒฺฏุฑุฏุงูุฏ.</p>
<p>ุงู ุฑูุด ุณุงุฏูุ ูุฏุฑุชููุฏ ู ุฏุฑ ูพุงุฏูโุณุงุฒ <strong>LINQ-to-Objects</strong> ุจุณุงุฑ ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<hr>
<h3>ูพุงุฏูโุณุงุฒ ูุณุฎู Generic ๐งฉ</h3>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyGenCollection</span> : <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">int</span>&gt;
{
    <span class="hljs-built_in">int</span>[] data = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">GetEnumerator</span>()</span>
    {
        <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> i <span class="hljs-keyword">in</span> data)
            <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> i;
    }

    <span class="hljs-comment">// ูพุงุฏูโุณุงุฒ ุตุฑุญ ูุณุฎู ุบุฑ Generic:</span>
    IEnumerator IEnumerable.GetEnumerator() =&gt; GetEnumerator();
}
</code></pre>
<p>ฺูู <code>IEnumerable&lt;T&gt;</code> ุงุฒ <code>IEnumerable</code> ุงุฑุซโุจุฑ ูโฺฉูุฏุ ุจุงุฏ ูุฑ ุฏู ูุณุฎู Generic ู ุบุฑ Generic ุงุฒ <code>GetEnumerator</code> ูพุงุฏูโุณุงุฒ ุดููุฏ. ูุณุฎู ุบุฑ Generic ูุนูููุงู ุจูโุตูุฑุช ุตุฑุญ (explicit) ูพุงุฏูโุณุงุฒ ูโุดูุฏ ุชุง ุจุชูุงูุฏ ูุณุฎู Generic ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ุฒุฑุง <code>IEnumerator&lt;T&gt;</code> ุงุฒ <code>IEnumerator</code> ุงุฑุซโุจุฑ ูโฺฉูุฏ.</p>
<hr>
<h3>ูพุงุฏูโุณุงุฒ ูุณุชูู IEnumerator ๐ง</h3>
<p>ุฏุฑ ุจุฑุฎ ููุงุฑุฏุ ูโุชูุงูุฏ ฺฉ ฺฉูุงุณ ุจููุณุฏ ฺฉู ูุณุชููุงู <code>IEnumerator</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ูุซุงู ุฒุฑ ฺฉ ูุฌููุนู ุซุงุจุช ุจุง ุงุนุฏุงุฏ 1ุ 2 ู 3 ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyIntList</span> : <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-built_in">int</span>[] data = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">GetEnumerator</span>()</span> =&gt; <span class="hljs-keyword">new</span> Enumerator(<span class="hljs-keyword">this</span>);

    <span class="hljs-keyword">class</span> <span class="hljs-title">Enumerator</span> : <span class="hljs-title">IEnumerator</span>
    {
        MyIntList collection;
        <span class="hljs-built_in">int</span> currentIndex = <span class="hljs-number">-1</span>;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Enumerator</span>(<span class="hljs-params">MyIntList items</span>)</span> =&gt; <span class="hljs-keyword">this</span>.collection = items;

        <span class="hljs-keyword">public</span> <span class="hljs-built_in">object</span> Current
        {
            <span class="hljs-keyword">get</span>
            {
                <span class="hljs-keyword">if</span> (currentIndex == <span class="hljs-number">-1</span>)
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidOperationException(<span class="hljs-string">&quot;Enumeration not started!&quot;</span>);
                <span class="hljs-keyword">if</span> (currentIndex == collection.data.Length)
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidOperationException(<span class="hljs-string">&quot;Past end of list!&quot;</span>);
                <span class="hljs-keyword">return</span> collection.data[currentIndex];
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">MoveNext</span>()</span>
        {
            <span class="hljs-keyword">if</span> (currentIndex &gt;= collection.data.Length - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> ++currentIndex &lt; collection.data.Length;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Reset</span>()</span> =&gt; currentIndex = <span class="hljs-number">-1</span>;
    }
}
</code></pre>
<p>ูพุงุฏูโุณุงุฒ <code>Reset</code> ุงุฎุชุงุฑ ุงุณุช โ ูโุชูุงูุฏ ุจู ุฌุง ุขู <code>NotSupportedException</code> ูพุฑุชุงุจ ฺฉูุฏ.</p>
<hr>
<h3>ูพุงุฏูโุณุงุฒ Generic ูุณุชูู โ</h3>
<pre class="hljs"><code><span class="hljs-keyword">class</span> <span class="hljs-title">MyIntList</span> : <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">int</span>&gt;
{
    <span class="hljs-built_in">int</span>[] data = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };

    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">GetEnumerator</span>()</span> =&gt; <span class="hljs-keyword">new</span> Enumerator(<span class="hljs-keyword">this</span>);
    IEnumerator IEnumerable.GetEnumerator() =&gt; <span class="hljs-keyword">new</span> Enumerator(<span class="hljs-keyword">this</span>);

    <span class="hljs-keyword">class</span> <span class="hljs-title">Enumerator</span> : <span class="hljs-title">IEnumerator</span>&lt;<span class="hljs-title">int</span>&gt;
    {
        <span class="hljs-built_in">int</span> currentIndex = <span class="hljs-number">-1</span>;
        MyIntList collection;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Enumerator</span>(<span class="hljs-params">MyIntList items</span>)</span> =&gt; collection = items;

        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Current =&gt; collection.data[currentIndex];
        <span class="hljs-built_in">object</span> IEnumerator.Current =&gt; Current;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">MoveNext</span>()</span> =&gt; ++currentIndex &lt; collection.data.Length;
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Reset</span>()</span> =&gt; currentIndex = <span class="hljs-number">-1</span>;

        <span class="hljs-comment">// ุงุฒ ุขูุฌุง ฺฉู ูุงุฒ ุจู Dispose ูุฏุงุฑูุ ุจูุชุฑ ุงุณุช ุตุฑุญ ูพุงุฏูโุณุงุฒ ุดูุฏ ุชุง ุงุฒ ุฑุงุจุท ุนููู ูุฎู ุจูุงูุฏ</span>
        <span class="hljs-keyword">void</span> IDisposable.Dispose() {}
    }
}
</code></pre>
<p>ูุณุฎู Generic ุณุฑุนโุชุฑ ุงุณุช ุฒุฑุง <code>IEnumerator&lt;int&gt;.Current</code> ูุงุฒ ุจู <strong>casting</strong> ุงุฒ <code>int</code> ุจู <code>object</code> ูุฏุงุฑุฏ ู ุณุฑุจุงุฑ <strong>boxing</strong> ุฑุง ุญุฐู ูโฺฉูุฏ.</p>
<p><strong>ุงูุชุฑูุณโูุง ICollection ู IList ๐๏ธ</strong></p>
<p>ุงฺฏุฑฺู ุงูุชุฑูุณโูุง Enumeration ฺฉ ูพุฑูุชฺฉู ุจุฑุง ูพูุงุด <strong>ููุท ุจู ุฌูู</strong> (forward-only) ุฏุฑ ูุฌููุนูโูุง ูุฑุงูู ูโฺฉููุฏุ ุงูุง ูฺฉุงูุฒู ุจุฑุง ุชุนู ุงูุฏุงุฒู ูุฌููุนูุ ุฏุณุชุฑุณ ุจู ุนุถู ุงุฒ ุทุฑู ุงูุฏุณุ ุง ุชุบุฑ ูุญุชูุงุช ูุฌููุนู ุงุฑุงุฆู ููโุฏููุฏ. ุจุฑุง ฺูู ูุงุจูุชโูุงุ ุฏุงุชโูุช ุงูุชุฑูุณโูุง <code>ICollection</code>ุ <code>IList</code> ู <code>IDictionary</code> ุฑุง ุชุนุฑู ฺฉุฑุฏู ุงุณุช. ูุฑฺฉุฏุงู ุงุฒ ุงู ุงูุชุฑูุณโูุง ูุณุฎูโูุง <strong>Generic</strong> ู <strong>Non-Generic</strong> ุฏุงุฑูุฏุ ุจุง ุงู ุญุงูุ ูุณุฎูโูุง ุบุฑ Generic ุนูุฏุชุงู ุจุฑุง ูพุดุชุจุงู ุงุฒ ฺฉุฏูุง ูุฏู ูุฌูุฏ ุฏุงุฑูุฏ.</p>
<p>ุดฺฉู ท-ฑ ุณูุณูู ูุฑุงุชุจ ุงุฑุซโุจุฑ ุงู ุงูุชุฑูุณโูุง ุฑุง ูุดุงู ุฏุงุฏ. ุณุงุฏูโุชุฑู ุฑุงู ุจุฑุง ุฎูุงุตูโุณุงุฒ ุขูโูุง ุจู ุดุฑุญ ุฒุฑ ุงุณุช:</p>
<ul>
<li><code>IEnumerable&lt;T&gt;</code> (ู <code>IEnumerable</code>)<br>
ุญุฏุงูู ูุงุจูุชโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ (ููุท ูพูุงุด)</li>
<li><code>ICollection&lt;T&gt;</code> (ู <code>ICollection</code>)<br>
ูุงุจูุชโูุง ูุชูุณุท ุฑุง ุงุฑุงุฆู ูโุฏูุฏ (ูุซูุงู ูฺฺฏ <code>Count</code>)</li>
<li><code>IList&lt;T&gt;</code> / <code>IDictionary&lt;K,V&gt;</code> ู ูุณุฎูโูุง ุบุฑ Generic ุขูโูุง<br>
ุญุฏุงฺฉุซุฑ ูุงุจูุชโูุง ุฑุง ุงุฑุงุฆู ูโุฏููุฏ (ุดุงูู ุฏุณุชุฑุณ ยซุชุตุงุฏูยป ุจู ุนูุงุตุฑ ุจุง ุงูุฏุณ ุง ฺฉูุฏ)</li>
</ul>
<p>ุจู ูุฏุฑุช ูพุด ูโุขุฏ ฺฉู ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ ูุฑ ฺฉ ุงุฒ ุงู ุงูุชุฑูุณโูุง ุฑุง ุฎูุฏุชุงู ูพุงุฏูโุณุงุฒ ฺฉูุฏ. ุฏุฑ ุงฺฉุซุฑ ููุงูุนุ ููฺฏุงู ููุดุชู ฺฉ ฺฉูุงุณ ูุฌููุนูุ ูโุชูุงูุฏ ุจู ุฌุง ุขู ุงุฒ <strong>subclass</strong> ฺฉุฑุฏู <code>Collection&lt;T&gt;</code> ุงุณุชูุงุฏู ฺฉูุฏ (ุจู ุจุฎุด &quot;Customizable Collections and Proxies&quot; ุฏุฑ ุตูุญู ดฐฑ ูุฑุงุฌุนู ฺฉูุฏ). <strong>LINQ</strong> ูุฒ ฺฏุฒูู ุฏฺฏุฑ ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุจุณุงุฑ ุงุฒ ุณูุงุฑููุง ุฑุง ูพูุดุด ูโุฏูุฏ.</p>
<p>ูุณุฎูโูุง Generic ู Non-Generic ุชูุงูุชโูุง ูุฑุงุชุฑ ุงุฒ ุงูุชุธุงุฑ ูุนููู ุฏุงุฑูุฏุ ุจูโูฺู ุฏุฑ ููุฑุฏ <code>ICollection</code>. ุงู ุชูุงูุชโูุง ุนูุฏุชุงู ุชุงุฑุฎ ูุณุชูุฏ: ฺูู Genericูุง ุจุนุฏุงู ูุงุฑุฏ ุดุฏูุฏุ ุงูุชุฑูุณโูุง Generic ุจุง ุจูุฑูโููุฏ ุงุฒ ุชุฌุฑุจู ูพุดู ุชูุณุนู ุงูุชูุฏ ู ุงุนุถุง ูุชูุงูุช (ู ุจูุชุฑ) ุงูุชุฎุงุจ ุดุฏูุฏ.</p>
<p>ุจู ููู ุฏูู:</p>
<ul>
<li><code>ICollection&lt;T&gt;</code> ุงุฒ <code>ICollection</code> ุงุฑุซโุจุฑ ููโฺฉูุฏ</li>
<li><code>IList&lt;T&gt;</code> ุงุฒ <code>IList</code> ุงุฑุซโุจุฑ ููโฺฉูุฏ</li>
<li><code>IDictionary&lt;TKey, TValue&gt;</code> ุงุฒ <code>IDictionary</code> ุงุฑุซโุจุฑ ููโฺฉูุฏ</li>
</ul>
<p>ุงูุจุชูุ ฺฉ ฺฉูุงุณ ูุฌููุนู ูโุชูุงูุฏ ูุฑ ุฏู ูุณุฎู ฺฉ ุงูุชุฑูุณ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ ุงฺฏุฑ ููุฏ ุจุงุดุฏ (ฺฉู ุงุบูุจ ููุฏ ุงุณุช).</p>
<p>ุฏูู ุธุฑูโุชุฑ ุฏฺฏุฑ ฺฉู ุจุงุนุซ ุดุฏู <code>IList&lt;T&gt;</code> ุงุฒ <code>IList</code> ุงุฑุซโุจุฑ ูฺฉูุฏ ุงู ุงุณุช ฺฉู ุงฺฏุฑ ุงู ฺฉุงุฑ ุงูุฌุงู ุดูุฏุ ุชุจุฏู ุจู <code>IList&lt;T&gt;</code> ููุฌุจ ุจุงุฒฺฏุดุช ฺฉ ุงูุชุฑูุณ ุจุง ุงุนุถุง <code>Add(T)</code> ู <code>Add(object)</code> ูโุดูุฏุ ฺฉู ุฏุฑ ูุงูุน ุงูู ููุน ุงุณุชุง (static type safety) ุฑุง ููุถ ูโฺฉูุฏุ ุฒุฑุง ูโุชูุงูุณุชุฏ ุจุง ูุฑ ููุน ุดุฆ <code>Add</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ.</p>
<hr>
<h3>ุงู ุจุฎุด ุดุงูู ฺู ููุงุฑุฏ ุงุณุช ๐</h3>
<p>ุงู ุจุฎุด ุจู <code>ICollection&lt;T&gt;</code> ู <code>IList&lt;T&gt;</code> ู ูุณุฎูโูุง ุบุฑ Generic ุขูโูุง ูโูพุฑุฏุงุฒุฏุ <strong>ุฏฺฉุดูุฑโูุง</strong> ุฏุฑ ุตูุญู ณนด ุชุญุช ูพูุดุด ูุฑุงุฑ ุฏุงุฑูุฏ.</p>
<p>ุฏุฑ ฺฉุชุงุจุฎุงููโูุง ุฏุงุชโูุชุ ูฺ ููุทู ฺฉูพุงุฑฺูโุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุงฺูโูุง &quot;collection&quot; ู &quot;list&quot; ูุฌูุฏ ูุฏุงุฑุฏ.<br>
ุจุฑุง ูุซุงูุ ฺูู <code>IList&lt;T&gt;</code> ูุณุฎูโุง ุจุง ูุงุจูุช ุจุดุชุฑ ุงุฒ <code>ICollection&lt;T&gt;</code> ุงุณุชุ ููฺฉู ุงุณุช ุงูุชุธุงุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉูุงุณ <code>List&lt;T&gt;</code> ุจูโุทูุฑ ูุดุงุจู ุงุฒ ฺฉูุงุณ <code>Collection&lt;T&gt;</code> ฺฉุงุฑุจุฑุฏโุชุฑ ุจุงุดุฏุ ุงูุง ุงูโฺฏููู ูุณุช. ุจูุชุฑ ุงุณุช ุงู ุฏู ูุงฺู ุฑุง ุจูโุทูุฑ ฺฉู ูุชุฑุงุฏู ุฏุฑ ูุธุฑ ุจฺฏุฑุฏุ ูฺฏุฑ ุขูฺฉู ููุน ุฎุงุต ูุฏูุธุฑ ุจุงุดุฏ.</p>
<hr>
<h3>ICollection<T> ู ICollection ๐ฆ</h3>
<p><code>ICollection&lt;T&gt;</code> ุงูุชุฑูุณ ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ูุฌููุนูโูุง ุดูุงุฑุดโูพุฐุฑ ุงุณุช. ุงู ุงูุชุฑูุณ ุงูฺฉุงู:</p>
<ul>
<li>ุชุนู ุงูุฏุงุฒู ูุฌููุนู (<code>Count</code>)</li>
<li>ุจุฑุฑุณ ูุฌูุฏ ฺฉ ุขุชู ุฏุฑ ูุฌููุนู (<code>Contains</code>)</li>
<li>ฺฉูพ ูุฌููุนู ุจู ุขุฑุงู (<code>ToArray</code>)</li>
<li>ุชุนู ุงูฺฉู ูุฌููุนู ููุท ุฎูุงูุฏู ุงุณุช (<code>IsReadOnly</code>)</li>
</ul>
<p>ู ุจุฑุง ูุฌููุนูโูุง ูุงุจู ููุดุชูุ ุงูฺฉุงู ุงูุฒูุฏู (<code>Add</code>)ุ ุญุฐู (<code>Remove</code>) ู ูพุงฺฉ ฺฉุฑุฏู (<code>Clear</code>) ุนูุงุตุฑ ุฑุง ูุฒ ูุฑุงูู ูโฺฉูุฏ.<br>
ููฺูู ฺูู ุงุฒ <code>IEnumerable&lt;T&gt;</code> ุงุฑุซโุจุฑ ูโฺฉูุฏุ ูโุชูุงู ุงุฒ ุฏุณุชูุฑ <code>foreach</code> ูุฒ ุจุฑุง ูพูุงุด ุขู ุงุณุชูุงุฏู ฺฉุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">ICollection</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-built_in">int</span> Count { <span class="hljs-keyword">get</span>; }
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Contains</span>(<span class="hljs-params">T item</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params">T[] array, <span class="hljs-built_in">int</span> arrayIndex</span>)</span>;
    <span class="hljs-built_in">bool</span> IsReadOnly { <span class="hljs-keyword">get</span>; }
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Add</span>(<span class="hljs-params">T item</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Remove</span>(<span class="hljs-params">T item</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Clear</span>()</span>;
}
</code></pre>
<p>ูุณุฎู ุบุฑ Generic <code>ICollection</code> ูุดุงุจู ุงุณุช ู ูุฌููุนูโุง ุดูุงุฑุดโูพุฐุฑ ุงุฑุงุฆู ูโุฏูุฏุ ุงูุง ูุงุจูุช ุชุบุฑ ูุญุชูุงุช ูุฌููุนู ุง ุจุฑุฑุณ ุนุถูุช ุนูุงุตุฑ ุฑุง ูุฏุงุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">ICollection</span> : <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-built_in">int</span> Count { <span class="hljs-keyword">get</span>; }
    <span class="hljs-built_in">bool</span> IsSynchronized { <span class="hljs-keyword">get</span>; }
    <span class="hljs-built_in">object</span> SyncRoot { <span class="hljs-keyword">get</span>; }
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params">Array array, <span class="hljs-built_in">int</span> index</span>)</span>;
}
</code></pre>
<p>ุงู ูุณุฎู ุบุฑ Generic ููฺูู ูฺฺฏโูุง ุจุฑุง ฺฉูฺฉ ุจู <strong>ุณูฺฉ ฺฉุฑุฏู (synchronization)</strong> ุฏุงุฑุฏ (ูุตู ฑด) โ ุงู ูฺฺฏโูุง ุฏุฑ ูุณุฎู Generic ุญุฐู ุดุฏูุฏ ุฒุฑุง <strong>Thread Safety</strong> ุฏฺฏุฑ ุฐุงุชุงู ุจุฎุด ุงุฒ ูุฌููุนูโูุง ูุญุณูุจ ููโุดูุฏ.</p>
<p>ูุฑ ุฏู ุงูุชุฑูุณ ูุณุจุชุงู ุณุงุฏู ุจุฑุง ูพุงุฏูโุณุงุฒ ูุณุชูุฏ. ุงฺฏุฑ ุจุฎูุงูุฏ ฺฉ <code>ICollection&lt;T&gt;</code> ููุท ุฎูุงูุฏู ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูุชุฏูุง <code>Add</code>ุ <code>Remove</code> ู <code>Clear</code> ุจุงุฏ <code>NotSupportedException</code> ูพุฑุชุงุจ ฺฉููุฏ.</p>
<p>ูุนูููุงู ุงู ุงูุชุฑูุณโูุง ููุฑุงู ุจุง <code>IList</code> ุง <code>IDictionary</code> ูพุงุฏูโุณุงุฒ ูโุดููุฏ.<br>
<strong>ุงูุชุฑูุณโูุง IList<T> ู IList ๐</strong></p>
<p><code>IList&lt;T&gt;</code> ุงูุชุฑูุณ ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ูุฌููุนูโูุง ุงุณุช ฺฉู ูโุชูุงู ุจู ุนูุงุตุฑ ุขูโูุง ุจุง <strong>ูููุนุช (ุงูุฏุณ)</strong> ุฏุณุชุฑุณ ุฏุงุดุช. ุนูุงูู ุจุฑ ูุงุจูุชโูุง ฺฉู ุงุฒ <code>ICollection&lt;T&gt;</code> ู <code>IEnumerable&lt;T&gt;</code> ุจู ุงุฑุซ ุจุฑุฏูุ ุงู ุงูุชุฑูุณ ุงูฺฉุงู <strong>ุฎูุงูุฏู ู ููุดุชู ุนูุตุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏุณ</strong> ู <strong>ุฏุฑุฌ/ุญุฐู ุนูุตุฑ ุจุฑ ุงุณุงุณ ูููุนุช</strong> ุฑุง ูุฒ ูุฑุงูู ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IList</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">ICollection</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IEnumerable</span>
{
    T <span class="hljs-keyword">this</span>[<span class="hljs-built_in">int</span> index] { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">IndexOf</span>(<span class="hljs-params">T item</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, T item</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">RemoveAt</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index</span>)</span>;
}
</code></pre>
<p>ูุชุฏ <code>IndexOf</code> ุฌุณุชุฌู ุฎุท (linear search) ุฏุฑ ูุณุช ุงูุฌุงู ูโุฏูุฏ ู ุงฺฏุฑ ุนูุตุฑ ูุดุฎุต ุดุฏู ูพุฏุง ูุดูุฏุ ููุฏุงุฑ <code>-1</code> ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
<p>ูุณุฎู ุบุฑ Generic <code>IList</code> ุงุนุถุง ุจุดุชุฑ ุฏุงุฑุฏุ ุฒุฑุง ุงุฒ <code>ICollection</code> ฺฉูุชุฑ ุงุฑุซโุจุฑ ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IList</span> : <span class="hljs-title">ICollection</span>, <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-built_in">object</span> <span class="hljs-keyword">this</span>[<span class="hljs-built_in">int</span> index] { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-built_in">bool</span> IsFixedSize { <span class="hljs-keyword">get</span>; }
    <span class="hljs-built_in">bool</span> IsReadOnly { <span class="hljs-keyword">get</span>; }
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Clear</span>()</span>;
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Contains</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">IndexOf</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, <span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Remove</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">RemoveAt</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index</span>)</span>;
}
</code></pre>
<p>ุฏุฑ ูุณุฎู ุบุฑ Genericุ ูุชุฏ <code>Add</code> ฺฉ <strong>ุนุฏุฏ ุตุญุญ (int)</strong> ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ูุดุงูโุฏููุฏู <strong>ุงูุฏุณ ุนูุตุฑ ุงุถุงููโุดุฏู</strong> ุงุณุช. ุฏุฑ ููุงุจูุ ูุชุฏ <code>Add</code> ุฏุฑ <code>ICollection&lt;T&gt;</code> ุฏุงุฑุง ููุน ุจุงุฒฺฏุดุช <code>void</code> ุงุณุช.</p>
<p>ฺฉูุงุณ ุนููู <code>List&lt;T&gt;</code> ููููู ุจุงุฑุฒ ูพุงุฏูโุณุงุฒ ูุฑ ุฏู ุงูุชุฑูุณ <code>IList&lt;T&gt;</code> ู <code>IList</code> ุงุณุช. ุขุฑุงูโูุง C# ูุฒ ูุฑ ุฏู ูุณุฎู Generic ู Non-Generic <code>IList</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ุงฺฏุฑฺู ูุชุฏูุง ฺฉู ุจุฑุง ุงุถุงูู ุง ุญุฐู ุนูุงุตุฑ ูุณุชูุฏุ ุงุฒ ุทุฑู ูพุงุฏูโุณุงุฒ ุตุฑุญ ุงูุชุฑูุณ ูพููุงู ุดุฏูโุงูุฏ ู ุฏุฑ ุตูุฑุช ูุฑุงุฎูุงูุ <code>NotSupportedException</code> ูพุฑุชุงุจ ูโฺฉููุฏ.</p>
<blockquote>
<p>โ๏ธ ุงฺฏุฑ ุชูุงุด ฺฉูุฏ ุจู ฺฉ <strong>ุขุฑุงู ฺูุฏุจุนุฏ</strong> ุงุฒ ุทุฑู ุงูุฏฺฉุณุฑ <code>IList</code> ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏุ ฺฉ <code>ArgumentException</code> ูพุฑุชุงุจ ุฎูุงูุฏ ุดุฏ. ุงู ูฺฉุชู ููฺฉู ุงุณุช ููฺฏุงู ููุดุชู ูุชุฏูุง ูุงููุฏ ุฒุฑ ูุดฺฉูโุณุงุฒ ุดูุฏ:</p>
</blockquote>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">object</span> <span class="hljs-title">FirstOrNull</span>(<span class="hljs-params">IList list</span>)</span>
{
    <span class="hljs-keyword">if</span> (list == <span class="hljs-literal">null</span> || list.Count == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> list[<span class="hljs-number">0</span>];
}
</code></pre>
<p>ุงู ฺฉุฏ ููฺฉู ุงุณุช ุธุงูุฑุงู ุจโุฎุทุง ุจุงุดุฏุ ุงูุง ุงฺฏุฑ ุจุง ุขุฑุงู ฺูุฏุจุนุฏ ูุฑุงุฎูุงู ุดูุฏุ ฺฉ ุงุณุชุซูุง ูพุฑุชุงุจ ุฎูุงูุฏ ฺฉุฑุฏ. ูโุชูุงู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุฑุฑุณ ฺฉุฑุฏ ฺฉู ุขุง ุขุฑุงู ฺูุฏุจุนุฏ ุงุณุช ุง ุฎุฑ:</p>
<pre class="hljs"><code>list.GetType().IsArray &amp;&amp; list.GetType().GetArrayRank() &gt; <span class="hljs-number">1</span>
</code></pre>
<hr>
<h3>IReadOnlyCollection<T> ู IReadOnlyList<T> ๐</h3>
<p>.NET ุงูุชุฑูุณโูุง <strong>ูุฌููุนู ู ูุณุช ููุท ุฎูุงูุฏู</strong> ูุฒ ุฏุงุฑุฏ ฺฉู ููุท ุงุนุถุง ูุงุฒู ุจุฑุง ุนููุงุช <strong>ููุท ุฎูุงูุฏู</strong> ุฑุง ุงุฑุงุฆู ูโุฏููุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IReadOnlyCollection</span>&lt;<span class="hljs-keyword">out</span> <span class="hljs-title">T</span>&gt; : <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-built_in">int</span> Count { <span class="hljs-keyword">get</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IReadOnlyList</span>&lt;<span class="hljs-keyword">out</span> <span class="hljs-title">T</span>&gt; : <span class="hljs-title">IReadOnlyCollection</span>&lt;<span class="hljs-title">T</span>&gt;,
                                       <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IEnumerable</span>
{
    T <span class="hljs-keyword">this</span>[<span class="hljs-built_in">int</span> index] { <span class="hljs-keyword">get</span>; }
}
</code></pre>
<p>ุงุฒ ุขูุฌุง ฺฉู ูพุงุฑุงูุชุฑ ููุน (<code>T</code>) ุชููุง ุฏุฑ <strong>ูููุนุช ุฎุฑูุฌ</strong> ุงุณุชูุงุฏู ูโุดูุฏุ ุจู ุตูุฑุช <strong>Covariant</strong> ุนูุงูุชโฺฏุฐุงุฑ ุดุฏู ุงุณุช. ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ูุซูุงู <strong>ูุณุช ุงุฒ ฺฏุฑุจูโูุง</strong> ุจู ุนููุงู ฺฉ <strong>ูุณุช ููุท ุฎูุงูุฏู ุงุฒ ุญูุงูุงุช</strong> ุชูู ุดูุฏ.</p>
<p>ุฏุฑ ููุงุจูุ <code>T</code> ุฏุฑ <code>ICollection&lt;T&gt;</code> ู <code>IList&lt;T&gt;</code> Covariant ูุณุชุ ุฒุฑุง ุฏุฑ ูุฑ ุฏู ูููุนุช ูุฑูุฏ ู ุฎุฑูุฌ ุงุณุชูุงุฏู ูโุดูุฏ.</p>
<p>ุงู ุงูุชุฑูุณโูุง ููุง <strong>ููุท ุฎูุงูุฏู</strong> ุงุฒ ฺฉ ูุฌููุนู ุง ูุณุช ุงุฑุงุฆู ูโฺฉููุฏุ ูพุงุฏูโุณุงุฒ ูุงูุน ููฺฉู ุงุณุช ูููุฒ ูุงุจู ููุดุชู ุจุงุดุฏ. ุงฺฉุซุฑ ูุฌููุนูโูุง ูุงุจู ุชุบุฑ (Mutable) ูู ุงูุชุฑูุณโูุง ููุท ุฎูุงูุฏู ู ูู ุฎูุงูุฏู/ููุดุชู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ.</p>
<p>ุนูุงูู ุจุฑ ุงูฺฉุงู ฺฉุงุฑ ุจุง ูุฌููุนูโูุง ุจู ุตูุฑุช Covariantุ ุงูุชุฑูุณโูุง ููุท ุฎูุงูุฏู ุงุฌุงุฒู ูโุฏููุฏ ฺฉ ฺฉูุงุณ <strong>ููุง ููุท ุฎูุงูุฏู ุงุฒ ฺฉ ูุฌููุนู ุฎุตูุต ูุงุจู ููุดุชู</strong> ุฑุง ุจู ุตูุฑุช ุนููู ุงุฑุงุฆู ฺฉูุฏ. ุงู ููุถูุน ุฏุฑ ุจุฎุด <code>ReadOnlyCollection&lt;T&gt;</code> ุฏุฑ ุตูุญู ดฐถ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.</p>
<blockquote>
<p><code>IReadOnlyList&lt;T&gt;</code> ุจุง ููุน Windows Runtime <code>IVectorView&lt;T&gt;</code> ูุทุงุจูุช ุฏุงุฑุฏ.</p>
</blockquote>
<hr>
<h3>ฺฉูุงุณ Array ๐๏ธ</h3>
<p>ฺฉูุงุณ <code>Array</code> ฺฉูุงุณ ูพุงู <strong>ุถูู (implicit)</strong> ุจุฑุง ุชูุงู ุขุฑุงูโูุง ุชฺฉโุจุนุฏ ู ฺูุฏุจุนุฏ ุงุณุช ู ฺฉ ุงุฒ <strong>ุงุณุงุณโุชุฑู ููุนโูุง</strong> ุงุณุช ฺฉู ุงูุชุฑูุณโูุง ุงุณุชุงูุฏุงุฑุฏ ูุฌููุนู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.</p>
<p>ฺฉูุงุณ <code>Array</code> ฺฉูพุงุฑฺฺฏ ููุน ุฑุง ูุฑุงูู ูโฺฉูุฏุ ุจูุงุจุฑุงู ฺฉ ูุฌููุนู ุงุฒ <strong>ูุชุฏูุง ูุดุชุฑฺฉ</strong> ุจุฑุง ุชูุงู ุขุฑุงูโูุงุ ุตุฑูโูุธุฑ ุงุฒ ุงุนูุงู ุง ููุน ุนูุงุตุฑุ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<p>ุงุฒ ุขูุฌุง ฺฉู ุขุฑุงูโูุง ุจุณุงุฑ ุงุณุงุณ ูุณุชูุฏุ C# <strong>ุณูุชฺฉุณ ูฺูโุง ุจุฑุง ุงุนูุงู ู ููุฏุงุฑุฏู ุงููู ุขูโูุง</strong> ุงุฑุงุฆู ูโุฏูุฏ (ฺฉู ุฏุฑ ูุตูโูุง ฒ ู ณ ุชูุถุญ ุฏุงุฏู ุดุฏ). ููุช ุขุฑุงูโุง ุจุง ุณูุชฺฉุณ C# ุงุนูุงู ูโุดูุฏุ <strong>CLR ุจู ุทูุฑ ุถูู</strong> ฺฉูุงุณ <code>Array</code> ุฑุง ุฒุฑููุนโุฏู ูโฺฉูุฏ ู ฺฉ <strong>Pseudo-Type</strong> ููุงุณุจ ุจุฑุง ุงุจุนุงุฏ ู ููุน ุนูุงุตุฑ ุขุฑุงู ุงุฌุงุฏ ูโฺฉูุฏ. ุงู Pseudo-Type ุงูุชุฑูุณโูุง Generic ููุนโุฏุงุฑ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูุงููุฏ <code>IList&lt;string&gt;</code>.</p>
<p>CLR ููฺูู ููฺฏุงู ุณุงุฎุช ุขุฑุงูโูุง ุจู ุขูโูุง ุจู ุตูุฑุช ูฺู ูฺฏุงู ูโฺฉูุฏ ู <strong>ูุถุง ูุชูุงู ุฏุฑ ุญุงูุธู</strong> ุจุฑุง ุขูโูุง ุงุฎุชุตุงุต ูโุฏูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ <strong>ุฏุณุชุฑุณ ุจุง ุงูุฏุณ ุจู ุขุฑุงูโูุง ุจุณุงุฑ ฺฉุงุฑุขูุฏ</strong> ุจุงุดุฏุ ุงูุง ุงุฌุงุฒู ุชุบุฑ ุงูุฏุงุฒู ุจุนุฏ ุงุฒ ุณุงุฎุช ุฑุง ููโุฏูุฏ.</p>
<p>ฺฉูุงุณ <code>Array</code> ุงูุชุฑูุณโูุง ูุฌููุนู ุฑุง ุชุง <code>IList&lt;T&gt;</code> ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ูู ุฏุฑ ูุณุฎู Generic ู ูู ุบุฑ Generic. ุฎูุฏ <code>IList&lt;T&gt;</code> ุจู ุตูุฑุช ุตุฑุญ ูพุงุฏูโุณุงุฒ ุดุฏู ุชุง <strong>ูุชุฏูุง ูุงููุฏ Add ู Remove</strong> ฺฉู ุจุฑุง ุขุฑุงูโูุง ุจุง ุทูู ุซุงุจุช ูุงููุงุณุจ ูุณุชูุฏุ ุงุฒ ุฑุงุจุท ุนููู <code>Array</code> ูพููุงู ุจูุงููุฏ ู ุฏุฑ ุตูุฑุช ูุฑุงุฎูุงู ุงุณุชุซูุง ูพุฑุชุงุจ ฺฉููุฏ.</p>
<p>ฺฉูุงุณ <code>Array</code> ฺฉ ูุชุฏ <strong>ุงุณุชุงุชฺฉ <code>Resize</code></strong> ูุฒ ุงุฑุงุฆู ูโุฏูุฏุ ุงูุง ุงู ูุชุฏ ุจุง <strong>ุงุฌุงุฏ ฺฉ ุขุฑุงู ุฌุฏุฏ ู ฺฉูพ ฺฉุฑุฏู ูุฑ ุนูุตุฑ</strong> ฺฉุงุฑ ูโฺฉูุฏ. ุงู ุฑูุด ูู ุชููุง ูุงฺฉุงุฑุขูุฏ ุงุณุชุ ุจูฺฉู ูุฑุงุฌุน ุจู ุขุฑุงู ุงุตู ุฏุฑ ุจุฎุดโูุง ุฏฺฏุฑ ุจุฑูุงูู ููฺูุงู ุจู ูุณุฎู ุงููู ุงุดุงุฑู ุฎูุงููุฏ ฺฉุฑุฏ. ุฑุงู ุญู ุจูุชุฑ ุจุฑุง ูุฌููุนูโูุง ูุงุจู ุชุบุฑุ ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณ <code>List&lt;T&gt;</code> ุงุณุช (ฺฉู ุฏุฑ ุจุฎุด ุจุนุฏ ุชูุถุญ ุฏุงุฏู ูโุดูุฏ).</p>
<p>ุขุฑุงู ูโุชูุงูุฏ ุดุงูู ุนูุงุตุฑ <strong>Value-Type</strong> ุง <strong>Reference-Type</strong> ุจุงุดุฏ. ุนูุงุตุฑ Value-Type ุฏุฑ ูุญู ุขุฑุงู ุฐุฎุฑู ูโุดููุฏุ ุจูุงุจุฑุงู ฺฉ ุขุฑุงู ุงุฒ ุณู ุนุฏุฏ ุตุญุญ ุทููุงู (ูุฑ ฺฉุฏุงู ธ ุจุงุช) <strong>ฒด ุจุงุช ุญุงูุธู ูุชูุงู</strong> ุงุดุบุงู ูโฺฉูุฏ. ุงูุง ุนูุตุฑ Reference-Type ุชููุง ุจู ุงูุฏุงุฒู ฺฉ ูุฑุฌุน ูุถุง ุขุฑุงู ุฑุง ุงุดุบุงู ูโฺฉูุฏ (ด ุจุงุช ุฏุฑ ูุญุท ณฒ ุจุช ุง ธ ุจุงุช ุฏุฑ ูุญุท ถด ุจุช).</p>
<p>ุดฺฉู ท-ฒ ุชุฃุซุฑ ุงู ููุถูุน ุฑุง ุฏุฑ ุญุงูุธู ูุดุงู ูโุฏูุฏ:</p>
<pre class="hljs"><code>StringBuilder[] builders = <span class="hljs-keyword">new</span> StringBuilder[<span class="hljs-number">5</span>];
builders[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">&quot;builder1&quot;</span>);
builders[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">&quot;builder2&quot;</span>);
builders[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">&quot;builder3&quot;</span>);

<span class="hljs-built_in">long</span>[] numbers = <span class="hljs-keyword">new</span> <span class="hljs-built_in">long</span>[<span class="hljs-number">3</span>];
numbers[<span class="hljs-number">0</span>] = <span class="hljs-number">12345</span>;
numbers[<span class="hljs-number">1</span>] = <span class="hljs-number">54321</span>;
</code></pre>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-3.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ฺูู <code>Array</code> ฺฉ ฺฉูุงุณ ุงุณุชุ <strong>ุขุฑุงูโูุง ููุดู ุฎูุฏุดุงู ููุน ูุฑุฌุน (Reference Type) ูุณุชูุฏ</strong>โุตุฑูโูุธุฑ ุงุฒ ููุน ุนูุงุตุฑ ุขุฑุงู. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุฏุณุชูุฑ ุฒุฑ:</p>
<pre class="hljs"><code>arrayB = arrayA
</code></pre>
<p>ููุฌุฑ ุจู ุงุฌุงุฏ <strong>ุฏู ูุชุบุฑ ูโุดูุฏ ฺฉู ุจู ููุงู ุขุฑุงู ุงุฑุฌุงุน ูโุฏููุฏ</strong>.</p>
<p>ุจู ููู ุชุฑุชุจุ <strong>ุฏู ุขุฑุงู ูุฌุฒุง ููุดู ุฏุฑ ุขุฒููู ุจุฑุงุจุฑ ุดฺฉุณุช ุฎูุงููุฏ ุฎูุฑุฏ</strong>ุ ูฺฏุฑ ุงูฺฉู ุงุฒ ฺฉ <strong>ููุงุณูโฺฉููุฏู ุจุฑุงุจุฑ ุณุงุฎุชุงุฑ (Structural Equality Comparer)</strong> ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ูุฑ ุนูุตุฑ ุขุฑุงู ุฑุง ููุงุณู ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">object</span>[] a1 = { <span class="hljs-string">&quot;string&quot;</span>, <span class="hljs-number">123</span>, <span class="hljs-literal">true</span> };
<span class="hljs-built_in">object</span>[] a2 = { <span class="hljs-string">&quot;string&quot;</span>, <span class="hljs-number">123</span>, <span class="hljs-literal">true</span> };

Console.WriteLine(a1 == a2);                         <span class="hljs-comment">// False</span>
Console.WriteLine(a1.Equals(a2));                    <span class="hljs-comment">// False</span>

IStructuralEquatable se1 = a1;
Console.WriteLine(se1.Equals(a2, StructuralComparisons.StructuralEqualityComparer));   <span class="hljs-comment">// True</span>
</code></pre>
<p>ุขุฑุงูโูุง ูโุชูุงููุฏ ุจุง ูุฑุงุฎูุงู ูุชุฏ <code>Clone</code> ฺฉูพ ุดููุฏ:</p>
<pre class="hljs"><code>arrayB = arrayA.Clone();
</code></pre>
<p>ุงูุง ุงู ฺฉ <strong>ฺฉูพ ุณุทุญ (Shallow Clone)</strong> ุงุฌุงุฏ ูโฺฉูุฏุ ุนู ููุท <strong>ุญุงูุธูโุง ฺฉู ุฎูุฏ ุขุฑุงู ุงุดุบุงู ฺฉุฑุฏู ุงุณุช</strong> ฺฉูพ ูโุดูุฏ. ุงฺฏุฑ ุขุฑุงู ุดุงูู <strong>ุงุดุงุก Value-Type</strong> ุจุงุดุฏุ ุฎูุฏ ููุงุฏุฑ ฺฉูพ ูโุดููุฏุ ุงูุง ุงฺฏุฑ ุดุงูู <strong>ุงุดุงุก Reference-Type</strong> ุจุงุดุฏุ ููุท <strong>ุงุฑุฌุงุนุงุช (References)</strong> ฺฉูพ ูโุดููุฏุ ุฏุฑ ูุชุฌู ุฏู ุขุฑุงูโุง ุฎูุงูุฏ ุฏุงุดุช ฺฉู ุงุนุถุง ุขูโูุง ุจู <strong>ููุงู ุงุดุงุก</strong> ุงุดุงุฑู ูโฺฉููุฏ.</p>
<p>ุดฺฉู ท-ณ ุงุซุฑ ุงู ููุถูุน ุฑุง ููฺฏุงู ุงูุฒูุฏู ฺฉุฏ ุฒุฑ ุจู ูุซุงู ูุดุงู ูโุฏูุฏ:</p>
<pre class="hljs"><code>StringBuilder[] builders2 = builders;
StringBuilder[] shallowClone = (StringBuilder[]) builders.Clone();
</code></pre>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-4.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุจุฑุง ุงุฌุงุฏ ฺฉ <strong>ฺฉูพ ุนูู (Deep Copy)</strong>โฺฉู ุฏุฑ ุขู <strong>ุฒุฑ ุงุดุงุก Reference-Type</strong> ูุฒ ุชฺฉุฑุงุฑ ูโุดููุฏโุจุงุฏ ุงุฒ ุขุฑุงู ุนุจูุฑ ฺฉุฑุฏู ู ูุฑ ุนูุตุฑ ุฑุง ุจูโุตูุฑุช ุฏุณุช ฺฉูพ ฺฉูุฏ. ููุงู ููุงูู ุจุฑุง ุณุงุฑ ุงููุงุน ูุฌููุนูโูุง ุฏุฑ .NET ูุฒ ุตุฏู ูโฺฉูุฏ.</p>
<p>ุงฺฏุฑฺู <code>Array</code> ุนูุฏุชุงู ุจุฑุง ุงุณุชูุงุฏู ุจุง <strong>ุงูุฏฺฉุณโูุง ณฒ ุจุช</strong> ุทุฑุงุญ ุดุฏูุ ุงูุง ุงุฒ <strong>ุงูุฏฺฉุณโูุง ถด ุจุช</strong> ูุฒ ูพุดุชุจุงู ูุญุฏูุฏ ุฏุงุฑุฏ (ฺฉู ุจู ุตูุฑุช ุชุฆูุฑ ุงูฺฉุงู ุฏุณุชุฑุณ ุจู ุชุง $2^{64}$ ุนูุตุฑ ุฑุง ูโุฏูุฏ) ุงุฒ ุทุฑู ฺูุฏู ูุชุฏ ฺฉู ูู <strong>Int32</strong> ู ูู <strong>Int64</strong> ุฑุง ูโูพุฐุฑูุฏ. ุงู ุงูุฑููุฏูุง ุฏุฑ ุนูู ุจโูุงุฏู ูุณุชูุฏุ ุฒุฑุง <strong>CLR ุงุฌุงุฒู ููโุฏูุฏ ูฺ ุดุกโุงุฒ ุฌููู ุขุฑุงูโูุงโุจุฒุฑฺฏโุชุฑ ุงุฒ ุฏู ฺฏฺฏุงุจุงุช ุจุงุดุฏ</strong> (ฺู ุฏุฑ ูุญุท ณฒ ุจุช ู ฺู ถด ุจุช).</p>
<p>ุจุณุงุฑ ุงุฒ ูุชุฏูุง ฺฉู ุงูุชุธุงุฑ ุฏุงุฑุฏ ุฏุฑ ฺฉูุงุณ <code>Array</code> <strong>ูุชุฏ ููููู (Instance Method)</strong> ุจุงุดูุฏุ ุฏุฑ ูุงูุน <strong>ูุชุฏูุง ุงุณุชุงุชฺฉ</strong> ูุณุชูุฏ. ุงู ุชุตูู ุทุฑุงุญ ฺฉู ุนุฌุจ ุงุณุช ู ุจู ุงู ูุนูุงุณุช ฺฉู ููฺฏุงู ุฌุณุชุฌู ฺฉ ูุชุฏ ุฏุฑ <code>Array</code> ุจุงุฏ ูู <strong>ูุชุฏูุง ุงุณุชุงุชฺฉ</strong> ู ูู <strong>ูุชุฏูุง ููููู</strong> ุฑุง ุจุฑุฑุณ ฺฉูุฏ.</p>
<hr>
<h3>ุงุฌุงุฏ ู ุงูุฏฺฉุณโฺฏุฐุงุฑ ุขุฑุงูโูุง ๐๏ธ</h3>
<p>ุณุงุฏูโุชุฑู ุฑุงู ุจุฑุง ุงุฌุงุฏ ู ุงูุฏฺฉุณ ฺฉุฑุฏู ุขุฑุงูโูุงุ ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑูุง ุฒุจุงู C# ุงุณุช:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] myArray = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
<span class="hljs-built_in">int</span> first = myArray[<span class="hljs-number">0</span>];
<span class="hljs-built_in">int</span> last = myArray[myArray.Length - <span class="hljs-number">1</span>];
</code></pre>
<p>ููฺูู ูโุชูุงูุฏ ฺฉ ุขุฑุงู ุฑุง <strong>ูพูุง (Dynamic)</strong> ุจุง ุงุณุชูุงุฏู ุงุฒ <code>Array.CreateInstance</code> ุจุณุงุฒุฏ. ุงู ุฑูุด ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ููุน ุนูุตุฑ ู <strong>ุจุนุฏ (Rank)</strong> ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุดุฎุต ฺฉูุฏ ู ููฺูู ุขุฑุงูโูุง <strong>ุบุฑ ุตูุฑ-ูุจูุง</strong> ุงุฌุงุฏ ฺฉูุฏ. ุขุฑุงูโูุง ุบุฑ ุตูุฑ-ูุจูุง ุจุง <strong>.NET Common Language Specification (CLS)</strong> ุณุงุฒฺฏุงุฑ ูุณุชูุฏ ู ูุจุงุฏ ุจูโุนููุงู ุงุนุถุง ุนููู ุฏุฑ ฺฉุชุงุจุฎุงููโูุง ฺฉู ููฺฉู ุงุณุช ุชูุณุท ุจุฑูุงููโุง ุฏุฑ F# ุง Visual Basic ุงุณุชูุงุฏู ุดููุฏุ ุงุฑุงุฆู ุดููุฏ.</p>
<p>ูุชุฏูุง <code>GetValue</code> ู <code>SetValue</code> ุงุฌุงุฒู ูโุฏููุฏ ุนูุงุตุฑ ุขุฑุงูโูุง ูพูุง ุง ูุนููู ุฑุง ุฏุณุชุฑุณ ุง ููุฏุงุฑุฏู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-comment">// ุงุฌุงุฏ ุขุฑุงู ุฑุดุชูโุง ุจุง 2 ุนูุตุฑ</span>
Array a = Array.CreateInstance(<span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">string</span>), <span class="hljs-number">2</span>);
a.SetValue(<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-number">0</span>);       <span class="hljs-comment">// โ a[0] = &quot;hi&quot;;</span>
a.SetValue(<span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-number">1</span>);    <span class="hljs-comment">// โ a[1] = &quot;there&quot;;</span>
<span class="hljs-built_in">string</span> s = (<span class="hljs-built_in">string</span>)a.GetValue(<span class="hljs-number">0</span>);  <span class="hljs-comment">// โ s = a[0];</span>

<span class="hljs-comment">// ุชุจุฏู ุจู ุขุฑุงู C#:</span>
<span class="hljs-built_in">string</span>[] cSharpArray = (<span class="hljs-built_in">string</span>[])a;
<span class="hljs-built_in">string</span> s2 = cSharpArray[<span class="hljs-number">0</span>];
</code></pre>
<p>ุขุฑุงูโูุง ุตูุฑ-ูุจูุง ฺฉู ุจูโุตูุฑุช ูพูุง ุงุฌุงุฏ ูโุดููุฏุ ูโุชูุงููุฏ ุจู ุขุฑุงูโุง ุงุฒ ููุน ูุดุงุจู ุง <strong>ุณุงุฒฺฏุงุฑ</strong> ุฏุฑ C# ุชุจุฏู ุดููุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ <code>Apple</code> ุงุฒ <code>Fruit</code> ุงุฑุซโุจุฑ ฺฉูุฏุ ูโุชูุงู <code>Apple[]</code> ุฑุง ุจู <code>Fruit[]</code> ุชุจุฏู ฺฉุฑุฏ. ุงู ูุณุฆูู ุฏูู ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณ <code>Array</code> ุจู ุฌุง <code>object[]</code> ุจุฑุง ููุน ฺฉููุงุฎุช ุฑุง ุชูุถุญ ูโุฏูุฏุ ุฒุฑุง <code>object[]</code> ุจุง <strong>ุขุฑุงูโูุง ฺูุฏุจุนุฏ ู Value-Type</strong> ุณุงุฒฺฏุงุฑ ูุณุช.</p>
<p><code>GetValue</code> ู <code>SetValue</code> ููฺูู ุฑู ุขุฑุงูโูุง ุณุงุฎุชู ุดุฏู ุชูุณุท ฺฉุงููพุงูุฑ ูุฒ ฺฉุงุฑ ูโฺฉููุฏ ู ุฒูุงู ฺฉู ูโุฎูุงูุฏ <strong>ูุชุฏ ุจููุณุฏ ฺฉู ุจุง ูุฑ ููุน ู ุจุนุฏ ุงุฒ ุขุฑุงู ฺฉุงุฑ ฺฉูุฏ</strong> ููุฏ ูุณุชูุฏ. ุจุฑุง ุขุฑุงูโูุง ฺูุฏุจุนุฏุ ุขูโูุง <strong>ุขุฑุงูโุง ุงุฒ ุงูุฏฺฉุณโูุง</strong> ูโูพุฐุฑูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">object</span> <span class="hljs-title">GetValue</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> <span class="hljs-built_in">int</span>[] indices</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetValue</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> <span class="hljs-keyword">value</span>, <span class="hljs-keyword">params</span> <span class="hljs-built_in">int</span>[] indices</span>)
</span></code></pre>
<p>ูุซุงู ุฒุฑุ <strong>ุงููู ุนูุตุฑ ูุฑ ุขุฑุงูโุง ุฑุง ุจุฏูู ุชูุฌู ุจู ุจุนุฏ ุขู ฺุงูพ ูโฺฉูุฏ</strong>:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">WriteFirstValue</span>(<span class="hljs-params">Array a</span>)</span>
{
    Console.Write(a.Rank + <span class="hljs-string">&quot;-dimensional; &quot;</span>);
    <span class="hljs-built_in">int</span>[] indexers = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[a.Rank]; <span class="hljs-comment">// ุฎูุฏฺฉุงุฑ ุตูุฑ-ูุจูุง</span>
    Console.WriteLine(<span class="hljs-string">&quot;First value is &quot;</span> + a.GetValue(indexers));
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Demo</span>()</span>
{
    <span class="hljs-built_in">int</span>[] oneD = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
    <span class="hljs-built_in">int</span>[,] twoD = { {<span class="hljs-number">5</span>,<span class="hljs-number">6</span>}, {<span class="hljs-number">8</span>,<span class="hljs-number">9</span>} };
    WriteFirstValue(oneD);   <span class="hljs-comment">// 1-dimensional; first value is 1</span>
    WriteFirstValue(twoD);   <span class="hljs-comment">// 2-dimensional; first value is 5</span>
}
</code></pre>
<hr>
<p>ุจุฑุง <strong>ุขุฑุงูโูุง ุจุง ููุน ูุงุดูุงุฎุชู ุงูุง ุจุนุฏ ูุดุฎุต</strong>ุ <strong>Generics</strong> ุฑุงูฺฉุงุฑ ุณุงุฏูโุชุฑ ู ฺฉุงุฑุขูุฏุชุฑ ุงุฑุงุฆู ูโุฏููุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">WriteFirstValue</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T[] array</span>)</span>
{
    Console.WriteLine(array[<span class="hljs-number">0</span>]);
}
</code></pre>
<p>ูุชุฏ <code>SetValue</code> ุฏุฑ ุตูุฑุช ูุงุณุงุฒฺฏุงุฑ ุจูุฏู ููุน ุนูุตุฑ ุจุง ุขุฑุงูุ ุงุณุชุซูุง ูพุฑุชุงุจ ูโฺฉูุฏ.</p>
<p>ููฺฏุงู ุงุฌุงุฏ ุขุฑุงูโฺู ุจุง <strong>ุณูุชฺฉุณ ุฒุจุงู</strong> ู ฺู ุจุง <code>Array.CreateInstance</code>โุนูุงุตุฑ ุขุฑุงู <strong>ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ููุฏุงุฑ ูพุดโูุฑุถุดุงู ููุฏุงุฑุฏู ูโุดููุฏ</strong>. ุจุฑุง ุขุฑุงูโูุง Reference-Typeุ ุงู ููุฏุงุฑุฏู ุจุง <code>null</code> ุงูุฌุงู ูโุดูุฏุ ุจุฑุง ุขุฑุงูโูุง Value-Typeุ ุงุนุถุง ุจู ุตูุฑุช ุจุชโุจูโุจุช ุตูุฑ ูโุดููุฏ.</p>
<p>ฺฉูุงุณ <code>Array</code> ููฺูู ูุชุฏ <code>Clear</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ุชุง ุจูโุตูุฑุช ุงุฎุชุงุฑ ุขุฑุงู ุฑุง ูพุงฺฉุณุงุฒ ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Clear</span>(<span class="hljs-params">Array array, <span class="hljs-built_in">int</span> index, <span class="hljs-built_in">int</span> length</span>)</span>;
</code></pre>
<p>ุงู ูุชุฏ ุงูุฏุงุฒู ุขุฑุงู ุฑุง ุชุบุฑ ููโุฏูุฏุ ุจุฑ ุฎูุงู <code>ICollection&lt;T&gt;.Clear</code> ฺฉู ุชุนุฏุงุฏ ุนูุงุตุฑ ุฑุง ุจู ุตูุฑ ฺฉุงูุด ูโุฏูุฏ.</p>
<hr>
<h3>ูพูุงุด ุขุฑุงูโูุง ๐</h3>
<p>ุขุฑุงูโูุง ุจูโุฑุงุญุช ุจุง <strong>foreach</strong> ูพูุงุด ูโุดููุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] myArray = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> val <span class="hljs-keyword">in</span> myArray)
    Console.WriteLine(val);
</code></pre>
<p>ููฺูู ูโุชูุงู ุงุฒ <strong>ูุชุฏ ุงุณุชุงุชฺฉ <code>Array.ForEach</code></strong> ุงุณุชูุงุฏู ฺฉุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ForEach</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T[] array, Action&lt;T&gt; action</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">delegate</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Action</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T obj</span>)</span>;
</code></pre>
<p>ูุซุงู ุจุงุฒููุณ ุดุฏู ุจุง <code>Array.ForEach</code>:</p>
<pre class="hljs"><code>Array.ForEach(<span class="hljs-keyword">new</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> }, Console.WriteLine);
</code></pre>
<p>ู ุฏุฑ C# 12ุ ูโุชูุงู ุงู ุฑุง ุณุงุฏูโุชุฑ ฺฉุฑุฏ:</p>
<pre class="hljs"><code>Array.ForEach([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], Console.WriteLine);
</code></pre>
<h3>ุทูู ู ุจุนุฏ ุขุฑุงู ๐</h3>
<p>ฺฉูุงุณ <code>Array</code> ูุชุฏูุง ู ูฺฺฏโูุง ุฒุฑ ุฑุง ุจุฑุง <strong>ูพุฑุณโูุฌู ุฏุฑุจุงุฑู ุทูู ู ุจุนุฏ</strong> ุขุฑุงู ุงุฑุงุฆู ูโุฏูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>  <span class="hljs-title">GetLength</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> dimension</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> <span class="hljs-title">GetLongLength</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> dimension</span>)</span>;
<span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>  Length { <span class="hljs-keyword">get</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> LongLength { <span class="hljs-keyword">get</span>; }

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetLowerBound</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> dimension</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetUpperBound</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> dimension</span>)</span>;
<span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Rank { <span class="hljs-keyword">get</span>; }    <span class="hljs-comment">// ุชุนุฏุงุฏ ุจุนุฏูุง ุขุฑุงู ุฑุง ุจุงุฒ ูโฺฏุฑุฏุงูุฏ</span>
</code></pre>
<ul>
<li><code>GetLength</code> ู <code>GetLongLength</code> ุทูู ฺฉ ุจุนุฏ ูุดุฎุต (0 ุจุฑุง ุขุฑุงูโูุง ุชฺฉโุจุนุฏ) ุฑุง ุจุงุฒ ูโฺฏุฑุฏุงููุฏ.</li>
<li><code>Length</code> ู <code>LongLength</code> ุชุนุฏุงุฏ ฺฉู ุนูุงุตุฑ ุขุฑุงู ุฑุง ุฏุฑ <strong>ุชูุงู ุงุจุนุงุฏ</strong> ุจุงุฒูโฺฏุฑุฏุงููุฏ.</li>
<li><code>GetLowerBound</code> ู <code>GetUpperBound</code> ุฏุฑ ุขุฑุงูโูุง <strong>ุบุฑ ุตูุฑ-ูุจูุง</strong> ฺฉุงุฑุจุฑุฏ ุฏุงุฑูุฏ. <code>GetUpperBound</code> ููุงู ูุชุฌูโ <code>GetLowerBound + GetLength</code> ุจุฑุง ฺฉ ุจุนุฏ ูุดุฎุต ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.</li>
</ul>
<hr>
<h3>ุฌุณุชุฌู ุฏุฑ ุขุฑุงู ๐</h3>
<p>ฺฉูุงุณ <code>Array</code> ูุฌููุนูโุง ุงุฒ ูุชุฏูุง ุฑุง ุจุฑุง ูพุฏุง ฺฉุฑุฏู ุนูุงุตุฑ ุฏุฑ <strong>ุขุฑุงูโูุง ุชฺฉโุจุนุฏ</strong> ุงุฑุงุฆู ูโุฏูุฏ:</p>
<ul>
<li>
<p><strong>ูุชุฏูุง BinarySearch</strong><br>
ุจุฑุง ุฌุณุชุฌู ุณุฑุน ุฏุฑ ฺฉ ุขุฑุงู ูุฑุชุจ ุจุฑุง ฺฉ ุนูุตุฑ ูุดุฎุต.</p>
</li>
<li>
<p><strong>ูุชุฏูุง IndexOf / LastIndexOf</strong><br>
ุจุฑุง ุฌุณุชุฌู ุขุฑุงูโูุง ูุงูุฑุชุจ ุจุฑุง ฺฉ ุนูุตุฑ ุฎุงุต.</p>
</li>
<li>
<p><strong>ูุชุฏูุง Find / FindLast / FindIndex / FindLastIndex / FindAll / Exists / TrueForAll</strong><br>
ุจุฑุง ุฌุณุชุฌู ุขุฑุงูโูุง ูุงูุฑุชุจ ุจุฑ ุงุณุงุณ ูุนุงุฑ ฺฉ <strong>Predicate<T></strong>.</p>
</li>
</ul>
<p>ูฺฉุงุช ููู:</p>
<ul>
<li>
<p>ูฺโฺฉ ุงุฒ ูุชุฏูุง ุฌุณุชุฌู ุขุฑุงูุ ุฏุฑ ุตูุฑุช ูพุฏุง ูุดุฏู ุนูุตุฑุ <strong>ุงุณุชุซูุง ูพุฑุชุงุจ ููโฺฉููุฏ</strong>.</p>
<ul>
<li>ูุชุฏูุง ฺฉู <strong>int</strong> ุจุงุฒูโฺฏุฑุฏุงููุฏุ ููุฏุงุฑ <code>-1</code> ุจุงุฒูโฺฏุฑุฏุงููุฏ (ูุฑุถ ุจุฑ ุตูุฑ-ูุจูุง ุจูุฏู ุขุฑุงู).</li>
<li>ูุชุฏูุง ฺฉู ููุน <strong>Generic</strong> ุจุงุฒูโฺฏุฑุฏุงููุฏุ ููุฏุงุฑ ูพุดโูุฑุถ ุขู ููุน ุฑุง ุจุฑูโฺฏุฑุฏุงููุฏ (ูุซูุงู <code>0</code> ุจุฑุง <code>int</code> ุง <code>null</code> ุจุฑุง <code>string</code>).</li>
</ul>
</li>
<li>
<p><strong>BinarySearch</strong> ุณุฑุน ุงุณุชุ ุงูุง ููุท ุฑู ุขุฑุงูโูุง ูุฑุชุจ ฺฉุงุฑ ูโฺฉูุฏ ู ูุงุฒ ุฏุงุฑุฏ ุนูุงุตุฑ <strong>ุชุฑุชุจโูพุฐุฑ ุจุงุดูุฏ</strong>. ุงู ูุชุฏูุง ูโุชูุงููุฏ ฺฉ ุดุก <code>IComparer</code> ุง <code>IComparer&lt;T&gt;</code> ุฏุฑุงูุช ฺฉููุฏ ุชุง ุชุฑุชุจ ุนูุงุตุฑ ุฑุง ุชุนู ฺฉูุฏ (ุจุงุฏ ุจุง ุชุฑุชุจ ฺฉู ููฺฏุงู ูุฑุชุจโุณุงุฒ ุงููู ุงุณุชูุงุฏู ุดุฏูุ ุณุงุฒฺฏุงุฑ ุจุงุดุฏ). ุฏุฑ ุตูุฑุช ุนุฏู ุงุฑุงุฆูุ ุงูฺฏูุฑุชู ูุฑุชุจโุณุงุฒ ูพุดโูุฑุถ ููุน ุงุณุชูุงุฏู ูโุดูุฏ (ุจุฑุงุณุงุณ <code>IComparable</code> / <code>IComparable&lt;T&gt;</code>).</p>
</li>
<li>
<p><strong>IndexOf / LastIndexOf</strong> ุตุฑูุงู ุขุฑุงู ุฑุง ูพูุงุด ูโฺฉููุฏ ู ูููุนุช <strong>ุงููู ุง ุขุฎุฑู ุนูุตุฑ ูุทุงุจู</strong> ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ.</p>
</li>
<li>
<p>ูุชุฏูุง ูุจุชู ุจุฑ <strong>Predicate</strong> ุงุฌุงุฒู ูโุฏููุฏ <strong>Delegate</strong> ุง <strong>Lambda Expression</strong> ุชุตูู ุจฺฏุฑุฏ ฺฉู ุขุง ุนูุตุฑ ูุดุฎุต ุจุง ูุนุงุฑ ููุฑุฏูุธุฑ ูุทุงุจูุช ุฏุงุฑุฏ ุง ุฎุฑ.</p>
</li>
</ul>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">delegate</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Predicate</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T obj</span>)</span>;
</code></pre>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-built_in">string</span>[] names = { <span class="hljs-string">&quot;Rodney&quot;</span>, <span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-string">&quot;Jill&quot;</span> };
<span class="hljs-built_in">string</span> match = Array.Find(names, ContainsA);
Console.WriteLine(match); <span class="hljs-comment">// Jack</span>

<span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">ContainsA</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span> { <span class="hljs-keyword">return</span> name.Contains(<span class="hljs-string">&quot;a&quot;</span>); }
</code></pre>
<p>ููุงู ูุซุงู ุจุง <strong>Lambda Expression</strong>:</p>
<pre class="hljs"><code><span class="hljs-built_in">string</span>[] names = { <span class="hljs-string">&quot;Rodney&quot;</span>, <span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-string">&quot;Jill&quot;</span> };
<span class="hljs-built_in">string</span> match = Array.Find(names, n =&gt; n.Contains(<span class="hljs-string">&quot;a&quot;</span>)); <span class="hljs-comment">// Jack</span>
</code></pre>
<ul>
<li>
<p><code>FindAll</code> ุขุฑุงูโุง ุดุงูู <strong>ุชูุงู ุนูุงุตุฑ ูุทุงุจู ุจุง Predicate</strong> ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ูุดุงุจู <code>Enumerable.Where</code> ุฏุฑ <code>System.Linq</code> ุงุณุชุ ุจุง ุงู ุชูุงูุช ฺฉู ุฎุฑูุฌ ุจู ุตูุฑุช ุขุฑุงู ุงุณุชุ ูู <code>IEnumerable&lt;T&gt;</code>.</p>
</li>
<li>
<p><code>Exists</code> ุจุงุฒ ูโฺฏุฑุฏุงูุฏ <code>true</code> ุงฺฏุฑ <strong>ูุฑ ุนุถู ุขุฑุงู</strong> ูุนุงุฑ Predicate ุฑุง ุจุฑุขูุฑุฏู ฺฉูุฏุ ูุดุงุจู <code>Any</code> ุฏุฑ <code>System.Linq.Enumerable</code>.</p>
</li>
<li>
<p><code>TrueForAll</code> ุจุงุฒ ูโฺฏุฑุฏุงูุฏ <code>true</code> ุงฺฏุฑ <strong>ููู ุนูุงุตุฑ</strong> ูุนุงุฑ Predicate ุฑุง ุจุฑุขูุฑุฏู ฺฉููุฏุ ูุดุงุจู <code>All</code> ุฏุฑ <code>System.Linq.Enumerable</code>.</p>
</li>
</ul>
<h3>ูุฑุชุจโุณุงุฒ ุขุฑุงู ๐๏ธ</h3>
<p>ฺฉูุงุณ <code>Array</code> ฺูุฏู ูุชุฏ <strong>ูุฑุชุจโุณุงุฒ ุฏุงุฎู</strong> ุฏุงุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-comment">// ูุฑุชุจโุณุงุฒ ฺฉ ุขุฑุงู ุชฺฉโุจุนุฏ:</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sort</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T[] array</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sort</span>(<span class="hljs-params">Array array</span>)</span>;

<span class="hljs-comment">// ูุฑุชุจโุณุงุฒ ุฌูุช ุขุฑุงูโูุง:</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sort</span>&lt;<span class="hljs-title">TKey</span>,<span class="hljs-title">TValue</span>&gt;(<span class="hljs-params">TKey[] keys, TValue[] items</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sort</span>(<span class="hljs-params">Array keys, Array items</span>)</span>;
</code></pre>
<p>ูุฑ ฺฉ ุงุฒ ุงู ูุชุฏูุง ุจูโุตูุฑุช <strong>Overload</strong> ูโุชูุงููุฏ ูพุงุฑุงูุชุฑูุง ุฒุฑ ุฑุง ูู ุจฺฏุฑูุฏ:</p>
<ul>
<li><code>int index</code> โ ุดุฑูุน ูุฑุชุจโุณุงุฒ ุงุฒ ุงูุฏฺฉุณ ูุดุฎุต</li>
<li><code>int length</code> โ ุชุนุฏุงุฏ ุนูุงุตุฑ ุจุฑุง ูุฑุชุจโุณุงุฒ</li>
<li><code>IComparer&lt;T&gt; comparer</code> โ ุดุก ุชุนูโฺฉููุฏู ุชุฑุชุจ ุนูุงุตุฑ</li>
<li><code>Comparison&lt;T&gt; comparison</code> โ Delegate ุชุนูโฺฉููุฏู ุชุฑุชุจ ุนูุงุตุฑ</li>
</ul>
<p>ูุซุงู ุณุงุฏู:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] numbers = { <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span> };
Array.Sort(numbers);  <span class="hljs-comment">// ุขุฑุงู ุญุงูุง { 1, 2, 3 }</span>
</code></pre>
<p>ูุชุฏูุง <strong>ุฌูุช ุขุฑุงูโุง</strong>ุ ุนูุงุตุฑ ูุฑ ุฏู ุขุฑุงู ุฑุง <strong>ุจูโุตูุฑุช ููโุฒูุงู ูุฑุชุจ</strong> ูโฺฉููุฏ ู ุชุฑุชุจ ุฑุง ุจุฑุงุณุงุณ ุขุฑุงู ุงูู ุงุนูุงู ูโฺฉููุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] numbers = { <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span> };
<span class="hljs-built_in">string</span>[] words = { <span class="hljs-string">&quot;three&quot;</span>, <span class="hljs-string">&quot;two&quot;</span>, <span class="hljs-string">&quot;one&quot;</span> };
Array.Sort(numbers, words);
<span class="hljs-comment">// numbers โ { 1, 2, 3 }</span>
<span class="hljs-comment">// words   โ { &quot;one&quot;, &quot;two&quot;, &quot;three&quot; }</span>
</code></pre>
<blockquote>
<p>โ๏ธ ูฺฉุชู: <code>Array.Sort</code> ูุงุฒ ุฏุงุฑุฏ ฺฉู ุนูุงุตุฑ ุขุฑุงู <code>IComparable</code> ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ. ุงฺฏุฑ ุนูุงุตุฑ ูุงุจู ููุงุณู ุฐุงุช ูุจุงุดูุฏ ุง ุจุฎูุงูุฏ ุชุฑุชุจ ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏุ ุจุงุฏ <strong>Comparison ุณูุงุฑุด</strong> ุง ุดุก <code>IComparer&lt;T&gt;</code> ุงุฑุงุฆู ุฏูุฏ.</p>
</blockquote>
<p>ูุซุงู ุจุง <strong>Comparison Delegate</strong>:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">delegate</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Comparison</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T x, T y</span>)</span>;
</code></pre>
<ul>
<li>ุงฺฏุฑ <code>x</code> ูุจู ุงุฒ <code>y</code> ุจุงุดุฏ โ ุนุฏุฏ ููู ุจุงุฒูโฺฏุฑุฏุงูุฏ</li>
<li>ุงฺฏุฑ <code>x</code> ุจุนุฏ ุงุฒ <code>y</code> ุจุงุดุฏ โ ุนุฏุฏ ูุซุจุช ุจุงุฒูโฺฏุฑุฏุงูุฏ</li>
<li>ุงฺฏุฑ ุจุฑุงุจุฑ ุจุงุดูุฏ โ <code>0</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ</li>
</ul>
<p>ูุซุงู ุนูู:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] numbers = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> };
Array.Sort(numbers, (x, y) =&gt; x % <span class="hljs-number">2</span> == y % <span class="hljs-number">2</span> ? <span class="hljs-number">0</span> : x % <span class="hljs-number">2</span> == <span class="hljs-number">1</span> ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>);
<span class="hljs-comment">// numbers โ { 1, 3, 5, 2, 4 }</span>
</code></pre>
<ul>
<li>ุจู ุฌุง <code>Array.Sort</code> ูโุชูุงูุฏ ุงุฒ <strong>LINQ</strong> ู ูุชุฏูุง <code>OrderBy</code> ู <code>ThenBy</code> ุงุณุชูุงุฏู ฺฉูุฏ.<br>
ุงู ุฑูุด <strong>ุขุฑุงู ุงุตู ุฑุง ุชุบุฑ ููโุฏูุฏ</strong> ู ุฎุฑูุฌ ุฑุง ุจู ุตูุฑุช ฺฉ <code>IEnumerable&lt;T&gt;</code> ูุฑุชุจโุดุฏู ุงุฑุงุฆู ูโุฏูุฏ.</li>
</ul>
<hr>
<h3>ูุนฺฉูุณ ฺฉุฑุฏู ุนูุงุตุฑ ๐</h3>
<p>ฺฉูุงุณ <code>Array</code> ูุชุฏูุง ุจุฑุง ูุนฺฉูุณ ฺฉุฑุฏู ุชูุงู ุง ุจุฎุด ุงุฒ ุขุฑุงู ุงุฑุงุฆู ูโุฏูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Reverse</span>(<span class="hljs-params">Array array</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Reverse</span>(<span class="hljs-params">Array array, <span class="hljs-built_in">int</span> index, <span class="hljs-built_in">int</span> length</span>)</span>;
</code></pre>
<hr>
<h3>ฺฉูพ ฺฉุฑุฏู ุขุฑุงู ๐</h3>
<p>ฺฉูุงุณ <code>Array</code> ฺูุงุฑ ุฑูุด ุจุฑุง <strong>ฺฉูพ ุณุทุญ</strong> ุฏุงุฑุฏ: <code>Clone</code>ุ <code>CopyTo</code>ุ <code>Copy</code> ู <code>ConstrainedCopy</code></p>
<ul>
<li>
<p><code>Clone</code> ู <code>CopyTo</code> โ <strong>ูุชุฏูุง ูููููโุง</strong></p>
</li>
<li>
<p><code>Copy</code> ู <code>ConstrainedCopy</code> โ <strong>ูุชุฏูุง ุงุณุชุงุชฺฉ</strong></p>
</li>
<li>
<p><code>Clone</code> โ ุขุฑุงู ุฌุฏุฏ (ุณุทุญ) ุจุงุฒูโฺฏุฑุฏุงูุฏ</p>
</li>
<li>
<p><code>CopyTo</code> ู <code>Copy</code> โ ุจุฎุด ูุชูุงู ุงุฒ ุขุฑุงู ุฑุง ฺฉูพ ูโฺฉููุฏ</p>
<ul>
<li>ุจุฑุง ุขุฑุงูโูุง ฺูุฏุจุนุฏุ ุจุงุฏ <strong>ุงูุฏฺฉุณ ฺูุฏุจุนุฏ ุฑุง ุจู ุงูุฏฺฉุณ ุฎุท</strong> ุชุจุฏู ฺฉูุฏ</li>
<li>ูุซุงู: ุฎุงูู ูุณุท <code>[1,1]</code> ุฏุฑ ุขุฑุงู 3ร3 โ <code>1 * 3 + 1 = 4</code></li>
<li>ูุญุฏูุฏูโูุง ููุจุน ู ููุตุฏ ูโุชูุงููุฏ <strong>ูููพูุดุงู ุฏุงุดุชู ุจุงุดูุฏ</strong> ุจุฏูู ูุดฺฉู</li>
</ul>
</li>
<li>
<p><code>ConstrainedCopy</code> โ ุนููุงุช <strong>ุงุชู</strong>ุ ุงฺฏุฑ ููู ุนูุงุตุฑ ูุชูุงููุฏ ฺฉูพ ุดููุฏุ ุนููุงุช ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ</p>
</li>
<li>
<p><code>AsReadOnly</code> โ <strong>Wrapper</strong> ุจุงุฒูโฺฏุฑุฏุงูุฏ ฺฉู ุงุฒ ุชุบุฑ ุนูุงุตุฑ ุฌููฺฏุฑ ูโฺฉูุฏ</p>
</li>
</ul>
<h3>ุชุจุฏู ู ุชุบุฑ ุงูุฏุงุฒู ุขุฑุงู ๐๐</h3>
<p>ฺฉูุงุณ <code>Array</code> ูุชุฏูุง ุจุฑุง <strong>ุชุจุฏู ุนูุงุตุฑ ุขุฑุงู</strong> ู <strong>ุชุบุฑ ุงูุฏุงุฒู ุขุฑุงู</strong> ุงุฑุงุฆู ูโุฏูุฏ:</p>
<ul>
<li><code>Array.ConvertAll</code> โ ฺฉ ุขุฑุงู ุฌุฏุฏ ุงุฒ ููุน <code>TOutput</code> ุงุฌุงุฏ ูโฺฉูุฏ ู ุนูุงุตุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>Delegate ุชุจุฏูโฺฉููุฏู</strong> ฺฉูพ ูโฺฉูุฏ.<br>
ุชุนุฑู Delegate ุจู ุดฺฉู ุฒุฑ ุงุณุช:</li>
</ul>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">delegate</span> TOutput <span class="hljs-title">Converter</span>&lt;<span class="hljs-title">TInput</span>, <span class="hljs-title">TOutput</span>&gt;(<span class="hljs-params">TInput input</span>)</span>;
</code></pre>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-built_in">float</span>[] reals = { <span class="hljs-number">1.3f</span>, <span class="hljs-number">1.5f</span>, <span class="hljs-number">1.8f</span> };
<span class="hljs-built_in">int</span>[] wholes = Array.ConvertAll(reals, r =&gt; Convert.ToInt32(r));
<span class="hljs-comment">// wholes โ { 1, 2, 2 }</span>
</code></pre>
<ul>
<li><code>Array.Resize</code> โ ุจุง ุงุฌุงุฏ ุขุฑุงู ุฌุฏุฏ ู ฺฉูพ ุนูุงุตุฑุ ุขุฑุงู ุฑุง ุชุบุฑ ุงูุฏุงุฒู ูโุฏูุฏ ู ูุชุฌู ุฑุง ุงุฒ ุทุฑู ูพุงุฑุงูุชุฑ ูุฑุฌุน ุจุงุฒูโฺฏุฑุฏุงูุฏ.<br>
โ๏ธ ุชูุฌู: ุณุงุฑ ูุฑุงุฌุน ุจู ุขุฑุงู ุงุตู <strong>ุชุบุฑ ููโฺฉููุฏ</strong>.</li>
</ul>
<blockquote>
<p>ูุถุง ูุงู <code>System.Linq</code> ูู ุชุนุฏุงุฏ ุฒุงุฏ <strong>Extension Method</strong> ุจุฑุง ุชุจุฏู ุขุฑุงู ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุฎุฑูุฌ ุขู <code>IEnumerable&lt;T&gt;</code> ุงุณุช ู ูโุชูุงู ุฏูุจุงุฑู ุจุง <code>ToArray</code> ุจู ุขุฑุงู ุชุจุฏู ฺฉุฑุฏ.</p>
</blockquote>
<hr>
<h3>ูุณุชโูุงุ ุตูโูุงุ ูพุดุชูโูุง ู ูุฌููุนูโูุง ๐๐</h3>
<p>.NET ูุฌููุนูโุง ุงุฒ ฺฉูุงุณโูุง <strong>ูุฌููุนูโุง ุขูุงุฏู</strong> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุฑุงุจุทโูุง ูุนุฑูโุดุฏู ุฏุฑ ุงู ูุตู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ.<br>
ุงู ุจุฎุด ุฑู <strong>ูุฌููุนูโูุง ุดุจู ูุณุช</strong> ุชูุฑฺฉุฒ ุฏุงุฑุฏ ู ูู ูุฌููุนูโูุง ุฏฺฉุดูุฑุ ฺฉู ุจุนุฏุงู ุฏุฑ ูุตู ยซDictionariesยป ุจุฑุฑุณ ูโฺฉูู.</p>
<ul>
<li>ุจุฑุง ุงฺฉุซุฑ ฺฉูุงุณโูุงุ ูโุชูุงูุฏ ูุณุฎู <strong>Generic</strong> ุง <strong>Non-Generic</strong> ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</li>
<li>ฺฉูุงุณโูุง Generic ุงุฒ ูุธุฑ <strong>ุงูุนุทุงูโูพุฐุฑ ู ุนููฺฉุฑุฏ</strong> ุจูุชุฑูุฏ ู ูุณุฎู ุบุฑุฌูุฑฺฉ ูุนูููุงู ููุท ุจุฑุง <strong>ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎูโูุง ูุฏู</strong> ูุงุฒู ุงุณุช.</li>
<li>ุงุฒ ุจู ุงู ฺฉูุงุณโูุงุ <code>List&lt;T&gt;</code> ูพุฑฺฉุงุฑุจุฑุฏุชุฑู ุงุณุช.</li>
</ul>
<hr>
<h3>ฺฉูุงุณโูุง List<T> ู ArrayList ๐</h3>
<ul>
<li>ฺฉูุงุณ Generic <code>List&lt;T&gt;</code> ู Non-Generic <code>ArrayList</code> ุขุฑุงูโุง <strong>ูพูุง</strong> ุงุฒ ุงุดุงุก ูุฑุงูู ูโฺฉููุฏ.</li>
<li><code>ArrayList</code> โ ูพุงุฏูโุณุงุฒ <code>IList</code></li>
<li><code>List&lt;T&gt;</code> โ ูพุงุฏูโุณุงุฒ <code>IList</code> ู <code>IList&lt;T&gt;</code> (ู ูุณุฎู ููุท ุฎูุงูุฏู <code>IReadOnlyList&lt;T&gt;</code>)</li>
</ul>
<blockquote>
<p>ุชูุงูุช ุจุง ุขุฑุงูโูุง: ุชูุงู ุงู ุฑุงุจุทโูุง <strong>ุนููู ูพุงุฏูโุณุงุฒ</strong> ุดุฏูโุงูุฏ ู ูุชุฏูุง ูุงููุฏ <code>Add</code> ู <code>Remove</code> <strong>ูุณุชููุงู ูุงุจู ุงุณุชูุงุฏู</strong> ูุณุชูุฏ.</p>
</blockquote>
<h4>ุฌุฒุฆุงุช ุฏุงุฎู</h4>
<ul>
<li><code>List&lt;T&gt;</code> ู <code>ArrayList</code> ฺฉ <strong>ุขุฑุงู ุฏุงุฎู</strong> ุฏุงุฑูุฏ ฺฉู ููฺฏุงู ูพุฑ ุดุฏูุ ุฌุงฺฏุฒู ุจุง ุขุฑุงู ุจุฒุฑฺฏโุชุฑ ูโุดูุฏ.</li>
<li>ุงูุฒูุฏู ุนูุตุฑ โ ุณุฑุน (ูุนูููุงู ุฌุง ุฎุงู ุฏุฑ ุงูุชูุง ูุฌูุฏ ุฏุงุฑุฏ)</li>
<li>ุฏุฑุฌ ุนูุตุฑ โ ฺฉูุฏ (ฺูู ููู ุนูุงุตุฑ ุจุนุฏ ุงุฒ ููุทู ุฏุฑุฌ ุจุงุฏ ุฌุงุจุฌุง ุดููุฏ)</li>
<li>ุญุฐู ุนูุตุฑ โ ฺฉูุฏุ ุจูโุฎุตูุต ุฏุฑ ุงุจุชุฏุง ุขุฑุงู</li>
<li>ุฌุณุชุฌู โ ุณุฑุน ุจุง <code>BinarySearch</code>ุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ฺฉูุฏ (ฺูู ุจุงุฏ ููู ุนูุงุตุฑ ุจุฑุฑุณ ุดููุฏ)</li>
</ul>
<blockquote>
<p>ุงฺฏุฑ <code>T</code> ฺฉ ููุน ููุฏุงุฑ (Value Type) ุจุงุดุฏุ <code>List&lt;T&gt;</code> ฺูุฏู ุจุฑุงุจุฑ ุณุฑุนโุชุฑ ุงุฒ <code>ArrayList</code> ุงุณุชุ ฺูู ุงุฒ <strong>Boxing/Unboxing</strong> ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
</blockquote>
<hr>
<h3>ุณุงุฒูุฏูโูุง ู ูุชุฏูุง ููู <code>List&lt;T&gt;</code> โ๏ธ</h3>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IList</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IReadOnlyList</span>&lt;<span class="hljs-title">T</span>&gt;</span>
{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">List</span>()</span>;                          <span class="hljs-comment">// ุขุฑุงู ุฎุงู</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">List</span>(<span class="hljs-params">IEnumerable&lt;T&gt; collection</span>)</span>; <span class="hljs-comment">// ฺฉูพ ุงุฒ ูุฌููุนู ููุฌูุฏ</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">List</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> capacity</span>)</span>;               <span class="hljs-comment">// ูุดุฎุต ฺฉุฑุฏู ุธุฑูุช ุงููู</span>

  <span class="hljs-comment">// ุงูุฒูุฏู ู ุฏุฑุฌ</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Add</span>(<span class="hljs-params">T item</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddRange</span>(<span class="hljs-params">IEnumerable&lt;T&gt; collection</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, T item</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertRange</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, IEnumerable&lt;T&gt; collection</span>)</span>;

  <span class="hljs-comment">// ุญุฐู</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Remove</span>(<span class="hljs-params">T item</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveAt</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveRange</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, <span class="hljs-built_in">int</span> count</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">RemoveAll</span>(<span class="hljs-params">Predicate&lt;T&gt; match</span>)</span>;

  <span class="hljs-comment">// ุฏุณุชุฑุณ ุจุง ุงูุฏฺฉุณ</span>
  <span class="hljs-keyword">public</span> T <span class="hljs-keyword">this</span>[<span class="hljs-built_in">int</span> index] { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">GetRange</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, <span class="hljs-built_in">int</span> count</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Enumerator</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">GetEnumerator</span>()</span>;

  <span class="hljs-comment">// ฺฉูพ ู ุชุจุฏู</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> T[] <span class="hljs-title">ToArray</span>()</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params">T[] array</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params">T[] array, <span class="hljs-built_in">int</span> arrayIndex</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, T[] array, <span class="hljs-built_in">int</span> arrayIndex, <span class="hljs-built_in">int</span> count</span>)</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ReadOnlyCollection</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">AsReadOnly</span>()</span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">TOutput</span>&gt; <span class="hljs-title">ConvertAll</span>&lt;<span class="hljs-title">TOutput</span>&gt;(<span class="hljs-params">Converter&lt;T,TOutput&gt; converter</span>)</span>;

  <span class="hljs-comment">// ุณุงุฑ ูุชุฏูุง</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Reverse</span>()</span>;      <span class="hljs-comment">// ูุนฺฉูุณ ฺฉุฑุฏู ุชุฑุชุจ ุนูุงุตุฑ</span>
  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Capacity { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }  <span class="hljs-comment">// ฺฏุณุชุฑุด ุขุฑุงู ุฏุงุฎู</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TrimExcess</span>()</span>;   <span class="hljs-comment">// ฺฉุงูุด ุขุฑุงู ุฏุงุฎู ุจู ุงูุฏุงุฒู ูุงูุน</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Clear</span>()</span>;        <span class="hljs-comment">// ุญุฐู ุชูุงู ุนูุงุตุฑุ Count=0</span>
}
</code></pre>
<ul>
<li><code>List&lt;T&gt;</code> ููฺูู <strong>ูุณุฎูโูุง ูููููโุง ุชูุงู ูุชุฏูุง ุฌุณุชุฌู ู ูุฑุชุจโุณุงุฒ ุขุฑุงู</strong> ุฑุง ุฏุงุฑุฏ.</li>
</ul>
<hr>
<h3>ูุซุงู ุนูู ุจุง List<T> ๐ฏ</h3>
<pre class="hljs"><code><span class="hljs-keyword">var</span> words = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();          <span class="hljs-comment">// ูุณุช ุฑุดุชูโุง</span>
words.Add(<span class="hljs-string">&quot;melon&quot;</span>);
words.Add(<span class="hljs-string">&quot;avocado&quot;</span>);
words.AddRange([<span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;plum&quot;</span>]);
words.Insert(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;lemon&quot;</span>);                <span class="hljs-comment">// ุฏุฑุฌ ุฏุฑ ุงุจุชุฏุง</span>
words.InsertRange(<span class="hljs-number">0</span>, [<span class="hljs-string">&quot;peach&quot;</span>, <span class="hljs-string">&quot;nashi&quot;</span>]); <span class="hljs-comment">// ุฏุฑุฌ ฺูุฏฺฏุงูู ุฏุฑ ุงุจุชุฏุง</span>
words.Remove(<span class="hljs-string">&quot;melon&quot;</span>);
words.RemoveAt(<span class="hljs-number">3</span>);                        <span class="hljs-comment">// ุญุฐู ุนูุตุฑ ฺูุงุฑู</span>
words.RemoveRange(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>);                  <span class="hljs-comment">// ุญุฐู ุฏู ุนูุตุฑ ุงูู</span>
words.RemoveAll(s =&gt; s.StartsWith(<span class="hljs-string">&quot;n&quot;</span>)); <span class="hljs-comment">// ุญุฐู ุชูุงู ุฑุดุชูโูุง ุจุง ุดุฑูุน &#x27;n&#x27;</span>

Console.WriteLine(words[<span class="hljs-number">0</span>]);              <span class="hljs-comment">// ุงููู ุนูุตุฑ</span>
Console.WriteLine(words[words.Count<span class="hljs-number">-1</span>]);  <span class="hljs-comment">// ุขุฎุฑู ุนูุตุฑ</span>
<span class="hljs-keyword">foreach</span>(<span class="hljs-built_in">string</span> s <span class="hljs-keyword">in</span> words) Console.WriteLine(s); <span class="hljs-comment">// ุชูุงู ุนูุงุตุฑ</span>

List&lt;<span class="hljs-built_in">string</span>&gt; subset = words.GetRange(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);      <span class="hljs-comment">// ุงุฒ ุฏูู ุชุง ุณูู</span>
<span class="hljs-built_in">string</span>[] wordsArray = words.ToArray();          <span class="hljs-comment">// ุชุจุฏู ุจู ุขุฑุงู</span>
<span class="hljs-built_in">string</span>[] existing = <span class="hljs-keyword">new</span> <span class="hljs-built_in">string</span>[<span class="hljs-number">1000</span>];
words.CopyTo(<span class="hljs-number">0</span>, existing, <span class="hljs-number">998</span>, <span class="hljs-number">2</span>);             <span class="hljs-comment">// ฺฉูพ ุฏู ุนูุตุฑ ุงูู ุจู ุขุฑุงู ููุฌูุฏ</span>
List&lt;<span class="hljs-built_in">string</span>&gt; upperCaseWords = words.ConvertAll(s =&gt; s.ToUpper());
List&lt;<span class="hljs-built_in">int</span>&gt; lengths = words.ConvertAll(s =&gt; s.Length);
</code></pre>
<hr>
<h3>ุชูุงูุช ุจุง ArrayList โ๏ธ</h3>
<pre class="hljs"><code>ArrayList al = <span class="hljs-keyword">new</span> ArrayList();
al.Add(<span class="hljs-string">&quot;hello&quot;</span>);
<span class="hljs-built_in">string</span> first = (<span class="hljs-built_in">string</span>)al[<span class="hljs-number">0</span>];              <span class="hljs-comment">// ูุงุฒ ุจู cast</span>
<span class="hljs-built_in">string</span>[] strArr = (<span class="hljs-built_in">string</span>[])al.ToArray(<span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">string</span>));
</code></pre>
<ul>
<li>ฺูู castูุง ุชูุณุท ฺฉุงููพุงูุฑ <strong>ฺฺฉ ููโุดููุฏ</strong> ู ููฺฉู ุงุณุช ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฎุทุง ุจุฏููุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-built_in">int</span> first = (<span class="hljs-built_in">int</span>)al[<span class="hljs-number">0</span>]; <span class="hljs-comment">// Exception ุฏุฑ ุฒูุงู ุงุฌุฑุง</span>
</code></pre>
<ul>
<li><code>ArrayList</code> ูุดุงุจู <code>List&lt;object&gt;</code> ุนูู ูโฺฉูุฏ ู ุจุฑุง <strong>ูุณุชโูุง ฺูุฏ ููุน</strong> ููุงุณุจ ุงุณุช.</li>
<li>ูุฒุช ุงูุชุฎุงุจ <code>ArrayList</code> ุฏุฑ ุงู ุญุงูุช: <strong>ุณูููุช ุงุณุชูุงุฏู ุจุง Reflection</strong> ูุณุจุช ุจู <code>List&lt;object&gt;</code></li>
</ul>
<blockquote>
<p>ุงฺฏุฑ <code>System.Linq</code> ุฑุง ูุงุฑุฏ ฺฉูุฏุ ูโุชูุงูุฏ ฺฉ <code>ArrayList</code> ุฑุง ุจู ฺฉ <code>List&lt;T&gt;</code> ุฌูุฑฺฉ ุชุจุฏู ฺฉูุฏ:</p>
</blockquote>
<pre class="hljs"><code>ArrayList al = <span class="hljs-keyword">new</span> ArrayList();
al.AddRange(<span class="hljs-keyword">new</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span> });
List&lt;<span class="hljs-built_in">int</span>&gt; list = al.Cast&lt;<span class="hljs-built_in">int</span>&gt;().ToList();
</code></pre>
<ul>
<li><code>Cast</code> ู <code>ToList</code> ูุชุฏูุง <strong>Extension</strong> ุฏุฑ <code>System.Linq.Enumerable</code> ูุณุชูุฏ.</li>
</ul>
<h3>LinkedList<T> ๐</h3>
<p><code>LinkedList&lt;T&gt;</code> ฺฉ <strong>ูุณุช ูพููุฏ ุฏูุทุฑูู (doubly linked list)</strong> ุฌูุฑฺฉ ุงุณุช.</p>
<h4>ุณุงุฎุชุงุฑ</h4>
<ul>
<li>
<p>ุดุงูู <strong>ฺฏุฑูโูุง (nodes)</strong> ุงุณุช ฺฉู ูุฑ ฺฏุฑู ุดุงูู ุณู ฺุฒ ุงุณุช:</p>
<ol>
<li><strong>ููุฏุงุฑ (Value)</strong></li>
<li><strong>ุงุฑุฌุงุน ุจู ฺฏุฑู ูุจู (Previous)</strong></li>
<li><strong>ุงุฑุฌุงุน ุจู ฺฏุฑู ุจุนุฏ (Next)</strong></li>
</ol>
</li>
</ul>
<blockquote>
<p>ุดฺฉู ุณุงุฏู:</p>
</blockquote>
<pre class="hljs"><code>null &lt;- [Node1] &lt;-&gt; [Node2] &lt;-&gt; [Node3] -&gt; null
</code></pre>
<h4>ูุฒุช ุงุตู</h4>
<ul>
<li>ุฏุฑุฌ ุนูุตุฑ ุฏุฑ ูุฑ ููุทู ุงุฒ ูุณุช <strong>ุจุณุงุฑ ุณุฑุน ู ฺฉุงุฑุขูุฏ</strong> ุงุณุชุ ุฒุฑุง ููุท ฺฉุงูุณุช ฺฉ ฺฏุฑู ุฌุฏุฏ ุจุณุงุฒุฏ ู ฺูุฏ ุงุฑุฌุงุน ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ.</li>
</ul>
<h4>ูุญุฏูุฏุช</h4>
<ul>
<li><strong>ุฏุณุชุฑุณ ูุณุชูู ุจุง ุงูุฏฺฉุณ ูุฌูุฏ ูุฏุงุฑุฏ</strong>.</li>
<li>ุจุฑุง ุงูุชู ูฺฉุงู ุฏุฑุฌ ุง ุฌุณุชุฌู ฺฉ ุนูุตุฑุ ุจุงุฏ ุงุฒ ุงุจุชุฏุง ุง ุงูุชูุง ูุณุช ูพูุงุด ฺฉูุฏ.</li>
<li><strong>ุฌุณุชุฌู ุจุงูุฑ ุง ุฏุณุชุฑุณ ุชุตุงุฏู ุจู ุนูุงุตุฑ ุงูฺฉุงูโูพุฐุฑ ูุณุช</strong>.</li>
</ul>
<blockquote>
<p>ุจูุงุจุฑุงู <code>LinkedList&lt;T&gt;</code> ุฒูุงู ููุงุณุจ ุงุณุช ฺฉู <strong>ุนููุงุช ุฏุฑุฌ ู ุญุฐู ุฏุฑ ูุงูู ูุณุช</strong> ุฒุงุฏ ุงูุฌุงู ูโุดูุฏ ู ูุงุฒ ุจู <strong>ุฏุณุชุฑุณ ูุณุชูู ุจู ุนูุงุตุฑ ฺฉูุชุฑ</strong> ุงุณุช.</p>
</blockquote>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-5.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>LinkedList<T> ๐ โ ุงุฏุงูู</h3>
<p><code>LinkedList&lt;T&gt;</code> ูพุงุฏูโุณุงุฒ ูโุดูุฏ ุงุฒ <strong>IEnumerable<T> ู ICollection<T></strong> (ู ูุณุฎูโูุง ุบุฑุฌูุฑฺฉ ุขูโูุง) ุงูุง <strong>IList<T> ูพุงุฏูโุณุงุฒ ููโุดูุฏ</strong>ุ ฺูู <strong>ุฏุณุชุฑุณ ุจุฑ ุงุณุงุณ ุงูุฏฺฉุณ ูพุดุชุจุงู ููโุดูุฏ</strong>.</p>
<h4>ฺฏุฑูโูุง</h4>
<p>ฺฏุฑูโูุง ูุณุช ุจุง ฺฉูุงุณ ุฒุฑ ูพุงุฏูโุณุงุฒ ูโุดููุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LinkedListNode</span>&lt;<span class="hljs-title">T</span>&gt;
{
  <span class="hljs-keyword">public</span> LinkedList&lt;T&gt; List { <span class="hljs-keyword">get</span>; }      <span class="hljs-comment">// ุงุฑุฌุงุน ุจู ูุณุช ูุงูุฏ</span>
  <span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; Next { <span class="hljs-keyword">get</span>; }  <span class="hljs-comment">// ฺฏุฑู ุจุนุฏ</span>
  <span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; Previous { <span class="hljs-keyword">get</span>; } <span class="hljs-comment">// ฺฏุฑู ูุจู</span>
  <span class="hljs-keyword">public</span> T Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }            <span class="hljs-comment">// ููุฏุงุฑ ุฐุฎุฑูโุดุฏู</span>
}
</code></pre>
<h4>ุงูุฒูุฏู ฺฏุฑูโูุง</h4>
<p>ูโุชูุงูุฏ ูููุนุช ฺฏุฑู ุฌุฏุฏ ุฑุง <strong>ูุณุจุช ุจู ฺฏุฑูโุง ุฏฺฏุฑ</strong> ุง <strong>ุฏุฑ ุงุจุชุฏุง/ุงูุชูุง ูุณุช</strong> ูุดุฎุต ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddFirst</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; <span class="hljs-title">AddFirst</span>(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddLast</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; <span class="hljs-title">AddLast</span>(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddAfter</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node, LinkedListNode&lt;T&gt; newNode</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; <span class="hljs-title">AddAfter</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node, T <span class="hljs-keyword">value</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddBefore</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node, LinkedListNode&lt;T&gt; newNode</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; <span class="hljs-title">AddBefore</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node, T <span class="hljs-keyword">value</span></span>)</span>;
</code></pre>
<h4>ุญุฐู ฺฏุฑูโูุง</h4>
<p>ูุชุฏูุง ูุดุงุจู ุจุฑุง ุญุฐู ุนูุงุตุฑ ูุฌูุฏ ุฏุงุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Clear</span>()</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveFirst</span>()</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveLast</span>()</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Remove</span>(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Remove</span>(<span class="hljs-params">LinkedListNode&lt;T&gt; node</span>)</span>;
</code></pre>
<h4>ุฎูุงุต ุนููู</h4>
<p>ูุณุช ุฏุงุฎู LinkedList<T> ุดุงูู <strong>ุชุนุฏุงุฏ ุนูุงุตุฑ</strong> ู <strong>ุณุฑ ู ุชู ูุณุช</strong> ุงุณุช ู ุจุง ุฎูุงุต ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ุฏุงุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Count { <span class="hljs-keyword">get</span>; }                     <span class="hljs-comment">// ุณุฑุน</span>
<span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; First { <span class="hljs-keyword">get</span>; }       <span class="hljs-comment">// ุณุฑุน</span>
<span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; Last { <span class="hljs-keyword">get</span>; }        <span class="hljs-comment">// ุณุฑุน</span>
</code></pre>
<h4>ุฌุณุชุฌู</h4>
<p>LinkedList<T> ูุชุฏูุง ุฌุณุชุฌู ุฒุฑ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ (ุจุง ูพูุงุด ุฏุงุฎู ูุณุช):</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Contains</span>(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; <span class="hljs-title">Find</span>(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> LinkedListNode&lt;T&gt; <span class="hljs-title">FindLast</span>(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
</code></pre>
<h4>ฺฉูพ ู ูพูุงุด</h4>
<p>ุจุฑุง ูพุฑุฏุงุฒุด ุงูุฏฺฉุณโุจูุฏโุดุฏู ู ุงุณุชูุงุฏู ุงุฒ <code>foreach</code>:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CopyTo</span>(<span class="hljs-params">T[] array, <span class="hljs-built_in">int</span> index</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> Enumerator&lt;T&gt; <span class="hljs-title">GetEnumerator</span>()</span>;
</code></pre>
<h4>ูุซุงู ุนูู</h4>
<pre class="hljs"><code><span class="hljs-keyword">var</span> tune = <span class="hljs-keyword">new</span> LinkedList&lt;<span class="hljs-built_in">string</span>&gt;();
tune.AddFirst(<span class="hljs-string">&quot;do&quot;</span>);                            <span class="hljs-comment">// do</span>
tune.AddLast(<span class="hljs-string">&quot;so&quot;</span>);                             <span class="hljs-comment">// do - so</span>
tune.AddAfter(tune.First, <span class="hljs-string">&quot;re&quot;</span>);                <span class="hljs-comment">// do - re - so</span>
tune.AddAfter(tune.First.Next, <span class="hljs-string">&quot;mi&quot;</span>);           <span class="hljs-comment">// do - re - mi - so</span>
tune.AddBefore(tune.Last, <span class="hljs-string">&quot;fa&quot;</span>);                <span class="hljs-comment">// do - re - mi - fa - so</span>
tune.RemoveFirst();                             <span class="hljs-comment">// re - mi - fa - so</span>
tune.RemoveLast();                              <span class="hljs-comment">// re - mi - fa</span>
LinkedListNode&lt;<span class="hljs-built_in">string</span>&gt; miNode = tune.Find(<span class="hljs-string">&quot;mi&quot;</span>);
tune.Remove(miNode);                            <span class="hljs-comment">// re - fa</span>
tune.AddFirst(miNode);                          <span class="hljs-comment">// mi - re - fa</span>

<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">string</span> s <span class="hljs-keyword">in</span> tune) 
    Console.WriteLine(s);
</code></pre>
<blockquote>
<p>ุงู ูุซุงู ูุดุงู ูโุฏูุฏ ฺฺฏููู ูโุชูุงู ุนูุงุตุฑ ุฑุง ุงุถุงููุ ุญุฐู ู ุฌุณุชุฌู ฺฉุฑุฏ ู ุงุฒ ูพูุงุด foreach ุจุฑุง ฺุงูพ ุงุณุชูุงุฏู ฺฉุฑุฏ.</p>
</blockquote>
<h3>Queue<T> ู Stack<T> โณ๐</h3>
<h4>Queue<T> โ ุตู (FIFO)</h4>
<p><code>Queue&lt;T&gt;</code> ู ูุณุฎู ุบุฑุฌูุฑฺฉ <code>Queue</code> ูพุงุฏูโุณุงุฒ ูโุดููุฏ ุงุฒ <strong>Enumerable ู ICollection</strong> ู ููุงูุฏู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู <strong>First-In-First-Out (FIFO)</strong> ูุณุชูุฏ:</p>
<ul>
<li><strong>Enqueue(T item)</strong> โ ุงุถุงูู ฺฉุฑุฏู ุจู ุงูุชูุง ุตู</li>
<li><strong>Dequeue()</strong> โ ุญุฐู ู ุจุงุฒฺฏุฑุฏุงูุฏู ุนูุตุฑ ุงุฒ ุงุจุชุฏุง ุตู</li>
<li><strong>Peek()</strong> โ ูุดุงูุฏู ุนูุตุฑ ุงุจุชุฏุง ุตู ุจุฏูู ุญุฐู ุขู</li>
<li><strong>Count</strong> โ ุชุนุฏุงุฏ ุนูุงุตุฑ ููุฌูุฏ</li>
<li><strong>ToArray()</strong> โ ฺฉูพ ุนูุงุตุฑ ุจู ฺฉ ุขุฑุงู ุจุฑุง ุฏุณุชุฑุณ ุชุตุงุฏู</li>
</ul>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> q = <span class="hljs-keyword">new</span> Queue&lt;<span class="hljs-built_in">int</span>&gt;();
q.Enqueue(<span class="hljs-number">10</span>);
q.Enqueue(<span class="hljs-number">20</span>);
<span class="hljs-built_in">int</span>[] data = q.ToArray();       <span class="hljs-comment">// ฺฉูพ ุจู ุขุฑุงู</span>
Console.WriteLine(q.Count);     <span class="hljs-comment">// 2</span>
Console.WriteLine(q.Peek());    <span class="hljs-comment">// 10</span>
Console.WriteLine(q.Dequeue()); <span class="hljs-comment">// 10</span>
Console.WriteLine(q.Dequeue()); <span class="hljs-comment">// 20</span>
Console.WriteLine(q.Dequeue()); <span class="hljs-comment">// Exception (ุตู ุฎุงู)</span>
</code></pre>
<blockquote>
<p>ุตูโูุง ูุนูููุงู ุจุง ุขุฑุงู ุฏุงุฎู ูพุงุฏูโุณุงุฒ ูโุดููุฏ ู ุงูุฏุณโูุง ุณุฑ ู ุชู ุตู ุจุงุนุซ ุณุฑุน ุจูุฏู ุนููุงุช Enqueue/Dequeue ูโุดููุฏ.</p>
</blockquote>
<hr>
<h4>Stack<T> โ ูพุดุชู (LIFO)</h4>
<p><code>Stack&lt;T&gt;</code> ู ูุณุฎู ุบุฑุฌูุฑฺฉ <code>Stack</code> ููุงูุฏู ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู <strong>Last-In-First-Out (LIFO)</strong> ูุณุชูุฏ:</p>
<ul>
<li><strong>Push(T item)</strong> โ ุงูุฒูุฏู ุจู ุจุงูุง ูพุดุชู</li>
<li><strong>Pop()</strong> โ ุญุฐู ู ุจุงุฒฺฏุฑุฏุงูุฏู ุนูุตุฑ ุงุฒ ุจุงูุง ูพุดุชู</li>
<li><strong>Peek()</strong> โ ูุดุงูุฏู ุนูุตุฑ ุจุงูุง ูพุดุชู ุจุฏูู ุญุฐู ุขู</li>
<li><strong>Count</strong> โ ุชุนุฏุงุฏ ุนูุงุตุฑ</li>
<li><strong>ToArray()</strong> โ ฺฉูพ ุนูุงุตุฑ ุจุฑุง ุฏุณุชุฑุณ ุชุตุงุฏู</li>
</ul>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Stack&lt;<span class="hljs-built_in">int</span>&gt;();
s.Push(<span class="hljs-number">1</span>);                      <span class="hljs-comment">// Stack = 1</span>
s.Push(<span class="hljs-number">2</span>);                      <span class="hljs-comment">// Stack = 1,2</span>
s.Push(<span class="hljs-number">3</span>);                      <span class="hljs-comment">// Stack = 1,2,3</span>
Console.WriteLine(s.Count);     <span class="hljs-comment">// 3</span>
Console.WriteLine(s.Peek());    <span class="hljs-comment">// 3</span>
Console.WriteLine(s.Pop());     <span class="hljs-comment">// 3</span>
Console.WriteLine(s.Pop());     <span class="hljs-comment">// 2</span>
Console.WriteLine(s.Pop());     <span class="hljs-comment">// 1</span>
Console.WriteLine(s.Pop());     <span class="hljs-comment">// Exception</span>
</code></pre>
<blockquote>
<p>ูพุดุชูโูุง ูู ูุดุงุจู ุตูโูุง ุจุง ุขุฑุงู ุฏุงุฎู ูพุงุฏูโุณุงุฒ ูโุดููุฏ ู ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ุชุบุฑ ุงูุฏุงุฒูุ ุขุฑุงู ุฏุงุฎู ุจุฒุฑฺฏโุชุฑ ุฌุงฺฏุฒู ูโุดูุฏ.</p>
</blockquote>
<hr>
<h4>BitArray โ ุขุฑุงู ุจุช ๐ขโซ</h4>
<p><code>BitArray</code> ฺฉ <strong>ูุฌููุนู ุฏูุงูฺฉ ุงุฒ ููุงุฏุฑ bool</strong> ุงุณุช ฺฉู <strong>ูุฑ ุนูุตุฑ ููุท ฺฉ ุจุช ุญุงูุธู ุงุดุบุงู ูโฺฉูุฏ</strong> ู ูุณุจุช ุจู ุขุฑุงู ูุนููู bool ุง List<bool> ุจุณุงุฑ ุญุงูุธูโฺฉุงุฑุขูุฏ ุงุณุช.</p>
<ul>
<li>ุฏุณุชุฑุณ ุจู ุจุชโูุง ุจุง <strong>Indexer</strong>:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">var</span> bits = <span class="hljs-keyword">new</span> BitArray(<span class="hljs-number">2</span>);
bits[<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;
</code></pre>
<ul>
<li>ุนููุงุชโูุง ุจุช ุจู ุจุช: <strong>And, Or, Xor, Not</strong></li>
</ul>
<pre class="hljs"><code>bits.Xor(bits);               <span class="hljs-comment">// XOR ุจุชโูุง ุจุง ุฎูุฏุดุงู</span>
Console.WriteLine(bits[<span class="hljs-number">1</span>]);   <span class="hljs-comment">// False</span>
</code></pre>
<blockquote>
<p>BitArray ุจุฑุง ุฐุฎุฑู ู ูพุฑุฏุงุฒุด ูุฌููุนูโูุง ุจุฒุฑฺฏ ุจุช ุจุณุงุฑ ููุงุณุจ ุงุณุช.</p>
</blockquote>
<h3>HashSet<T> ู SortedSet<T> ๐น๐ธ</h3>
<h4>ูฺฺฏโูุง ูุดุชุฑฺฉ</h4>
<p><code>HashSet&lt;T&gt;</code> ู <code>SortedSet&lt;T&gt;</code> ูุฌููุนูโูุง ุงุฒ ุนูุงุตุฑ ฺฉุชุง ูุณุชูุฏ ฺฉู ฺูุฏ ูฺฺฏ ููู ุฏุงุฑูุฏ:</p>
<ul>
<li><strong>Contains</strong> ุจุณุงุฑ ุณุฑุน ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>hash lookup</strong> ุงุฌุฑุง ูโุดูุฏ.</li>
<li><strong>ุนูุงุตุฑ ุชฺฉุฑุงุฑ ุฐุฎุฑู ููโุดููุฏ</strong> ู ุงุถุงูู ฺฉุฑุฏู ุชฺฉุฑุงุฑ ูุงุฏุฏู ฺฏุฑูุชู ูโุดูุฏ.</li>
<li><strong>ุฏุณุชุฑุณ ุจู ุนูุตุฑ ุจุง ูููุนุช (index) ุงูฺฉุงูโูพุฐุฑ ูุณุช.</strong></li>
</ul>
<h4>ุชูุงูุช ุงุตู</h4>
<ul>
<li><code>SortedSet&lt;T&gt;</code> ุนูุงุตุฑ ุฑุง ูุฑุชุจ ูฺฏู ูโุฏุงุฑุฏ.</li>
<li><code>HashSet&lt;T&gt;</code> ุชุฑุชุจ ุนูุงุตุฑ ุฑุง ุญูุธ ููโฺฉูุฏ.</li>
</ul>
<p>ูุฑ ุฏู ูพุงุฏูโุณุงุฒ <code>ISet&lt;T&gt;</code>, <code>ICollection&lt;T&gt;</code> ู ุงุฒ .NET 5 ุจู ุจุนุฏ <code>IReadOnlySet&lt;T&gt;</code> ุฑุง ุฏุงุฑูุฏ.</p>
<ul>
<li><code>HashSet&lt;T&gt;</code> โ ุจุง <strong>Hashtable</strong> ูพุงุฏูโุณุงุฒ ูโุดูุฏ.</li>
<li><code>SortedSet&lt;T&gt;</code> โ ุจุง <strong>Red-Black Tree</strong> ูพุงุฏูโุณุงุฒ ูโุดูุฏ.</li>
</ul>
<p>ูุชุฏูุง ูพุงู ุดุงูู <code>Contains</code>, <code>Add</code>, <code>Remove</code> ู <code>RemoveWhere</code> ูุณุชูุฏ.</p>
<hr>
<h4>ูุซุงู HashSet<T></h4>
<pre class="hljs"><code><span class="hljs-keyword">var</span> letters = <span class="hljs-keyword">new</span> HashSet&lt;<span class="hljs-built_in">char</span>&gt;(<span class="hljs-string">&quot;the quick brown fox&quot;</span>);
Console.WriteLine(letters.Contains(<span class="hljs-string">&#x27;t&#x27;</span>)); <span class="hljs-comment">// true</span>
Console.WriteLine(letters.Contains(<span class="hljs-string">&#x27;j&#x27;</span>)); <span class="hljs-comment">// false</span>

<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> c <span class="hljs-keyword">in</span> letters)
    Console.Write(c); <span class="hljs-comment">// ุนูุงุตุฑ ุจุฏูู ุชฺฉุฑุงุฑ: the quickbrownfx</span>
</code></pre>
<hr>
<h4>ุนููุงุช ูุฌููุนูโุง (Set Operations)</h4>
<p><strong>ุชุบุฑ ุฏููุฏู ูุฌููุนู (Destructive):</strong></p>
<ul>
<li><code>UnionWith(IEnumerable&lt;T&gt; other)</code> โ ุชุฑฺฉุจ</li>
<li><code>IntersectWith(IEnumerable&lt;T&gt; other)</code> โ ุงุดุชุฑุงฺฉ</li>
<li><code>ExceptWith(IEnumerable&lt;T&gt; other)</code> โ ุญุฐู ุนูุงุตุฑ ูุดุฎุต</li>
<li><code>SymmetricExceptWith(IEnumerable&lt;T&gt; other)</code> โ ููุท ุนูุงุตุฑ ฺฉุชุง ุฏุฑ ฺฉ ุงุฒ ูุฌููุนูโูุง</li>
</ul>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> letters = <span class="hljs-keyword">new</span> HashSet&lt;<span class="hljs-built_in">char</span>&gt;(<span class="hljs-string">&quot;the quick brown fox&quot;</span>);
letters.IntersectWith(<span class="hljs-string">&quot;aeiou&quot;</span>); <span class="hljs-comment">// ููุท ุญุฑูู ุตุฏุงุฏุงุฑ</span>
<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> c <span class="hljs-keyword">in</span> letters) Console.Write(c); <span class="hljs-comment">// euio</span>
</code></pre>
<ul>
<li>ุฑูุดโูุง <strong>ุบุฑุชุบุฑ (Non-destructive)</strong> ุจุฑุง ุจุฑุฑุณ ูุฌููุนู:<br>
<code>IsSubsetOf</code>, <code>IsProperSubsetOf</code>, <code>IsSupersetOf</code>, <code>IsProperSupersetOf</code>, <code>Overlaps</code>, <code>SetEquals</code></li>
</ul>
<hr>
<h4>SortedSet<T> ูฺฺฏโูุง ุงุถุงูู</h4>
<ul>
<li><code>GetViewBetween(T lowerValue, T upperValue)</code> โ ุจุงุฒู ุงุฒ ุนูุงุตุฑ</li>
<li><code>Reverse()</code> โ ุจุงุฒฺฏุฑุฏุงูุฏู ุชุฑุชุจ ูุนฺฉูุณ</li>
<li><code>Min</code> ู <code>Max</code> โ ฺฉูฺฺฉโุชุฑู ู ุจุฒุฑฺฏโุชุฑู ุนูุตุฑ</li>
<li>ูพุฐุฑุด <code>IComparer&lt;T&gt;</code> ุฏุฑ ุณุงุฒูุฏู ุจุฑุง ุณูุงุฑุดโุณุงุฒ ุชุฑุชุจ</li>
</ul>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> letters = <span class="hljs-keyword">new</span> SortedSet&lt;<span class="hljs-built_in">char</span>&gt;(<span class="hljs-string">&quot;the quick brown fox&quot;</span>);
<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> c <span class="hljs-keyword">in</span> letters) Console.Write(c); <span class="hljs-comment">// bcefhiknoqrtuwx</span>
<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> c <span class="hljs-keyword">in</span> letters.GetViewBetween(<span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>))
    Console.Write(c); <span class="hljs-comment">// fhi</span>
</code></pre>
<hr>
<h3>ูฺฉุชู ููู</h3>
<ul>
<li>ูุฑ ุฏู ูุฌููุนู ูุงุจู ุชฺฉุฑุงุฑ (<code>IEnumerable&lt;T&gt;</code>) ูุณุชูุฏุ ุจูุงุจุฑุงู ูโุชูุงู ูุฑ ููุน ูุฌููุนู ุง ูุณุช ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุฏุฑ ุนููุงุช ูุฌููุนูโุง ุงุณุชูุงุฏู ฺฉุฑุฏ.</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-6.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>ุฏุฑ <strong>ููุงุฏ Big-O</strong>ุ ุฒูุงู ุจุงุฒุงุจ (retrieval) ุจุฑ ุงุณุงุณ ฺฉูุฏ ุจุฑุง ุงููุงุน ุฏฺฉุดูุฑโูุง ุจู ุดุฑุญ ุฒุฑ ุงุณุช:</p>
<table>
<thead>
<tr>
<th>ุณุงุฎุชุงุฑ ุฏุงุฏู</th>
<th>ุฒูุงู ุจุงุฒุงุจ (Big-O)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Hashtable</strong>, <strong>Dictionary</strong>, <strong>OrderedDictionary</strong></td>
<td>O(1) โ ุชูุฑุจุงู ููุฑ</td>
</tr>
<tr>
<td><strong>SortedDictionary</strong>, <strong>SortedList</strong></td>
<td>O(log n) โ ูฺฏุงุฑุชู</td>
</tr>
<tr>
<td><strong>ListDictionary</strong> ู ุงููุงุน ุบุฑ ุฏฺฉุดูุฑ ูุงููุฏ <strong>List<T></strong></td>
<td>O(n) โ ุฎุทุ ุนู ุจุงุฏ ููู ุนูุงุตุฑ ุฑุง ุจุฑุฑุณ ฺฉุฑุฏ</td>
</tr>
</tbody>
</table>
<p><strong>ุชูุถุญ:</strong></p>
<ul>
<li><code>n</code> ุชุนุฏุงุฏ ุนูุงุตุฑ ููุฌูุฏ ุฏุฑ ูุฌููุนู ุงุณุช.</li>
<li>ุฏฺฉุดูุฑโูุง ูุจุชู ุจุฑ ูุด (Hashtable, Dictionary) ุชูุฑุจุงู ุซุงุจุช ูุณุชูุฏ ฺูู ุงุฒ hashing ุจุฑุง ุงูุชู ฺฉูุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ.</li>
<li>ุฏฺฉุดูุฑโูุง ูุฑุชุจ (SortedDictionary/SortedList) ุงุฒ ุฏุฑุฎุช ุง ุณุงุฎุชุงุฑ ูุฑุชุจ ุงุณุชูุงุฏู ูโฺฉููุฏุ ุจูุงุจุฑุงู ุฌุณุชุฌู ูฺฏุงุฑุชู ุงุณุช.</li>
<li>ูุณุชโูุง ุณุงุฏู ุง ListDictionary ุจุงุฏ ุนูุตุฑ ุจู ุนูุตุฑ ุฌุณุชุฌู ฺฉููุฏุ ุจูุงุจุฑุงู ุฒูุงู ุจุงุฒุงุจ ุฎุท ุงุณุช.</li>
</ul>
<p>ุฏุฑ ุงู ุจุฎุดุ ุชูุถุญ ุฏุงุฏู ุดุฏู ฺฉู <strong>IDictionary&lt;TKey, TValue&gt;</strong> ู ูุณุฎูโ ุบุฑุฌูุฑฺฉ ุขู <strong>IDictionary</strong> ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏ ู ฺฉูุงุณโูุง ูุนููู ูุงููุฏ <strong>Dictionary&lt;TKey, TValue&gt;</strong> ู <strong>Hashtable</strong> ุงุฒ ฺู ูฺฉุงูุณู ุงุณุชูุงุฏู ูโฺฉููุฏ. ุฏุฑ ุงุฏุงูู ุฎูุงุตู ู ูฺฉุงุช ููู ุขูุฑุฏู ุดุฏู ุงุณุช:</p>
<hr>
<h3>ฑ. ุฑุงุจุท IDictionary&lt;TKey,TValue&gt;</h3>
<p>ุฑุงุจุท <strong>IDictionary&lt;TKey,TValue&gt;</strong> ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ูุฌููุนูโูุง ฺฉูุฏ/ููุฏุงุฑ ุงุฑุงุฆู ูโุฏูุฏ ู ุงูฺฉุงูุงุช ุฒุฑ ุฑุง ุฏุงุฑุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IDictionary</span>&lt;<span class="hljs-title">TKey</span>, <span class="hljs-title">TValue</span>&gt; : <span class="hljs-title">ICollection</span>&lt;<span class="hljs-title">KeyValuePair</span>&lt;<span class="hljs-title">TKey</span>, <span class="hljs-title">TValue</span>&gt;&gt;, <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">ContainsKey</span>(<span class="hljs-params">TKey key</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">TryGetValue</span>(<span class="hljs-params">TKey key, <span class="hljs-keyword">out</span> TValue <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Add</span>(<span class="hljs-params">TKey key, TValue <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Remove</span>(<span class="hljs-params">TKey key</span>)</span>;
    TValue <span class="hljs-keyword">this</span>[TKey key] { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } <span class="hljs-comment">// ุฏุณุชุฑุณ ุจู ููุฏุงุฑ ุจุฑ ุงุณุงุณ ฺฉูุฏ</span>
    ICollection&lt;TKey&gt; Keys { <span class="hljs-keyword">get</span>; }     <span class="hljs-comment">// ูุฌููุนู ฺฉูุฏูุง</span>
    ICollection&lt;TValue&gt; Values { <span class="hljs-keyword">get</span>; } <span class="hljs-comment">// ูุฌููุนู ููุงุฏุฑ</span>
}
</code></pre>
<ul>
<li><strong>Add</strong>: ฺฉ ุนูุตุฑ ุฌุฏุฏ ุงุถุงูู ูโฺฉูุฏุ ุงฺฏุฑ ฺฉูุฏ ุชฺฉุฑุงุฑ ุจุงุดุฏุ ุงุณุชุซูุงุก ูโุฏูุฏ.</li>
<li><strong>Indexer (<code>this[TKey]</code>)</strong>: ุงฺฏุฑ ฺฉูุฏ ููุฌูุฏ ูุจุงุดุฏุ ุงุณุชุซูุงุก ูพุฑุชุงุจ ูโฺฉูุฏ.</li>
<li><strong>TryGetValue</strong>: ุณุน ูโฺฉูุฏ ููุฏุงุฑ ุฑุง ุฏุฑุงูุช ฺฉูุฏุ ุงฺฏุฑ ฺฉูุฏ ูุจุงุดุฏ <code>false</code> ุจุฑูโฺฏุฑุฏุงูุฏ.</li>
<li><strong>ContainsKey</strong>: ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ฺฉูุฏ ูุฌูุฏ ุฏุงุฑุฏ ุง ูู.</li>
</ul>
<hr>
<h3>ฒ. ุฑุงุจุท IReadOnlyDictionary&lt;TKey,TValue&gt;</h3>
<ul>
<li>ููุท ุฏุณุชุฑุณ ุฎูุงูุฏู (Read-Only) ุจู ุงุนุถุง ุฏฺฉุดูุฑ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.</li>
</ul>
<hr>
<h3>ณ. ูุณุฎู ุบุฑุฌูุฑฺฉ IDictionary</h3>
<ul>
<li>ููฺฏุงู ุฏุณุชุฑุณ ุจู ฺฉูุฏ ุบุฑููุฌูุฏ ุจุง <strong>indexer</strong> ููุฏุงุฑ <code>null</code> ุจุงุฒูโฺฏุฑุฏุงูุฏ (ุจู ุฌุง ุงุณุชุซูุงุก).</li>
<li>ุงุฒ ูุชุฏ <strong>Contains</strong> ุจุฑุง ุจุฑุฑุณ ูุฌูุฏ ฺฉูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ.</li>
<li>ููฺฏุงู enumerationุ ุงุฒ ุณุงุฎุชุงุฑ <strong>DictionaryEntry</strong> ุงุณุชูุงุฏู ูโฺฉูุฏ:</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> DictionaryEntry
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">object</span> Key { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">object</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</code></pre>
<hr>
<h3>ด. Dictionary&lt;TKey,TValue&gt; ู Hashtable</h3>
<ul>
<li><strong>Dictionary&lt;TKey,TValue&gt;</strong> ฺฉูุงุณ ุนููู ู ูพุฑฺฉุงุฑุจุฑุฏ ุงุณุชุ ูุจุชู ุจุฑ <strong>Hashtable</strong>.</li>
<li>ูุณุฎู ุบุฑุฌูุฑฺฉ ุขู <strong>Hashtable</strong> ุงุณุช.</li>
<li>ฺฉูุฏูุง ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>GetHashCode</strong> ุจู ูุด ุชุจุฏู ูโุดููุฏ ู ุณูพุณ ุฏุฑ &quot;bucket&quot; ููุงุณุจ ูุฑุงุฑ ูโฺฏุฑูุฏ.</li>
<li>ุงฺฏุฑ ฺูุฏ ููุฏุงุฑ ุฏุฑ ฺฉ bucket ุจุงุดูุฏุ ุฌุณุชุฌู ุฎุท ุฏุฑ ุขู bucket ุงูุฌุงู ูโุดูุฏ.</li>
<li>ฺฉูุฏูุง ุจุงุฏ ูุงุจูุช ูุญุงุณุจู hash ู ุจุฑุฑุณ ุจุฑุงุจุฑ ุฑุง ุฏุงุดุชู ุจุงุดูุฏ.</li>
</ul>
<h4>ูุซุงู ุงุณุชูุงุฏู ุงุฒ Dictionary&lt;TKey,TValue&gt;</h4>
<pre class="hljs"><code><span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">int</span>&gt;();
d.Add(<span class="hljs-string">&quot;One&quot;</span>, <span class="hljs-number">1</span>);
d[<span class="hljs-string">&quot;Two&quot;</span>] = <span class="hljs-number">2</span>;     <span class="hljs-comment">// ุงุถุงูู ฺฉุฑุฏู</span>
d[<span class="hljs-string">&quot;Two&quot;</span>] = <span class="hljs-number">22</span>;    <span class="hljs-comment">// ุจุฑูุฒุฑุณุงู</span>
Console.WriteLine(d[<span class="hljs-string">&quot;Two&quot;</span>]);               <span class="hljs-comment">// 22</span>
Console.WriteLine(d.ContainsKey(<span class="hljs-string">&quot;One&quot;</span>));   <span class="hljs-comment">// true</span>
<span class="hljs-built_in">int</span> val = <span class="hljs-number">0</span>;
<span class="hljs-keyword">if</span> (!d.TryGetValue(<span class="hljs-string">&quot;onE&quot;</span>, <span class="hljs-keyword">out</span> val))
    Console.WriteLine(<span class="hljs-string">&quot;No val&quot;</span>);           <span class="hljs-comment">// &quot;No val&quot;</span>
</code></pre>
<ul>
<li>ฺฉูุฏูุง <strong>ุชฺฉุฑุงุฑ ููโุชูุงููุฏ ุจุงุดูุฏ</strong>.</li>
<li>ุนูุงุตุฑ ูุฑุชุจ ุง ุจู ุชุฑุชุจ ุงุถุงูู ุดุฏู <strong>ุฐุฎุฑู ููโุดููุฏ</strong>.</li>
</ul>
<hr>
<h3>ต. ูฺฉุงุช ุนููฺฉุฑุฏ</h3>
<ul>
<li>ุงุณุชูุงุฏู ุงุฒ <strong>StringComparer.OrdinalIgnoreCase</strong> ุจุฑุง ฺฉูุฏูุง ุฑุดุชูโุง ูโุชูุงูุฏ ุจุฑุงุจุฑ ุจุฏูู ุญุณุงุณุช ุจู ุญุฑูู ุงุฌุงุฏ ฺฉูุฏ.</li>
<li>ูุดุฎุต ฺฉุฑุฏู ุธุฑูุช ุงููู ุฏฺฉุดูุฑ ูโุชูุงูุฏ ุงุฒ resize ุฏุงุฎู ุฌููฺฏุฑ ฺฉูุฏ ู ุนููฺฉุฑุฏ ุฑุง ุจูุชุฑ ฺฉูุฏ.</li>
</ul>
<h3>๐๏ธ OrderedDictionary</h3>
<p>ฺฉ <strong>OrderedDictionary</strong> ฺฉ ุฏฺฉุดูุฑ ุบุฑุฌูุฑฺฉ ุงุณุช ฺฉู ุนูุงุตุฑ ุฑุง ุฏุฑ ููุงู ุชุฑุชุจ ฺฉู ุงุถุงูู ุดุฏูโุงูุฏ ูฺฏู ูโุฏุงุฑุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>OrderedDictionary</strong> ูโุชูุงูุฏ ุจู ุนูุงุตุฑ ูู ุงุฒ ุทุฑู <strong>ุงูุฏุณ (index)</strong> ู ูู ุงุฒ ุทุฑู <strong>ฺฉูุฏ (key)</strong> ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ.<br>
ฺฉ <strong>OrderedDictionary</strong>ุ ุฏฺฉุดูุฑ ูุฑุชุจ (sorted) ูุณุช.<br>
ฺฉ <strong>OrderedDictionary</strong> ุชุฑฺฉุจ ุงุฒ <strong>Hashtable</strong> ู <strong>ArrayList</strong> ุงุณุช. ุงู ุนู ุชูุงู ูุงุจูุชโูุง <strong>Hashtable</strong> ุฑุง ุฏุงุฑุฏุ ุจู ุนูุงูู ุชูุงุจุน ูุงููุฏ <strong>RemoveAt</strong> ู ฺฉ ุงูุฏุณุฑ ุนุฏุฏ. ููฺูู ูฺฺฏโูุง <strong>Keys</strong> ู <strong>Values</strong> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุนูุงุตุฑ ุฑุง ุฏุฑ ุชุฑุชุจ ุงุตูโุดุงู ุจุงุฒ ูโฺฏุฑุฏุงููุฏ.<br>
ุงู ฺฉูุงุณ ุฏุฑ <strong>.NET 2.0</strong> ูุนุฑู ุดุฏุ ุงูุง ุจูโุทูุฑ ุนุฌุจุ ูุณุฎู ุฌูุฑฺฉ ูุฏุงุฑุฏ.</p>
<hr>
<h3>๐ ListDictionary ู HybridDictionary</h3>
<p><strong>ListDictionary</strong> ุงุฒ ฺฉ <strong>ูุณุช ูพููุฏ ุชฺฉโุฌูุชู (singly linked list)</strong> ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ุฏฺฉุดูุฑ <strong>ูุฑุชุจโุณุงุฒ</strong> ุงูุฌุงู ููโุฏูุฏุ ุงูุง ุชุฑุชุจ ูุฑูุฏ ุงุตู ุนูุงุตุฑ ุฑุง ุญูุธ ูโฺฉูุฏ.<br>
<strong>ListDictionary</strong> ุจุง ูุณุชโูุง ุจุฒุฑฺฏ ุจุณุงุฑ ฺฉูุฏ ุงุณุช ู ุชููุง ูุฒุช ูุงูุน ุขูุ ฺฉุงุฑุง ุจุงูุง ุจุง ูุณุชโูุง ุจุณุงุฑ ฺฉูฺฺฉ (ฺฉูุชุฑ ุงุฒ ฑฐ ุนูุตุฑ) ุงุณุช.</p>
<p><strong>HybridDictionary</strong> ฺฉ <strong>ListDictionary</strong> ุงุณุช ฺฉู ููฺฏุงู ุฑุณุฏู ุจู ุงูุฏุงุฒู ุฎุงุต ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู <strong>Hashtable</strong> ุชุจุฏู ูโุดูุฏ ุชุง ูุดฺฉูุงุช ุนููฺฉุฑุฏ <strong>ListDictionary</strong> ุฑูุน ุดูุฏ. ุงุฏู ุงู ุงุณุช ฺฉู ููุช ุฏฺฉุดูุฑ ฺฉูฺฺฉ ุงุณุชุ ูุตุฑู ุญุงูุธู ฺฉู ุจุงุดุฏ ู ููุช ุฏฺฉุดูุฑ ุจุฒุฑฺฏ ุงุณุชุ ุนููฺฉุฑุฏ ููุงุณุจ ุฏุงุดุชู ุจุงุดุฏ. ุจุง ุงู ุญุงูุ ุจุง ุชูุฌู ุจู ุณุฑุจุงุฑ ุชุจุฏู ุจู ุฏู ุญุงูุชโู ุงู ูุงูุนุช ฺฉู <strong>Dictionary</strong> ุฏุฑ ูุฑ ุฏู ุญุงูุช ุณูฺฏู ุง ฺฉูุฏ ูุณุชโุงุณุชูุงุฏู ุงุฒ <strong>Dictionary</strong> ุงุฒ ุงุจุชุฏุง ูู ุงูุชุฎุงุจ ูุนููู ุงุณุช.<br>
ูุฑ ุฏู ฺฉูุงุณ ููุท ุฏุฑ ูุณุฎู ุบุฑุฌูุฑฺฉ ุงุฑุงุฆู ูโุดููุฏ.</p>
<hr>
<h3>๐ Sorted Dictionaries</h3>
<p><strong>BCL</strong> ุฏุงุชโูุช ุฏู ฺฉูุงุณ ุฏฺฉุดูุฑ ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุจู ุตูุฑุช ุฏุงุฎู ููุดู ุจุฑ ุงุณุงุณ <strong>ฺฉูุฏ</strong> ูุฑุชุจ ูุณุชูุฏ:</p>
<ul>
<li><strong>SortedDictionary&lt;TKey,TValue&gt;</strong></li>
<li><strong>SortedList&lt;TKey,TValue&gt;</strong></li>
</ul>
<p>(ุฏุฑ ุงู ุจุฎุดุ <code>&lt;TKey,TValue&gt;</code> ุฑุง ุจู <code>&lt;,&gt;</code> ุฎูุงุตู ูโฺฉูู.)</p>
<p><strong>SortedDictionary&lt;,&gt;</strong> ุงุฒ <strong>ุฏุฑุฎุช ูุฑูุฒ/ุณุงู (red/black tree)</strong> ุงุณุชูุงุฏู ูโฺฉูุฏ: ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุทุฑุงุญโุดุฏู ุจุฑุง ุนููฺฉุฑุฏ ูพุงุฏุงุฑ ุฏุฑ ูุฑ ุณูุงุฑู ุฏุฑุฌ ุง ุจุงุฒุงุจ.<br>
<strong>SortedList&lt;,&gt;</strong> ุจู ุตูุฑุช ุฏุงุฎู ุจุง ฺฉ ุฌูุช ุขุฑุงู ูุฑุชุจ ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ู ุฏุณุชุฑุณ ุณุฑุน (ุจุง ุฌุณุชุฌู ุฏูุฏู) ุงุฑุงุฆู ูโุฏูุฏุ ุงูุง ุนููฺฉุฑุฏ ุฏุฑุฌ ุถุนู ุฏุงุฑุฏ (ฺูู ููุงุฏุฑ ููุฌูุฏ ุจุงุฏ ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุนูุตุฑ ุฌุฏุฏ ุฌุงุจูโุฌุง ุดููุฏ).</p>
<p><strong>SortedDictionary&lt;,&gt;</strong> ุจุณุงุฑ ุณุฑุนโุชุฑ ุงุฒ <strong>SortedList&lt;,&gt;</strong> ุฏุฑ ุฏุฑุฌ ุนูุงุตุฑ ุจู ุตูุฑุช ุชุตุงุฏู ุงุณุช (ุฎุตูุตุงู ุจุง ูุณุชโูุง ุจุฒุฑฺฏ). ุจุง ุงู ุญุงูุ <strong>SortedList&lt;,&gt;</strong> ูุงุจูุช ุงุถุงูู ุฏุงุฑุฏ: ุฏุณุชุฑุณ ุจู ุนูุงุตุฑ ูู ุงุฒ ุทุฑู <strong>ุงูุฏุณ</strong> ู ูู ุงุฒ ุทุฑู <strong>ฺฉูุฏ</strong>. ุจุง ฺฉ <strong>SortedList</strong> ูโุชูุงูุฏ ูุณุชููุงู ุจู ุนูุตุฑ nุงู ุฏุฑ ุชุฑุชุจ ูุฑุชุจโุณุงุฒ ุจุฑูุฏ (ุงุฒ ุทุฑู ุงูุฏุณ ุฏุฑ ูฺฺฏโูุง <strong>Keys/Values</strong>). ุจุฑุง ุงูุฌุงู ููู ฺฉุงุฑ ุจุง <strong>SortedDictionary&lt;,&gt;</strong>ุ ุจุงุฏ ุจู ุตูุฑุช ุฏุณุช ุฑู n ุนูุตุฑ ุดูุงุฑุด ฺฉูุฏ. (ุง ูโุชูุงูุฏ ฺฉ ฺฉูุงุณ ุจููุณุฏ ฺฉู <strong>SortedDictionary</strong> ุฑุง ุจุง ฺฉ ฺฉูุงุณ ูุณุช ุชุฑฺฉุจ ฺฉูุฏ.)</p>
<p>ูฺโฺฉ ุงุฒ ุงู ุณู ูุฌููุนู ุงุฌุงุฒู ฺฉูุฏูุง ุชฺฉุฑุงุฑ ุฑุง ููโุฏููุฏ (ููุงููุฏ ููู ุฏฺฉุดูุฑโูุง).</p>
<p>ููฺูู ฺฉ ูุณุฎู ุบุฑุฌูุฑฺฉ ูุดุงุจู ุจุง ุนููฺฉุฑุฏ ฺฉุณุงู ุจู ูุงู <strong>SortedList</strong> ูุฌูุฏ ุฏุงุฑุฏ.</p>
<hr>
<h3>๐ ูุซุงู ุงุณุชูุงุฏู ุงุฒ SortedList</h3>
<p>ูุซุงู ุฒุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>reflection</strong>ุ ุชูุงู ูุชุฏูุง ุชุนุฑูโุดุฏู ุฏุฑ <code>System.Object</code> ุฑุง ุฏุฑ ฺฉ <strong>SortedList</strong> ุจุง ฺฉูุฏ ูุงู ูุชุฏ ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ ู ุณูพุณ ฺฉูุฏูุง ู ููุงุฏุฑ ุขูโูุง ุฑุง ุดูุงุฑุด ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-comment">// MethodInfo ุฏุฑ ูุถุง ูุงู System.Reflection ุงุณุช</span>
<span class="hljs-keyword">var</span> sorted = <span class="hljs-keyword">new</span> SortedList&lt;<span class="hljs-built_in">string</span>, MethodInfo&gt;();
<span class="hljs-keyword">foreach</span> (<span class="hljs-function">MethodInfo m <span class="hljs-keyword">in</span> <span class="hljs-title">typeof</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>).<span class="hljs-title">GetMethods</span>())
    sorted[m.Name]</span> = m;

<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">string</span> name <span class="hljs-keyword">in</span> sorted.Keys)
    Console.WriteLine(name);

<span class="hljs-keyword">foreach</span> (MethodInfo m <span class="hljs-keyword">in</span> sorted.Values)
    Console.WriteLine(m.Name + <span class="hljs-string">&quot; returns a &quot;</span> + m.ReturnType);
</code></pre>
<p>ูุชุฌู ุดูุงุฑุด ุงูู:</p>
<pre class="hljs"><code>Equals
GetHashCode
GetType
ReferenceEquals
ToString
</code></pre>
<p>ูุชุฌู ุดูุงุฑุด ุฏูู:</p>
<pre class="hljs"><code>Equals returns a System.Boolean
GetHashCode returns a System.Int32
GetType returns a System.Type
ReferenceEquals returns a System.Boolean
ToString returns a System.String
</code></pre>
<p>ุชูุฌู ฺฉูุฏ ฺฉู ุฏฺฉุดูุฑ ุงุฒ ุทุฑู <strong>ุงูุฏุณุฑ (indexer)</strong> ูพุฑ ุดุฏ. ุงฺฏุฑ ุจู ุฌุง ุขู ุงุฒ ูุชุฏ <strong>Add</strong> ุงุณุชูุงุฏู ูโฺฉุฑุฏูุ ุฎุทุง ุฑุฎ ูโุฏุงุฏ ฺูู ฺฉูุงุณ <code>object</code> ูุชุฏ <strong>Equals</strong> ุฑุง overload ฺฉุฑุฏู ู ููโุชูุงู ููุงู ฺฉูุฏ ุฑุง ุฏูุจุงุฑ ุงุถุงูู ฺฉุฑุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏุณุฑุ ูุฑูุฏ ุจุนุฏ ุฌุงฺฏุฒู ูุฑูุฏ ูุจู ูโุดูุฏ ู ุงู ุฎุทุง ุฌููฺฏุฑ ูโุดูุฏ.</p>
<p>ููฺูู ูโุชูุงูุฏ ฺูุฏู ุนุถู ุจุง ฺฉ ฺฉูุฏ ุฑุง ุจุง ุชุจุฏู ูุฑ ููุฏุงุฑ ุจู ฺฉ <strong>ูุณุช</strong> ุฐุฎุฑู ฺฉูุฏ:</p>
<pre class="hljs"><code>SortedList&lt;<span class="hljs-built_in">string</span>, List&lt;MethodInfo&gt;&gt;
</code></pre>
<p>ุฏุฑ ุงุฏุงูู ูุซุงูุ ุจุงุฒุงุจ <code>MethodInfo</code> ุจุง ฺฉูุฏ <code>&quot;GetHashCode&quot;</code> ููุงููุฏ ฺฉ ุฏฺฉุดูุฑ ูุนููู ุงูุฌุงู ูโุดูุฏ:</p>
<pre class="hljs"><code>Console.WriteLine(sorted[<span class="hljs-string">&quot;GetHashCode&quot;</span>]);  <span class="hljs-comment">// Int32 GetHashCode()</span>
</code></pre>
<p>ููู ฺฉุงุฑูุง ฺฉู ุชุงฺฉููู ุงูุฌุงู ุฏุงุฏูโุงูุ ุจุง <strong>SortedDictionary&lt;,&gt;</strong> ูุฒ ูุงุจู ุงุฌุฑุง ุงุณุช. ุงูุง ุฏู ุฎุท ุฒุฑุ ฺฉู ุขุฎุฑู ฺฉูุฏ ู ููุฏุงุฑ ุฑุง ุจุงุฒุงุจ ูโฺฉููุฏุ ููุท ุจุง <strong>SortedList</strong> ฺฉุงุฑ ูโฺฉููุฏ:</p>
<pre class="hljs"><code>Console.WriteLine(sorted.Keys[sorted.Count - <span class="hljs-number">1</span>]);           <span class="hljs-comment">// ToString</span>
Console.WriteLine(sorted.Values[sorted.Count - <span class="hljs-number">1</span>].IsVirtual); <span class="hljs-comment">// True</span>
</code></pre>
<h3>๐๏ธ Collections ูุงุจู ุณูุงุฑุดโุณุงุฒ ู ูพุฑุงฺฉุณโูุง</h3>
<p>ฺฉูุงุณโูุง ูุฌููุนูโุง ฺฉู ุฏุฑ ุจุฎุดโูุง ูุจู ุจุฑุฑุณ ุดุฏุ ุฑุงุญุช ูุณุชูุฏ ฺูู ูโุชูุงูุฏ ูุณุชููุงู ูููููโุณุงุฒ (instantiate) ฺฉูุฏุ ุงูุง <strong>ุงูฺฉุงู ฺฉูุชุฑู ุฑูุชุงุฑ ููฺฏุงู ุงูุฒูุฏู ุง ุญุฐู ฺฉ ุขุชู</strong> ุฑุง ุจู ุดูุง ููโุฏููุฏ. ุฏุฑ ุจุฑูุงููโูุง ุจุง ูุฌููุนูโูุง ููโุชุงูพ (strongly typed)ุ ฺฏุงู ุจู ุงู ฺฉูุชุฑู ูุงุฒ ุฏุงุฑุฏุ ุจุฑุง ูุซุงู:</p>
<ul>
<li>๐น ุงุฌุฑุง ฺฉ <strong>ุฑูุฏุงุฏ (event)</strong> ููฺฏุงู ุงูุฒูุฏู ุง ุญุฐู ุขุชู</li>
<li>๐น ุจูโุฑูุฒุฑุณุงู <strong>ูฺฺฏโูุง (properties)</strong> ุจู ุฎุงุทุฑ ุขุชู ุงุถุงูู ุง ุญุฐูโุดุฏู</li>
<li>๐น ุชุดุฎุต ฺฉ <strong>ุนููุงุช ุบุฑูุฌุงุฒ ุงูุฒูุฏู/ุญุฐู</strong> ู ูพุฑุชุงุจ ุงุณุชุซูุง (exception) (ูุซูุงู ุงฺฏุฑ ุนููุงุช ููุงูู ุชุฌุงุฑ ุฑุง ููุถ ฺฉูุฏ)</li>
</ul>
<p><strong>.NET BCL</strong> ฺฉูุงุณโูุง ุจุฑุง ุงู ููุธูุฑ ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ุฏุฑ ูุถุง ูุงู <code>System.Collections.ObjectModel</code> ูุฑุงุฑ ุฏุงุฑูุฏ. ุงูโูุง ุฏุฑ ุงุตู <strong>ูพุฑุงฺฉุณโูุง ุง wrapperูุง</strong> ูุณุชูุฏ ฺฉู <code>IList&lt;T&gt;</code> ุง <code>IDictionary&lt;,&gt;</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ู ูุชุฏูุง ุฑุง ุจู ฺฉ ูุฌููุนู ุฒุฑู ูุฏุงุช ูโฺฉููุฏ. ูุฑ ุนููุงุช <strong>Add</strong>ุ <strong>Remove</strong> ุง <strong>Clear</strong> ุงุฒ ุทุฑู ฺฉ ูุชุฏ ูุฌุงุฒ (virtual) ูุฏุงุช ูโุดูุฏ ฺฉู ููฺฏุงู override ุดุฏู ุจู ุนููุงู ฺฉ โุฏุฑฺฏุงูโ ุนูู ูโฺฉูุฏ.</p>
<p>ฺฉูุงุณโูุง ูุฌููุนู ูุงุจู ุณูุงุฑุดโุณุงุฒ ูุนูููุงู ุจุฑุง <strong>ูุฌููุนูโูุง ุนููู (publicly exposed)</strong> ุงุณุชูุงุฏู ูโุดููุฏุ ูุซูุงู ฺฉ ูุฌููุนู ุงุฒ ฺฉูุชุฑูโูุง ฺฉู ุจู ุตูุฑุช ุนููู ุฏุฑ ฺฉ ฺฉูุงุณ <code>System.Windows.Form</code> ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.</p>
<hr>
<h3>๐ฆ Collection<T> ู CollectionBase</h3>
<p>ฺฉูุงุณ <strong>Collection<T></strong> ฺฉ <strong>wrapper ูุงุจู ุณูุงุฑุดโุณุงุฒ</strong> ุจุฑุง <code>List&lt;T&gt;</code> ุงุณุช.<br>
ุนูุงูู ุจุฑ ูพุงุฏูโุณุงุฒ <code>IList&lt;T&gt;</code> ู <code>IList</code>ุ ฺูุงุฑ ูุชุฏ ูุฌุงุฒ ู ฺฉ ูฺฺฏ ูุญุงูุธุชโุดุฏู (protected) ุงุถุงูู ุงุฑุงุฆู ูโุฏูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Collection</span>&lt;<span class="hljs-title">T</span>&gt; :
    <span class="hljs-title">IList</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">ICollection</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">IList</span>, <span class="hljs-title">ICollection</span>, <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ClearItems</span>()</span>;
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, T item</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, T item</span>)</span>;
    <span class="hljs-keyword">protected</span> IList&lt;T&gt; Items { <span class="hljs-keyword">get</span>; }
}
</code></pre>
<p>ูุชุฏูุง ูุฌุงุฒุ <strong>ุฏุฑฺฏุงู</strong> ุจุฑุง โhook inโ ฺฉุฑุฏู ุดูุง ูุฑุงูู ูโฺฉููุฏ ุชุง ุฑูุชุงุฑ ูพุดโูุฑุถ ูุณุช ุฑุง ุชุบุฑ ุง ุชููุช ฺฉูุฏ. ูฺฺฏ ูุญุงูุธุชโุดุฏู <strong>Items</strong> ุจู ูพุงุฏูโุณุงุฒ ุงุฌุงุฒู ูโุฏูุฏ ุจู <strong>ูุณุช ุฏุงุฎู (inner list)</strong> ุฏุณุชุฑุณ ูุณุชูู ุฏุงุดุชู ุจุงุดุฏ ู ุจุฏูู ูุนุงู ุดุฏู ูุชุฏูุง ูุฌุงุฒุ ุชุบุฑุงุช ุฏุงุฎู ุงุฌุงุฏ ฺฉูุฏ.</p>
<p>ูุงุฒู ูุณุช ูุชุฏูุง ูุฌุงุฒ override ุดููุฏุ ูโุชูุงู ุชุง ุฒูุงู ฺฉู ูุงุฒ ุจู ุชุบุฑ ุฑูุชุงุฑ ูพุดโูุฑุถ ูุณุช ูุฌูุฏ ุฏุงุฑุฏุ ุขูโูุง ุฑุง ุฏุณุชโูุฎูุฑุฏู ฺฏุฐุงุดุช. ูุซุงู ุฒุฑ ุงุณุชูุงุฏู ูุนููู <strong>Collection<T></strong> ุฑุง ูุดุงู ูโุฏูุฏ:</p>
<pre class="hljs"><code>Zoo zoo = <span class="hljs-keyword">new</span> Zoo();
zoo.Animals.Add(<span class="hljs-keyword">new</span> Animal(<span class="hljs-string">&quot;Kangaroo&quot;</span>, <span class="hljs-number">10</span>));
zoo.Animals.Add(<span class="hljs-keyword">new</span> Animal(<span class="hljs-string">&quot;Mr Sea Lion&quot;</span>, <span class="hljs-number">20</span>));
<span class="hljs-keyword">foreach</span> (Animal a <span class="hljs-keyword">in</span> zoo.Animals) Console.WriteLine(a.Name);

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Popularity;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">int</span> popularity</span>)</span>
    {
        Name = name; Popularity = popularity;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AnimalCollection</span> : <span class="hljs-title">Collection</span>&lt;<span class="hljs-title">Animal</span>&gt;
{
    <span class="hljs-comment">// AnimalCollection ูู ุงฺฉููู ฺฉ ูุณุช ฺฉุงูู ุงุฒ ุญูุงูุงุช ุงุณุช.</span>
    <span class="hljs-comment">// ูุงุฒ ุจู ฺฉุฏ ุงุถุงู ูุณุช.</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Zoo</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> AnimalCollection Animals = <span class="hljs-keyword">new</span> AnimalCollection();
}
</code></pre>
<p>ููุงูุทูุฑ ฺฉู ูโุจููุ <strong>AnimalCollection</strong> ุงุฒ ูุธุฑ ุนููฺฉุฑุฏ ุชูุงูุช ุจุง ฺฉ <code>List&lt;Animal&gt;</code> ุณุงุฏู ูุฏุงุฑุฏุ ููุด ุขู ูุฑุงูู ฺฉุฑุฏู ูพุงูโุง ุจุฑุง <strong>ฺฏุณุชุฑุด ุขูุฏู</strong> ุงุณุช.</p>
<hr>
<h3>๐ ุงูุฒูุฏู ูฺฺฏ Zoo ุจู ุญูุงูุงุช ู override ูุชุฏูุง ูุฌุงุฒ</h3>
<p>ุงฺฉููู ูโุฎูุงูู ุจู ฺฉูุงุณ <code>Animal</code> ูฺฺฏ <code>Zoo</code> ุงุถุงูู ฺฉูู ุชุง ูุฑุฌุน ุจู ุจุงุบโูุญุด ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ ู ููู ูุชุฏูุง ูุฌุงุฒ <code>Collection&lt;Animal&gt;</code> ุฑุง override ฺฉูู ุชุง ุงู ูฺฺฏ ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ูุฏุฑุช ุดูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Popularity;
    <span class="hljs-keyword">public</span> Zoo Zoo { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">internal</span> <span class="hljs-keyword">set</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">int</span> popularity</span>)</span>
    {
        Name = name; Popularity = popularity;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AnimalCollection</span> : <span class="hljs-title">Collection</span>&lt;<span class="hljs-title">Animal</span>&gt;
{
    Zoo zoo;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AnimalCollection</span>(<span class="hljs-params">Zoo zoo</span>)</span> { <span class="hljs-keyword">this</span>.zoo = zoo; }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, Animal item</span>)</span>
    {
        <span class="hljs-keyword">base</span>.InsertItem(index, item);
        item.Zoo = zoo;
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, Animal item</span>)</span>
    {
        <span class="hljs-keyword">base</span>.SetItem(index, item);
        item.Zoo = zoo;
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index</span>)</span>
    {
        <span class="hljs-keyword">this</span>[index].Zoo = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">base</span>.RemoveItem(index);
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ClearItems</span>()</span>
    {
        <span class="hljs-keyword">foreach</span> (Animal a <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) a.Zoo = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">base</span>.ClearItems();
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Zoo</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> AnimalCollection Animals;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Zoo</span>()</span> { Animals = <span class="hljs-keyword">new</span> AnimalCollection(<span class="hljs-keyword">this</span>); }
}
</code></pre>
<p><strong>ูฺฉุชู ููู:</strong> <code>Collection&lt;T&gt;</code> ููฺูู ฺฉ ุณุงุฒูุฏู ูโูพุฐุฑุฏ ฺฉู ฺฉ <code>IList&lt;T&gt;</code> ููุฌูุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ. ุจุฑุฎูุงู ุณุงุฑ ฺฉูุงุณโูุง ูุฌููุนูุ ูุณุช ุงุฑุงุฆูโุดุฏู <strong>proxied</strong> ูโุดูุฏ ูู ฺฉูพุ ุจูุงุจุฑุงู ุชุบุฑุงุช ุจุนุฏ ุฏุฑ ูุณุช ุงุตูุ ุฏุฑ <code>Collection&lt;T&gt;</code> ูุฒ ููุนฺฉุณ ูโุดูุฏ (ูุฑฺูุฏ ูุชุฏูุง ูุฌุงุฒ ุขู ูุนุงู ููโุดููุฏ). ุจู ููู ุชุฑุชุจุ ุชุบุฑุงุช ุงุนูุงูโุดุฏู ุงุฒ ุทุฑู <code>Collection&lt;T&gt;</code>ุ ูุณุช ุฒุฑู ุฑุง ุชุบุฑ ูโุฏูุฏ.</p>
<hr>
<h3>โ๏ธ CollectionBase</h3>
<p><strong>CollectionBase</strong> ูุณุฎู ุบุฑุฌูุฑฺฉ <code>Collection&lt;T&gt;</code> ุงุณุช. ุงู ฺฉูุงุณ ุจุดุชุฑ ูุงุจูุชโูุง ูุดุงุจู <code>Collection&lt;T&gt;</code> ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ุงูุง ุงุณุชูุงุฏู ุงุฒ ุขู <strong>ุฏุณุชโููพุงฺฏุฑุชุฑ</strong> ุงุณุช.<br>
ุจู ุฌุง ูุชุฏูุง ูุงูุจ <strong>InsertItem</strong>ุ <strong>RemoveItem</strong>ุ <strong>SetItem</strong> ู <strong>ClearItems</strong>ุ <strong>CollectionBase</strong> ุฏุงุฑุง ูุชุฏูุง โhookโ ุงุณุช ฺฉู ุชุนุฏุงุฏ ูุชุฏูุง ุฑุง ุฏู ุจุฑุงุจุฑ ูโฺฉูุฏ:</p>
<ul>
<li><code>OnInsert</code>, <code>OnInsertComplete</code></li>
<li><code>OnSet</code>, <code>OnSetComplete</code></li>
<li><code>OnRemove</code>, <code>OnRemoveComplete</code></li>
<li><code>OnClear</code>, <code>OnClearComplete</code></li>
</ul>
<p>ฺูู <strong>CollectionBase</strong> ุบุฑุฌูุฑฺฉ ุงุณุชุ ููฺฏุงู subclass ฺฉุฑุฏู ุจุงุฏ ูุชุฏูุง ุชุงูพโุดุฏู ูุฒ ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ุญุฏุงูู ฺฉ <strong>ุงูุฏุณุฑ ุชุงูพโุดุฏู (typed indexer)</strong> ู ูุชุฏ <strong>Add</strong>.</p>
<h3>๐๏ธ KeyedCollection&lt;TKey,TItem&gt; ู DictionaryBase</h3>
<p>ฺฉูุงุณ <strong>KeyedCollection&lt;TKey,TItem&gt;</strong> ุงุฒ <code>Collection&lt;TItem&gt;</code> ูุดุชู ุดุฏู ู ูู <strong>ูฺฺฏโูุง ุงุถุงูู ูโฺฉูุฏ</strong> ู ูู <strong>ูฺฺฏโูุง ุฑุง ุญุฐู ูโฺฉูุฏ</strong>.</p>
<ul>
<li>ุขูฺู ุงุถุงูู ูโฺฉูุฏ: <strong>ุงูฺฉุงู ุฏุณุชุฑุณ ุจู ุขุชูโูุง ุงุฒ ุทุฑู ฺฉูุฏ (key)</strong>ุ ุฏุฑุณุช ูุงููุฏ ฺฉ ุฏฺฉุดูุฑ.</li>
<li>ุขูฺู ุญุฐู ูโฺฉูุฏ: <strong>ุงูฺฉุงู proxy ฺฉุฑุฏู ูุณุช ุฏุงุฎู ุฎูุฏ</strong>.</li>
</ul>
<p>ฺฉ ูุฌููุนู keyed ุดุจุงูุชโูุง ุจู <code>OrderedDictionary</code> ุฏุงุฑุฏุ ุฒุฑุง <strong>ูุณุช ุฎุท ุฑุง ุจุง ฺฉ Hashtable ุชุฑฺฉุจ ูโฺฉูุฏ</strong>. ุจุง ุงู ุญุงูุ ุจุฑุฎูุงู <code>OrderedDictionary</code>ุ <strong>IDictionary ุฑุง ูพุงุฏูโุณุงุฒ ููโฺฉูุฏ</strong> ู ููููู ฺฉูุฏ/ููุฏุงุฑ (key/value) ุฑุง ูพุดุชุจุงู ููโฺฉูุฏ. <strong>ฺฉูุฏูุง ุงุฒ ุฎูุฏ ุขุชูโูุง ฺฏุฑูุชู ูโุดููุฏ</strong>ุ ุงุฒ ุทุฑู ูุชุฏ ุงูุชุฒุงุน <code>GetKeyForItem</code>. ุงู ุนู <strong>enumeration</strong> ฺฉ ูุฌููุนู keyed ุฏููุงู ูุงููุฏ enumeration ฺฉ ูุณุช ูุนููู ุงุณุช.</p>
<p>ูโุชูุงูุฏ <strong>KeyedCollection&lt;TKey,TItem&gt;</strong> ุฑุง ุจูโุนููุงู <code>Collection&lt;TItem&gt;</code> ุจู ุงุถุงูู <strong>ุฌุณุชุฌู ุณุฑุน ุจุฑ ุงุณุงุณ ฺฉูุฏ</strong> ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.</p>
<p>ฺูู ุงู ฺฉูุงุณ ุงุฒ <code>Collection&lt;&gt;</code> ูุดุชู ุดุฏูุ ุชูุงู ุนููฺฉุฑุฏูุง Collection&lt;&gt; ุฑุง ุจู ุงุฑุซ ูโุจุฑุฏุ ุจู ุฌุฒ ุงูฺฉุงู ุชุนู ฺฉ ูุณุช ููุฌูุฏ ุฏุฑ ุณุงุฒูุฏู. ุงุนุถุง ุงุถุงู ฺฉู ุชุนุฑู ูโฺฉูุฏ ุจู ุตูุฑุช ุฒุฑ ูุณุชูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">KeyedCollection</span>&lt;<span class="hljs-title">TKey</span>, <span class="hljs-title">TItem</span>&gt; : <span class="hljs-title">Collection</span>&lt;<span class="hljs-title">TItem</span>&gt;
{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> TKey <span class="hljs-title">GetKeyForItem</span>(<span class="hljs-params">TItem item</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ChangeItemKey</span>(<span class="hljs-params">TItem item, TKey newKey</span>)</span>;
    <span class="hljs-comment">// ุฌุณุชุฌู ุณุฑุน ุจุฑ ุงุณุงุณ ฺฉูุฏ - ุนูุงูู ุจุฑ ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ุงูุฏุณ</span>
    <span class="hljs-keyword">public</span> TItem <span class="hljs-keyword">this</span>[TKey key] { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">protected</span> IDictionary&lt;TKey, TItem&gt; Dictionary { <span class="hljs-keyword">get</span>; }
}
</code></pre>
<ul>
<li>ูุชุฏ <code>GetKeyForItem</code> ุชูุณุท ูพุงุฏูโุณุงุฒ override ูโุดูุฏ ุชุง <strong>ฺฉูุฏ ฺฉ ุขุชู ุฑุง ุงุฒ ุดุก ุฒุฑู</strong> ุฏุฑุงูุช ฺฉูุฏ.</li>
<li>ูุชุฏ <code>ChangeItemKey</code> ุจุงุฏ <strong>ููฺฏุงู ุชุบุฑ ฺฉูุฏ ุขุชู</strong> ูุฑุงุฎูุงู ุดูุฏ ุชุง ุฏฺฉุดูุฑ ุฏุงุฎู ุจูโุฑูุฒุฑุณุงู ุดูุฏ.</li>
<li>ูฺฺฏ <code>Dictionary</code> ุฏฺฉุดูุฑ ุฏุงุฎู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุจุฑุง <strong>ูพุงุฏูโุณุงุฒ ุฌุณุชุฌู</strong> ุงุณุชูุงุฏู ูโุดูุฏ ู ููฺฏุงู ุงูุฒูุฏู ุงููู ุขุชู ุณุงุฎุชู ูโุดูุฏ. ูโุชูุงู ุฑูุชุงุฑ ุงุฌุงุฏ ุฏฺฉุดูุฑ ุฏุงุฎู ุฑุง ุจุง ุชุนู <strong>creation threshold</strong> ุฏุฑ ุณุงุฒูุฏู ุชุบุฑ ุฏุงุฏุ ุจู ุทูุฑ ฺฉู ุชุง ุฑุณุฏู ุจู ุขุณุชุงููุ ุฌุณุชุฌู ุจุง ุฎุท ุงูุฌุงู ุดูุฏ.</li>
</ul>
<p>ฺฉ ุฏูู ุฎูุจ ุจุฑุง ุชุนู ูฺฉุฑุฏู <strong>creation threshold</strong> ุงู ุงุณุช ฺฉู ุฏุงุดุชู ุฏฺฉุดูุฑ ูุนุชุจุฑ ูโุชูุงูุฏ ุฏุฑ <strong>ุฏุฑุงูุช ICollection&lt;&gt; ุงุฒ ฺฉูุฏูุง</strong> ููุฏ ุจุงุดุฏุ ุงุฒ ุทุฑู ูฺฺฏ <code>Keys</code> ุฏฺฉุดูุฑ. ุงู ูุฌููุนู ุณูพุณ ูโุชูุงูุฏ ุจู ฺฉ ูฺฺฏ ุนููู ููุชูู ุดูุฏ.</p>
<hr>
<h3>๐พ ูุซุงู: ุงุณุชูุงุฏู ุงุฒ KeyedCollection ุจุฑุง Zoo</h3>
<p>ูุชุฏุงููโุชุฑู ฺฉุงุฑุจุฑุฏ <code>KeyedCollection&lt;,&gt;</code> ูุฑุงูู ฺฉุฑุฏู <strong>ูุฌููุนูโุง ุงุฒ ุขุชูโูุง ุจุง ุฏุณุชุฑุณ ูู ุงุฒ ุทุฑู ุงูุฏุณ ู ูู ุงุฒ ุทุฑู ูุงู</strong> ุงุณุช.</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>
{
    <span class="hljs-built_in">string</span> name;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name
    {
        <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> name; }
        <span class="hljs-keyword">set</span> {
            <span class="hljs-keyword">if</span> (Zoo != <span class="hljs-literal">null</span>) Zoo.Animals.NotifyNameChange(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">value</span>);
            name = <span class="hljs-keyword">value</span>;
        }
    }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Popularity;
    <span class="hljs-keyword">public</span> Zoo Zoo { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">internal</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">int</span> popularity</span>)</span>
    {
        Name = name; Popularity = popularity;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AnimalCollection</span> : <span class="hljs-title">KeyedCollection</span>&lt;<span class="hljs-title">string</span>, <span class="hljs-title">Animal</span>&gt;
{
    Zoo zoo;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AnimalCollection</span>(<span class="hljs-params">Zoo zoo</span>)</span> { <span class="hljs-keyword">this</span>.zoo = zoo; }

    <span class="hljs-function"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NotifyNameChange</span>(<span class="hljs-params">Animal a, <span class="hljs-built_in">string</span> newName</span>)</span> =&gt;
        <span class="hljs-keyword">this</span>.ChangeItemKey(a, newName);

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetKeyForItem</span>(<span class="hljs-params">Animal item</span>)</span> =&gt; item.Name;

    <span class="hljs-comment">// ูุชุฏูุง ุฒุฑ ูุดุงุจู ูุซุงู ูุจู ูพุงุฏูโุณุงุฒ ูโุดููุฏ:</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, Animal item</span>)...
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, Animal item</span>)...
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RemoveItem</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index</span>)...
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ClearItems</span>()...
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Zoo</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> AnimalCollection Animals;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Zoo</span>()</span> { Animals = <span class="hljs-keyword">new</span> AnimalCollection(<span class="hljs-keyword">this</span>); }
}
</code></pre>
<p>ูุซุงู ุงุณุชูุงุฏู ุงุฒ ุขู:</p>
<pre class="hljs"><code>Zoo zoo = <span class="hljs-keyword">new</span> Zoo();
zoo.Animals.Add(<span class="hljs-keyword">new</span> Animal(<span class="hljs-string">&quot;Kangaroo&quot;</span>, <span class="hljs-number">10</span>));
zoo.Animals.Add(<span class="hljs-keyword">new</span> Animal(<span class="hljs-string">&quot;Mr Sea Lion&quot;</span>, <span class="hljs-number">20</span>));
Console.WriteLine(zoo.Animals[<span class="hljs-number">0</span>].Popularity);               <span class="hljs-comment">// 10</span>
Console.WriteLine(zoo.Animals[<span class="hljs-string">&quot;Mr Sea Lion&quot;</span>].Popularity);   <span class="hljs-comment">// 20</span>
zoo.Animals[<span class="hljs-string">&quot;Kangaroo&quot;</span>].Name = <span class="hljs-string">&quot;Mr Roo&quot;</span>;
Console.WriteLine(zoo.Animals[<span class="hljs-string">&quot;Mr Roo&quot;</span>].Popularity);        <span class="hljs-comment">// 10</span>
</code></pre>
<hr>
<h3>๐๏ธ DictionaryBase</h3>
<p>ูุณุฎู ุบุฑุฌูุฑฺฉ <code>KeyedCollection</code>ุ ฺฉูุงุณ <strong>DictionaryBase</strong> ุงุณุช. ุงู ฺฉูุงุณ ูุฏู <strong>ุฑูฺฉุฑุฏ ูุชูุงูุช</strong> ุฏุงุฑุฏ:</p>
<ul>
<li><code>IDictionary</code> ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ</li>
<li>ุงุฒ ูุชุฏูุง hook ุฏุณุชโููพุงฺฏุฑ ูุงููุฏ CollectionBase ุงุณุชูุงุฏู ูโฺฉูุฏ:<br>
<code>OnInsert</code>, <code>OnInsertComplete</code>, <code>OnSet</code>, <code>OnSetComplete</code>, <code>OnRemove</code>, <code>OnRemoveComplete</code>, <code>OnClear</code>, <code>OnClearComplete</code> ู ููฺูู <code>OnGet</code>.</li>
</ul>
<p>ูุฒุช ุงุตู ูพุงุฏูโุณุงุฒ IDictionary ูุณุจุช ุจู KeyedCollection ุงู ุงุณุช ฺฉู <strong>ูุงุฒ ุจู subclass ฺฉุฑุฏู ุจุฑุง ุฏุณุชุฑุณ ุจู ฺฉูุฏูุง ูุณุช</strong>. ุงูุง ฺูู ูุฏู DictionaryBase ุฏุฑ ุงุตู subclass ุดุฏู ุงุณุชุ ุงู ูุฒุช ฺูุฏุงู ฺฉุงุฑุจุฑุฏ ูุฏุงุฑุฏ.</p>
<p>ูุฏู ุจูุจูุฏ ุงูุชู ุฏุฑ <strong>KeyedCollection</strong> ุงุญุชูุงูุงู ุจู ุงู ุฏูู ุงุณุช ฺฉู ฺูุฏ ุณุงู ุจุนุฏ ููุดุชู ุดุฏู ู ุงุฒ ุชุฌุฑุจุงุช ฺฏุฐุดุชู ุจูุฑูโููุฏ ุจูุฏู ุงุณุช.<br>
<strong>DictionaryBase</strong> ุจุดุชุฑ ุจุฑุง <strong>ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎูโูุง ูุฏู (backward compatibility)</strong> ููุฏ ุงุณุช.</p>
<h3>๐ ReadOnlyCollection<T></h3>
<p>ฺฉูุงุณ <strong>ReadOnlyCollection<T></strong> ฺฉ <strong>wrapper</strong> ุง <strong>proxy</strong> ุงุณุช ฺฉู ฺฉ <strong>ููุง ููุท-ุฎูุงูุฏู</strong> ุงุฒ ฺฉ ูุฌููุนู ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงู ูฺฺฏ ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ฺฉ ฺฉูุงุณ <strong>ุฏุณุชุฑุณ ุนููู ููุท-ุฎูุงูุฏู</strong> ุจู ฺฉ ูุฌููุนู ุฑุง ุงุฑุงุฆู ุฏูุฏุ ุฏุฑ ุญุงู ฺฉู ุฎูุฏ ฺฉูุงุณ ูููุฒ ูโุชูุงูุฏ ูุฌููุนู ุฑุง ุจูโุตูุฑุช ุฏุงุฎู ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ.</p>
<p>ฺฉ ูุฌููุนู ููุท-ุฎูุงูุฏูุ <strong>ูุฌููุนู ูุฑูุฏ ุฑุง ุฏุฑ ุณุงุฒูุฏู ุฎูุฏ ุฏุฑุงูุช ูโฺฉูุฏ</strong> ู ฺฉ <strong>ุงุฑุฌุงุน ุฏุงุฆู</strong> ุจู ุขู ูฺฏู ูโุฏุงุฑุฏ. ุงู ฺฉูุงุณ <strong>ูุณุฎูโุง ุงุณุชุง ุงุฒ ูุฌููุนู ูุฑูุฏ ููโุณุงุฒุฏ</strong>ุ ุจูุงุจุฑุงู ุชุบุฑุงุช ุจุนุฏ ุฏุฑ ูุฌููุนู ูุฑูุฏ ุงุฒ ุทุฑู wrapper ููุท-ุฎูุงูุฏู ูุงุจู ูุดุงูุฏู ุงุณุช.</p>
<p>ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ฺฉูุงุณ ุดูุง ูโุฎูุงูุฏ <strong>ุฏุณุชุฑุณ ุนููู ููุท-ุฎูุงูุฏู</strong> ุจู ูุณุช ุงุฒ ุฑุดุชูโูุง ุจู ูุงู <code>Names</code> ูุฑุงูู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>
{
    List&lt;<span class="hljs-built_in">string</span>&gt; names = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
    <span class="hljs-keyword">public</span> IReadOnlyList&lt;<span class="hljs-built_in">string</span>&gt; Names =&gt; names;
}
</code></pre>
<p>ุจุง ุงูฺฉู <code>Names</code> ฺฉ ุฑุงุจุท ููุท-ุฎูุงูุฏู ุจุงุฒูโฺฏุฑุฏุงูุฏุ ูุตุฑูโฺฉููุฏู ูููุฒ ูโุชูุงูุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจู <code>List&lt;string&gt;</code> ุง <code>IList&lt;string&gt;</code> <strong>downcast</strong> ฺฉูุฏ ู ุณูพุณ ูุชุฏูุง <code>Add</code>ุ <code>Remove</code> ุง <code>Clear</code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ.</p>
<p>ุฑุงูโุญู <strong>ReadOnlyCollection<T></strong> ุงู ูุดฺฉู ุฑุง ุจู ุตูุฑุช ูุญฺฉูโุชุฑ ุญู ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>
{
    List&lt;<span class="hljs-built_in">string</span>&gt; names = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
    <span class="hljs-keyword">public</span> ReadOnlyCollection&lt;<span class="hljs-built_in">string</span>&gt; Names { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Test</span>()</span> =&gt; Names = <span class="hljs-keyword">new</span> ReadOnlyCollection&lt;<span class="hljs-built_in">string</span>&gt;(names);

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddInternally</span>()</span> =&gt; names.Add(<span class="hljs-string">&quot;test&quot;</span>);
}
</code></pre>
<p>ุฏุฑ ุงู ุญุงูุชุ ุชููุง ุงุนุถุง ุฏุงุฎู ฺฉูุงุณ <strong>Test</strong> ูโุชูุงููุฏ ูุณุช <code>names</code> ุฑุง ุชุบุฑ ุฏููุฏ:</p>
<pre class="hljs"><code>Test t = <span class="hljs-keyword">new</span> Test();
Console.WriteLine(t.Names.Count);       <span class="hljs-comment">// 0</span>
t.AddInternally();
Console.WriteLine(t.Names.Count);       <span class="hljs-comment">// 1</span>
t.Names.Add(<span class="hljs-string">&quot;test&quot;</span>);                    <span class="hljs-comment">// ุฎุทุง ฺฉุงููพุงู</span>
((IList&lt;<span class="hljs-built_in">string</span>&gt;)t.Names).Add(<span class="hljs-string">&quot;test&quot;</span>);   <span class="hljs-comment">// NotSupportedException</span>
</code></pre>
<hr>
<h3>๐ก๏ธ Immutable Collections</h3>
<p>ูุจูุงู ุชูุถุญ ุฏุงุฏู ฺฉู ฺฺฏููู <strong>ReadOnlyCollection<T></strong> ฺฉ ููุง ููุท-ุฎูุงูุฏู ุงุฌุงุฏ ูโฺฉูุฏ. ูุญุฏูุฏ ฺฉุฑุฏู ุชูุงูุง ููุดุชู (mutate) ฺฉ ูุฌููุนู ุง ูุฑ ุดุก ุฏฺฏุฑุ <strong>ุณุงุฏูโุณุงุฒ ูุฑูโุงูุฒุงุฑ ู ฺฉุงูุด ุจุงฺฏโูุง</strong> ุฑุง ุจู ุฏูุจุงู ุฏุงุฑุฏ.</p>
<p><strong>ูุฌููุนูโูุง immutable</strong> ุงู ุงุตู ุฑุง ฺฏุณุชุฑุด ูโุฏููุฏ ู <strong>ูุฌููุนูโูุง ุงุฑุงุฆู ูโฺฉููุฏ ฺฉู ูพุณ ุงุฒ ููุฏุงุฑุฏู ุงููู ุงุตูุงู ูุงุจู ุชุบุฑ ูุณุชูุฏ</strong>. ุงฺฏุฑ ุจุฎูุงูุฏ ุขุชู ุจู ฺฉ ูุฌููุนู immutable ุงุถุงูู ฺฉูุฏุ ุจุงุฏ ฺฉ <strong>ูุฌููุนู ุฌุฏุฏ ุจุณุงุฒุฏ</strong> ู ูุฌููุนู ูุฏู ุจุฏูู ุชุบุฑ ุจุงู ุจูุงูุฏ.</p>
<hr>
<h4>โก ูุฒุงุง Immutable Collections</h4>
<ul>
<li><strong>ุงุฒ ุจู ุจุฑุฏู ุชุนุฏุงุฏ ุฒุงุฏ ุงุฒ ุจุงฺฏโูุง</strong> ฺฉู ุจุง ุชุบุฑ ูุถุนุช ุงุฌุงุฏ ูโุดููุฏ.</li>
<li><strong>ุณุงุฏูโุณุงุฒ ููุงุฒโุณุงุฒ ู ฺูุฏูุฎ</strong> (multithreading) ุจุง ุงุฌุชูุงุจ ุงุฒ ุจุดุชุฑ ูุดฺฉูุงุช thread-safety ฺฉู ุฏุฑ ูุตูโูุง 14ุ 22 ู 23 ุชูุถุญ ุฏุงุฏู ูโุดููุฏ.</li>
<li><strong>ุณุงุฏูโุชุฑ ฺฉุฑุฏู ููุทู ู ุชุญูู ฺฉุฏ</strong>.</li>
</ul>
<h4>โ ูุนุงุจ</h4>
<ul>
<li>ูุฑฺฏุงู ูุงุฒ ุจู ุชุบุฑ ุจุงุดุฏุ ุจุงุฏ <strong>ฺฉู ุดุก ุฌุฏุฏ ุณุงุฎุชู ุดูุฏ</strong> ฺฉู ููฺฉู ุงุณุช <strong>ูุฒูู ุนููฺฉุฑุฏ</strong> ุจู ููุฑุงู ุฏุงุดุชู ุจุงุดุฏ. ุจุง ุงู ุญุงูุ <strong>ุงุณุชุฑุงุชฺโูุง ุจุฑุง ฺฉุงูุด ุงู ูุฒูู</strong> ูุฌูุฏ ุฏุงุฑุฏุ ุงุฒ ุฌููู ูุงุจูุช <strong>ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุฒ ุจุฎุดโูุง ุงุฒ ุณุงุฎุชุงุฑ ุงููู</strong>.</li>
</ul>
<hr>
<p>ูุฌููุนูโูุง immutable ุจุฎุด ุงุฒ <strong>.NET</strong> ูุณุชูุฏ (ุฏุฑ .NET Frameworkุ ุงุฒ ุทุฑู ูพฺฉุฌ NuGet ุจู ูุงู <code>System.Collections.Immutable</code> ูุงุจู ุฏุณุชุฑุณโุงูุฏ). ููู ูุฌููุนูโูุง ุฏุฑ namespace ุฒุฑ ุชุนุฑู ุดุฏูโุงูุฏ:</p>
<pre class="hljs"><code>System.Collections.Immutable
</code></pre>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-7.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>๐งฑ ImmutableArray<T> ู ImmutableList<T></h3>
<p>ุงููุงุน <strong>ImmutableArray<T></strong> ู <strong>ImmutableList<T></strong> ูุฑ ุฏู ูุณุฎูโูุง <strong>immutable</strong> ุงุฒ <strong>List<T></strong> ูุณุชูุฏ. ูุฑ ุฏู ฺฉุงุฑ ูุดุงุจู ุงูุฌุงู ูโุฏููุฏุ ุงูุง <strong>ูฺฺฏโูุง ุนููฺฉุฑุฏ ูุชูุงูุช</strong> ุฏุงุฑูุฏ ฺฉู ุฏุฑ ุจุฎุด ยซImmutable Collections and Performanceยป ุฏุฑ ุตูุญู 409 ุจุฑุฑุณ ุดุฏู ุงุณุช.</p>
<p>ูุฌููุนูโูุง immutable ฺฉ <strong>ุฑุงุจุท ุนููู ูุดุงุจู ูุณุฎูโูุง ูุงุจู ุชุบุฑ</strong> ุฎูุฏ ุงุฑุงุฆู ูโฺฉููุฏ. ุชูุงูุช ฺฉูุฏ ุงู ุงุณุช ฺฉู <strong>ูุชุฏูุง ฺฉู ุจู ูุธุฑ ูโุฑุณุฏ ูุฌููุนู ุฑุง ุชุบุฑ ูโุฏููุฏ</strong> (ูุซู <code>Add</code> ุง <code>Remove</code>) ุฏุฑ ูุงูุน <strong>ูุฌููุนู ุงุตู ุฑุง ุชุบุฑ ููโุฏููุฏ</strong>ุ ุจูฺฉู <strong>ฺฉ ูุฌููุนู ุฌุฏุฏ ุจุง ุขุชู ุงุถุงูู ุง ุญุฐู ุดุฏู</strong> ุจุฑูโฺฏุฑุฏุงููุฏ. ุจู ุงู ุฑูุชุงุฑ <strong>nondestructive mutation</strong> ฺฏูุชู ูโุดูุฏ.</p>
<p>ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู <strong>ูุฌููุนูโูุง immutable ุงุฒ ุงุถุงูู ุง ุญุฐู ุขุชูโูุง ุฌููฺฏุฑ ูโฺฉููุฏ</strong>ุ ุงูุง ุงู <strong>ูุญุฏูุฏุช ุฑู ุฎูุฏ ุขุชูโูุง ุงุนูุงู ููโุดูุฏ</strong>. ุจุฑุง ุจูุฑู ฺฉุงูู ุงุฒ <strong>immutable ุจูุฏู</strong>ุ ุจุงุฏ ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ููุท <strong>ุขุชูโูุง immutable</strong> ุฏุฑ ูุฌููุนู immutable ูุฑุงุฑ ูโฺฏุฑูุฏ.</p>
<hr>
<h3>๐๏ธ ุงุฌุงุฏ Immutable Collections</h3>
<p>ูุฑ ููุน ูุฌููุนู immutable ฺฉ ูุชุฏ <strong>Create<T>()</strong> ุงุฑุงุฆู ูโุฏูุฏ ฺฉู <strong>ููุงุฏุฑ ุงููู ุงุฎุชุงุฑ</strong> ุฑุง ูโูพุฐุฑุฏ ู <strong>ฺฉ ูุฌููุนู immutable ููุฏุงุฑุฏูโุดุฏู</strong> ุจุฑูโฺฏุฑุฏุงูุฏ:</p>
<pre class="hljs"><code>ImmutableArray&lt;<span class="hljs-built_in">int</span>&gt; array = ImmutableArray.Create&lt;<span class="hljs-built_in">int</span>&gt;(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
</code></pre>
<p>ููฺูู ูุชุฏ <strong>CreateRange<T></strong> ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุดุงุจู <code>Create&lt;T&gt;</code> ุนูู ูโฺฉูุฏุ ุชูุงูุช ุขู ุฏุฑ ุงู ุงุณุช ฺฉู <strong>ูพุงุฑุงูุชุฑ ุขู ุงุฒ ููุน IEnumerable<T></strong> ุงุณุชุ ูู <code>params T[]</code>.</p>
<p>ูโุชูุงูุฏ ฺฉ <strong>ูุฌููุนู immutable</strong> ุฑุง ุงุฒ ฺฉ <code>IEnumerable&lt;T&gt;</code> ููุฌูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>extension methodูุง ููุงุณุจ</strong> ุจุณุงุฒุฏ (<code>ToImmutableArray</code>ุ <code>ToImmutableList</code>ุ <code>ToImmutableDictionary</code> ู ุบุฑู):</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> list = <span class="hljs-keyword">new</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> }.ToImmutableList();
</code></pre>
<hr>
<h3>๐ ุฏุณุชฺฉุงุฑ Immutable Collections</h3>
<p>ูุชุฏ <strong>Add</strong> ฺฉ <strong>ูุฌููุนู ุฌุฏุฏ</strong> ุดุงูู <strong>ุนูุงุตุฑ ููุฌูุฏ ุจูโุนูุงูู ุนูุตุฑ ุฌุฏุฏ</strong> ุจุฑูโฺฏุฑุฏุงูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> oldList = ImmutableList.Create&lt;<span class="hljs-built_in">int</span>&gt;(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
ImmutableList&lt;<span class="hljs-built_in">int</span>&gt; newList = oldList.Add(<span class="hljs-number">4</span>);

Console.WriteLine(oldList.Count);   <span class="hljs-comment">// 3  (ุชุบุฑ ูฺฉุฑุฏู)</span>
Console.WriteLine(newList.Count);   <span class="hljs-comment">// 4</span>
</code></pre>
<p>ูุชุฏ <strong>Remove</strong> ูุฒ ุจู ููู ุดฺฉู ุนูู ูโฺฉูุฏ ู ฺฉ ูุฌููุนู ุฌุฏุฏ ุจุง ุขุชู ุญุฐูโุดุฏู ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
<p>ุงุถุงูู ุง ุญุฐู ูฺฉุฑุฑ ุจู ุงู ุฑูุด <strong>ูุงฺฉุงุฑุขูุฏ ุงุณุช</strong>ุ ุฒุฑุง ุจุฑุง ูุฑ ุนููุงุช ฺฉ ูุฌููุนู immutable ุฌุฏุฏ ุณุงุฎุชู ูโุดูุฏ.<br>
ุฑุงู ุจูุชุฑ ุงุณุชูุงุฏู ุงุฒ <strong>AddRange</strong> ุง <strong>RemoveRange</strong> ุงุณุช ฺฉู ฺฉ <code>IEnumerable&lt;T&gt;</code> ุงุฒ ุขุชูโูุง ูโูพุฐุฑุฏ ู ููู ุขุชูโูุง ุฑุง <strong>ฺฉุฌุง ุงุถุงูู ุง ุญุฐู ูโฺฉูุฏ</strong>:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> anotherList = oldList.AddRange(<span class="hljs-keyword">new</span>[] { <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> });
</code></pre>
<p>ููฺูู <strong>ImmutableList</strong> ู <strong>ImmutableArray</strong> ูุชุฏูุง <strong>Insert</strong> ู <strong>InsertRange</strong> ุจุฑุง ุฏุฑุฌ ุขุชู ุฏุฑ ุงูุฏุณ ูุดุฎุตุ <strong>RemoveAt</strong> ุจุฑุง ุญุฐู ุฏุฑ ุงูุฏุณ ูุดุฎุต ู <strong>RemoveAll</strong> ุจุฑ ุงุณุงุณ predicate ุงุฑุงุฆู ูโุฏููุฏ.</p>
<hr>
<h3>๐๏ธ Builders</h3>
<p>ุจุฑุง ูุงุฒูุง ููุฏุงุฑุฏู ูพฺุฏูโุชุฑุ ูุฑ ฺฉูุงุณ ูุฌููุนู immutable ุฏุงุฑุง <strong>Builder</strong> ูุชูุงุธุฑ ุงุณุช.<br>
Builders ุจู ูุญุงุธ ุนููฺฉุฑุฏ ูุดุงุจู ฺฉ <strong>ูุฌููุนู mutable</strong> ูุณุชูุฏ. ูพุณ ุงุฒ ููุฏุงุฑุฏูุ ุจุง ูุฑุงุฎูุงู <code>.ToImmutable()</code> ุฑู Builderุ ฺฉ ูุฌููุนู immutable ุฌุฏุฏ ุฏุฑุงูุช ูโฺฉูุฏ:</p>
<pre class="hljs"><code>ImmutableArray&lt;<span class="hljs-built_in">int</span>&gt;.Builder builder = ImmutableArray.CreateBuilder&lt;<span class="hljs-built_in">int</span>&gt;();
builder.Add(<span class="hljs-number">1</span>);
builder.Add(<span class="hljs-number">2</span>);
builder.Add(<span class="hljs-number">3</span>);
builder.RemoveAt(<span class="hljs-number">0</span>);

ImmutableArray&lt;<span class="hljs-built_in">int</span>&gt; myImmutable = builder.ToImmutable();
</code></pre>
<p>ููฺูู ูโุชูุงูุฏ <strong>ฺูุฏู ุชุบุฑ ุฑุง ุฑู ฺฉ ูุฌููุนู immutable ููุฌูุฏ ุจูโุตูุฑุช ฺฏุฑูู</strong> ุงูุฌุงู ุฏูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> builder2 = myImmutable.ToBuilder();
builder2.Add(<span class="hljs-number">4</span>);      <span class="hljs-comment">// ฺฉุงุฑุขูุฏ</span>
builder2.Remove(<span class="hljs-number">2</span>);   <span class="hljs-comment">// ฺฉุงุฑุขูุฏ</span>
<span class="hljs-comment">// ุชุบุฑุงุช ุจุดุชุฑ ุฑู builder...</span>
ImmutableArray&lt;<span class="hljs-built_in">int</span>&gt; myImmutable2 = builder2.ToImmutable(); <span class="hljs-comment">// ูุฌููุนู ุฌุฏุฏ ุจุง ุชูุงู ุชุบุฑุงุช</span>
</code></pre>
<hr>
<h3>โก Immutable Collections ู ุนููฺฉุฑุฏ</h3>
<p>ุจุดุชุฑ ูุฌููุนูโูุง immutable ุงุฒ <strong>ุฏุฑุฎุช AVL</strong> ุฏุงุฎู ุงุณุชูุงุฏู ูโฺฉููุฏุ ฺฉู ุงุฌุงุฒู ูโุฏูุฏ ุนููุงุช <strong>add/remove</strong> ุงุฒ ุจุฎุดโูุง ุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฎู ูุจู ุงุณุชูุงุฏู ฺฉููุฏ ู <strong>ฺฉู ูุฌููุนู ุฏูุจุงุฑู ุณุงุฎุชู ูุดูุฏ</strong>. ุงู ุจุงุนุซ ูโุดูุฏ <strong>ูุฒูู ุนููุงุช add/remove ุงุฒ ุจุฒุฑฺฏ (ุฏุฑ ูุฌููุนูโูุง ุจุฒุฑฺฏ) ุจู ูุชูุณุท ฺฉุงูุด ุงุจุฏ</strong>ุ ุงูุง ุฎูุงูุฏู ุฏุงุฏูโูุง ฺฉู ฺฉูุฏุชุฑ ุฎูุงูุฏ ุดุฏ.<br>
ูุชุฌู ููุง ุงู ุงุณุช ฺฉู ุจุดุชุฑ ูุฌููุนูโูุง immutable <strong>ุจุฑุง ุฎูุงูุฏู ู ููุดุชู ฺฉูุฏุชุฑ</strong> ุงุฒ ูุณุฎูโูุง mutable ูุณุชูุฏ.</p>
<ul>
<li>ุจุดุชุฑู ุชุงุซุฑ ุฑู <strong>ImmutableList<T></strong> ุงุณุชุ ฺฉู <strong>ุฎูุงูุฏู ู ุงูุฒูุฏู ุขุชู</strong> ุฏุฑ ุขู <strong>10 ุชุง 200 ุจุฑุงุจุฑ ฺฉูุฏุชุฑ ุงุฒ List<T></strong> ุงุณุช (ุจุณุชู ุจู ุงูุฏุงุฒู ูุณุช).</li>
<li>ุจู ููู ุฏูู <strong>ImmutableArray<T></strong> ูุฌูุฏ ุฏุงุฑุฏ: ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ <strong>ุขุฑุงู ุฏุงุฎู</strong>ุ ุนููฺฉุฑุฏ ุฎูุงูุฏู ุจุฏูู ฺฉุงูุด ุณุฑุนุช ุงูุฌุงู ูโุดูุฏ (ูุดุงุจู ุขุฑุงู mutable ูุนููู). ุงูุง ุงูุฒูุฏู ุขุชูโูุง ฺฉูุฏุชุฑ ุงุฒ ุญุช ImmutableList<T> ุงุณุชุ ุฒุฑุง ุณุงุฎุชุงุฑ ูุจู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ูุณุช.</li>
</ul>
<p>ุจูุงุจุฑุงูุ <strong>ImmutableArray<T></strong> ุฒูุงู ูุทููุจ ุงุณุช ฺฉู ุจุฎูุงูุฏ <strong>ุนููฺฉุฑุฏ ุฎูุงูุฏู ุจุฏูู ูุญุฏูุฏุช</strong> ุฏุงุดุชู ุจุงุดุฏ ู ุงูุชุธุงุฑ <strong>ุงุถุงูู/ุญุฐู ูฺฉุฑุฑ ุขุชูโูุง</strong> ุฑุง ูุฏุงุดุชู ุจุงุดุฏ (ุจุฏูู ุงุณุชูุงุฏู ุงุฒ Builder).</p>
<div align="center">
<p><img src="../../../assets/image/07/Table-7-8.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>โ ูุฒูู ุญุฐู ุฏุฑ ImmutableArray</h3>
<p>ูุฑุงุฎูุงู <strong>Remove</strong> ุฑู <strong>ImmutableArray</strong> ฺฏุฑุงูโุชุฑ ุงุฒ ูุฑุงุฎูุงู ููุงู ูุชุฏ ุฑู <strong>List<T></strong> ุงุณุช โ ุญุช ุฏุฑ <strong>ุจุฏุชุฑู ุญุงูุช</strong> ฺฉู ุงููู ุนูุตุฑ ุญุฐู ุดูุฏ โ ุฒุฑุง <strong>ุงุฌุงุฏ ูุฌููุนู ุฌุฏุฏ ูุดุงุฑ ุงุถุงู ุฑู Garbage Collector ูุงุฑุฏ ูโฺฉูุฏ</strong>.</p>
<p>ุจุง ูุฌูุฏ ุงูฺฉู ูุฌููุนูโูุง immutable ุจูโุทูุฑ ฺฉู <strong>ูุฒูู ุนููฺฉุฑุฏ ูุงุจู ุชูุฌู</strong> ุฏุงุฑูุฏุ ุงูุง ุจุงุฏ <strong>ูุฒุงู ูุงูุน ุฑุง ุฏุฑฺฉ ฺฉุฑุฏ</strong>. ุจุฑุง ูุซุงูุ ฺฉ ุนููุงุช <strong>Add</strong> ุฑู ฺฉ <strong>ImmutableList</strong> ุจุง ฺฉ ูููู ุนูุตุฑุ ุงุญุชูุงูุงู <strong>ฺฉูุชุฑ ุงุฒ ฺฉ ูฺฉุฑูุซุงูู</strong> ุฏุฑ ฺฉ ููพโุชุงูพ ูุนููู ุทูู ูโฺฉุดุฏุ ู ฺฉ ุนููุงุช ุฎูุงูุฏู ุฏุฑ <strong>ฺฉูุชุฑ ุงุฒ 100 ูุงููุซุงูู</strong> ุงูุฌุงู ูโุดูุฏ.</p>
<p>ููฺูู ุงฺฏุฑ ูุงุฒ ุจุงุดุฏ <strong>ุนููุงุช ููุดุชู ุฏุฑ ุญููู</strong> ุงูุฌุงู ุดูุฏุ ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>Builder</strong> ุงุฒ ูุฒูู ุชุฌูุน ุฌููฺฏุฑ ฺฉุฑุฏ.</p>
<hr>
<h3>โก ฺฉุงูุด ูุฒููโูุง ุฏุฑ Immutable Collections</h3>
<p>ุนูุงูู ุฒุฑ ุจู ฺฉุงูุด ูุฒููโูุง ฺฉูฺฉ ูโฺฉููุฏ:</p>
<ul>
<li><strong>Immutable ุจูุฏู</strong> ุงูฺฉุงู <strong>ููุฒูุงู ู ูพุฑุฏุงุฒุด ููุงุฒ ุณุงุฏู</strong> ุฑุง ูุฑุงูู ูโฺฉูุฏ (Chapter 23)ุ ุจูุงุจุฑุงู ูโุชูุงู ุงุฒ ููู ูุณุชูโูุง ูพุฑุฏุงุฒูุฏู ุงุณุชูุงุฏู ฺฉุฑุฏ. ูพุฑุฏุงุฒุด ููุงุฒ ุจุง ุญุงูุช mutable ุจูโุฑุงุญุช ููุฌุฑ ุจู ุฎุทุง ูโุดูุฏ ู ูุงุฒ ุจู ูููโูุง ุง ูุฌููุนูโูุง ููุฒูุงู ุฏุงุฑุฏ ฺฉู ูุฑ ุฏู ุนููฺฉุฑุฏ ุฑุง ฺฉุงูุด ูโุฏููุฏ.</li>
<li>ุจุง <strong>Immutable ุจูุฏู</strong> ูุงุฒ ุจู <strong>ฺฉูพ ุญูุงุธุช (defensive copy)</strong> ุงุฒ ูุฌููุนูโูุง ุง ุณุงุฎุชุงุฑูุง ุฏุงุฏู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุชุบุฑุงุช ุบุฑููุชุธุฑู ูุณุช. ุงู ฺฉ ุงุฒ ุฏูุงู ุงุณุช ฺฉู ุฏุฑ ููุดุชู ุจุฎุดโูุง ุงุฎุฑ <strong>Visual Studio</strong> ุงุฒ ูุฌููุนูโูุง immutable ุงุณุชูุงุฏู ุดุฏ.</li>
<li>ุฏุฑ ุงฺฉุซุฑ ุจุฑูุงููโูุง ูุนูููุ ุชุนุฏุงุฏ ฺฉู ุงุฒ ูุฌููุนูโูุง ุฏุงุฑุง ุขุชู ฺฉุงู ูุณุชูุฏ ฺฉู ุชูุงูุช ููููุณ ุจุงุดุฏ.</li>
</ul>
<p>ุนูุงูู ุจุฑ <strong>Visual Studio</strong>ุ <strong>Microsoft Roslyn</strong> ูุฒ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฌููุนูโูุง immutable ุณุงุฎุชู ุดุฏู ุงุณุชุ ฺฉู ูุดุงู ูโุฏูุฏ ูุฒุงุง ูโุชูุงููุฏ ุจุฑ ูุฒููโูุง ุบุงูุจ ุดููุฏ.</p>
<hr>
<h3>โ๏ธ Frozen Collections</h3>
<p>ุงุฒ <strong>.NET 8</strong>ุ ูุถุง ูุงู <strong>System.Collections.Frozen</strong> ุดุงูู ุฏู ฺฉูุงุณ <strong>ูุฌููุนู ููุทโุฎูุงูุฏู</strong> ุงุณุช:</p>
<ul>
<li><code>FrozenDictionary&lt;TKey,TValue&gt;</code></li>
<li><code>FrozenSet&lt;T&gt;</code></li>
</ul>
<p>ุงู ูุฌููุนูโูุง ูุดุงุจู <strong>ImmutableDictionary&lt;K,V&gt;</strong> ู <strong>ImmutableHashSet<T></strong> ูุณุชูุฏุ ุงูุง <strong>ูุชุฏูุง ุจุฑุง nondestructive mutation</strong> (ูุซู Add ุง Remove) ูุฏุงุฑูุฏ ู ุจูุงุจุฑุงู <strong>ุนููฺฉุฑุฏ ุฎูุงูุฏู ุจูููโุง ุฏุงุฑูุฏ</strong>.</p>
<p>ุจุฑุง ุงุฌุงุฏ ฺฉ <strong>Frozen Collection</strong>ุ ุงุจุชุฏุง ุจุง ฺฉ ูุฌููุนู ุง ุฏูุจุงูู ุดุฑูุน ูโฺฉูุฏ ู ุณูพุณ ุงุฒ <strong>extension method</strong>ูุง <code>ToFrozenDictionary</code> ุง <code>ToFrozenSet</code> ุงุณุชูุงุฏู ูโฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] numbers = { <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span> };
FrozenSet&lt;<span class="hljs-built_in">int</span>&gt; frozen = numbers.ToFrozenSet();
Console.WriteLine(frozen.Contains(<span class="hljs-number">10</span>));  <span class="hljs-comment">// True</span>
</code></pre>
<p>ูุฌููุนูโูุง frozen ุจุฑุง <strong>ุฌุณุชุฌููุง ฺฉู ุฏุฑ ุงุจุชุฏุง ุจุฑูุงูู ููุฏุงุฑุฏู ูโุดููุฏ ู ุฏุฑ ุทูู ุจุฑูุงูู ุงุณุชูุงุฏู ูโุดููุฏ</strong> ุนุงู ูุณุชูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">class</span> <span class="hljs-title">Disassembler</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">static</span> IReadOnlyDictionary&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">string</span>&gt; OpCodeLookup =
        <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;()
        {
            { <span class="hljs-string">&quot;ADC&quot;</span>, <span class="hljs-string">&quot;Add with Carry&quot;</span> },
            { <span class="hljs-string">&quot;ADD&quot;</span>, <span class="hljs-string">&quot;Add&quot;</span> },
            { <span class="hljs-string">&quot;AND&quot;</span>, <span class="hljs-string">&quot;Logical AND&quot;</span> },
            { <span class="hljs-string">&quot;ANDN&quot;</span>, <span class="hljs-string">&quot;Logical AND NOT&quot;</span> },
            ...
        }
        .ToFrozenDictionary();
    ...
}
</code></pre>
<p>ูุฌููุนูโูุง frozen <strong>ุฑุงุจุท ุงุณุชุงูุฏุงุฑุฏ dictionary/set</strong> ู ูุณุฎูโูุง ููุทโุฎูุงูุฏู ุขูโูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ุฏุฑ ูุซุงู ุจุงูุงุ <strong>FrozenDictionary&lt;string,string&gt;</strong> ุจูโุนููุงู <strong>ููุฏ ุงุฒ ููุน IReadOnlyDictionary&lt;string,string&gt;</strong> ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช.</p>
<hr>
<h3>โ๏ธ Plugging in Equality and Order</h3>
<p>ุฏุฑ ุจุฎุดโูุง <strong>โEquality Comparisonโ</strong> (ุตูุญู 226) ู <strong>โOrder Comparisonโ</strong> (ุตูุญู 355) ูพุฑูุชฺฉูโูุง ุงุณุชุงูุฏุงุฑุฏ .NET ุชูุถุญ ุฏุงุฏู ุดุฏ ฺฉู ฺฉ ููุน ุฑุง <strong>ูุงุจู ููุงุณูุ ูุงุจู ูุด ู equatable</strong> ูโฺฉููุฏ.</p>
<p>ฺฉ ููุน ฺฉู ุงู ูพุฑูุชฺฉูโูุง ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูโุชูุงูุฏ ุจูโุทูุฑ ุตุญุญ ุฏุฑ <strong>dictionary</strong> ุง <strong>sorted list</strong> ุงุณุชูุงุฏู ุดูุฏ:</p>
<ul>
<li>ููุน ฺฉู <strong>Equals</strong> ู <strong>GetHashCode</strong> ูุชุงุฌ ูุนูุงุฏุงุฑ ุจุฑูโฺฏุฑุฏุงูุฏุ ูโุชูุงูุฏ ุจูโุนููุงู <strong>ฺฉูุฏ ุฏุฑ Dictionary ุง Hashtable</strong> ุงุณุชูุงุฏู ุดูุฏ.</li>
<li>ููุน ฺฉู <strong>IComparable / IComparable<T></strong> ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูโุชูุงูุฏ ุจูโุนููุงู <strong>ฺฉูุฏ ุฏุฑ ูุฑ dictionary ุง ูุณุช ูุฑุชุจ ุดุฏู</strong> ุงุณุชูุงุฏู ุดูุฏ.</li>
</ul>
<p>ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุนูููุงู ุฑูุชุงุฑ ุทุจุน ููุน ุฑุง ุจุงุฒุชุงุจ ูโุฏูุฏุ ุงูุง ฺฏุงู ุงููุงุช ูุงุฒู ุงุณุช ุฑูุชุงุฑ ูุชูุงูุช ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ูุซุงู:</p>
<ul>
<li>ฺฉ dictionary ุจุง <strong>ฺฉูุฏูุง string ุจุฏูู ุญุณุงุณุช ุจู ุญุฑูู</strong></li>
<li>ุง ฺฉ <strong>sorted list ุงุฒ ูุดุชุฑุงูุ ูุฑุชุจโุดุฏู ุจุฑ ุงุณุงุณ ฺฉุฏูพุณุช</strong></li>
</ul>
<p>ุจู ููู ุฏููุ .NET ูุฌููุนูโุง ุงุฒ <strong>โplug-inโ ูพุฑูุชฺฉูโูุง</strong> ุฑุง ุชุนุฑู ฺฉุฑุฏู ุงุณุช. ุงู ูพุฑูุชฺฉูโูุง ุฏู ฺฉุงุฑ ุงูุฌุงู ูโุฏููุฏ:</p>
<ul>
<li>ุงูฺฉุงู <strong>ุฌุงฺฏุฒู ุฑูุชุงุฑ ูพุดโูุฑุถ ุจุฑุง ููุงุณู ู ุจุฑุงุจุฑ</strong></li>
<li>ุงุณุชูุงุฏู ุงุฒ dictionary ุง ูุฌููุนู ูุฑุชุจ ุจุง <strong>ููุน ฺฉูุฏ ฺฉู ุจูโุทูุฑ ุฐุงุช equatable ุง comparable ูุณุช</strong></li>
</ul>
<p>ูพุฑูุชฺฉูโูุง plug-in ุดุงูู <strong>interfaceูุง ุฒุฑ</strong> ูุณุชูุฏ:</p>
<p><strong>IEqualityComparer ู IEqualityComparer<T></strong></p>
<ul>
<li>ุงูุฌุงู <strong>ููุงุณู ู ูุดูฺฏ ุฌุงฺฏุฒู</strong></li>
<li>ุชูุณุท <strong>Hashtable ู Dictionary</strong> ุดูุงุฎุชู ูโุดูุฏ</li>
</ul>
<p><strong>IComparer ู IComparer<T></strong></p>
<ul>
<li>ุงูุฌุงู <strong>ููุงุณู ุชุฑุชุจ ุฌุงฺฏุฒู</strong></li>
<li>ุชูุณุท <strong>sorted dictionaries ู collections</strong> ุดูุงุฎุชู ูโุดูุฏุ ููฺูู ุชูุณุท <strong>Array.Sort</strong></li>
</ul>
<p>ูุฑ interface ูู <strong>ูุณุฎู generic ู nongeneric</strong> ุฏุงุฑุฏ.<br>
ููฺููุ <strong>IEqualityComparer</strong> ุดุงูู ฺฉ <strong>ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุฏุฑ ฺฉูุงุณ EqualityComparer</strong> ุงุณุช.<br>
ุนูุงูู ุจุฑ ุงูุ <strong>interfaceูุง ุจู ูุงู IStructuralEquatable ู IStructuralComparable</strong> ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุงูฺฉุงู <strong>ููุงุณูโูุง ุณุงุฎุชุงุฑ (structural comparisons)</strong> ุฑุง ุจุฑุง ฺฉูุงุณโูุง ู ุขุฑุงูโูุง ูุฑุงูู ูโฺฉููุฏ.</p>
<hr>
<h3>โ๏ธ IEqualityComparer ู EqualityComparer</h3>
<p>ฺฉ <strong>equality comparer</strong> ุงู ุงูฺฉุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ุฑูุชุงุฑ <strong>ุจุฑุงุจุฑ ู ูุดูฺฏ ุบุฑูพุดโูุฑุถ</strong> ุฌุงฺฏุฒู ุดูุฏุ ุนูุฏุชุงู ุจุฑุง ฺฉูุงุณโูุง <strong>Dictionary</strong> ู <strong>Hashtable</strong>.</p>
<p>ุจู ุงุฏ ุจุงูุฑุฏ ฺฉู ฺฉ <strong>dictionary ูุจุชู ุจุฑ hashtable</strong> ุจู ุฏู ุณุคุงู ุจุฑุง ูุฑ ฺฉูุฏ ูุงุฒ ุฏุงุฑุฏ:</p>
<ul>
<li>ุขุง ุงู ฺฉูุฏ <strong>ููุงููุฏ ฺฉูุฏ ุฏฺฏุฑ</strong> ุงุณุชุ</li>
<li><strong>HashCode ุตุญุญ</strong> ุขู ฺุณุชุ</li>
</ul>
<p>ฺฉ equality comparer ุจู ุงู ุฏู ุณุคุงู ูพุงุณุฎ ูโุฏูุฏ ุจุง ูพุงุฏูโุณุงุฒ <strong>interfaceูุง IEqualityComparer</strong>:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IEqualityComparer</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Equals</span>(<span class="hljs-params">T x, T y</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">GetHashCode</span>(<span class="hljs-params">T obj</span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IEqualityComparer</span>   <span class="hljs-comment">// ูุณุฎู nongeneric</span>
{
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Equals</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> x, <span class="hljs-built_in">object</span> y</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">GetHashCode</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> obj</span>)</span>;
}
</code></pre>
<p>ุจุฑุง ููุดุชู <strong>comparer ุณูุงุฑุด</strong>ุ ูโุชูุงูุฏ ฺฉ ุง ูุฑ ุฏู interface ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ (ูพุงุฏูโุณุงุฒ ูุฑ ุฏู ุญุฏุงฺฉุซุฑ ุณุงุฒฺฏุงุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ).</p>
<p>ฺูู ุงู ฺฉุงุฑ ฺฉู ููุชโฺฏุฑ ุงุณุชุ ฺฉ ุฌุงฺฏุฒู ุงุณุชูุงุฏู ุงุฒ <strong>ฺฉูุงุณ ุงูุชุฒุงุน EqualityComparer</strong> ุงุณุช:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EqualityComparer</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IEqualityComparer</span>, <span class="hljs-title">IEqualityComparer</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Equals</span>(<span class="hljs-params">T x, T y</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetHashCode</span>(<span class="hljs-params">T obj</span>)</span>;

    <span class="hljs-built_in">bool</span> IEqualityComparer.Equals(<span class="hljs-built_in">object</span> x, <span class="hljs-built_in">object</span> y);
    <span class="hljs-built_in">int</span> IEqualityComparer.GetHashCode(<span class="hljs-built_in">object</span> obj);
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> EqualityComparer&lt;T&gt; Default { <span class="hljs-keyword">get</span>; }
}
</code></pre>
<p>ฺฉูุงุณ <strong>EqualityComparer</strong> ูุฑ ุฏู interface ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ุชููุง ฺฉุงุฑ ฺฉู ุดูุง ุจุงุฏ ุงูุฌุงู ุฏูุฏุ <strong>override ฺฉุฑุฏู ุฏู ูุชุฏ ุงูุชุฒุงุน</strong> ุงุณุช.</p>
<hr>
<h3>๐งพ ูุซุงู: Customer ู EqualityComparer ุณูุงุฑุด</h3>
<p>ูุซูุงู ฺฉ ฺฉูุงุณ <strong>Customer</strong> ุจุง ุฏู ููุฏ ุฏุงุฑู ู ฺฉ equality comparer ูโููุณู ฺฉู ูุฑ ุฏู <strong>ูุงู ู ูุงู ุฎุงููุงุฏฺฏ</strong> ุฑุง ููุงุณู ฺฉูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> LastName;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> FirstName;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Customer</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> last, <span class="hljs-built_in">string</span> first</span>)</span>
    {
        LastName = last;
        FirstName = first;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LastFirstEqComparer</span> : <span class="hljs-title">EqualityComparer</span>&lt;<span class="hljs-title">Customer</span>&gt;
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Equals</span>(<span class="hljs-params">Customer x, Customer y</span>)</span>
        =&gt; x.LastName == y.LastName &amp;&amp; x.FirstName == y.FirstName;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetHashCode</span>(<span class="hljs-params">Customer obj</span>)</span>
        =&gt; (obj.LastName + <span class="hljs-string">&quot;;&quot;</span> + obj.FirstName).GetHashCode();
}
</code></pre>
<p>ุญุงูุง ุฏู customer ุงุฌุงุฏ ูโฺฉูู:</p>
<pre class="hljs"><code>Customer c1 = <span class="hljs-keyword">new</span> Customer(<span class="hljs-string">&quot;Bloggs&quot;</span>, <span class="hljs-string">&quot;Joe&quot;</span>);
Customer c2 = <span class="hljs-keyword">new</span> Customer(<span class="hljs-string">&quot;Bloggs&quot;</span>, <span class="hljs-string">&quot;Joe&quot;</span>);
</code></pre>
<p>ฺูู <strong>object.Equals</strong> ุฑุง override ูฺฉุฑุฏูโุงูุ ุฑูุชุงุฑ ูพุดโูุฑุถ <strong>reference equality</strong> ุงุนูุงู ูโุดูุฏ:</p>
<pre class="hljs"><code>Console.WriteLine(c1 == c2);       <span class="hljs-comment">// False</span>
Console.WriteLine(c1.Equals(c2));  <span class="hljs-comment">// False</span>
</code></pre>
<p>ุฏุฑ ุงุณุชูุงุฏู ุงุฒ Dictionary ุจุฏูู ุชุนู equality comparerุ ููู ุฑูุชุงุฑ ูพุดโูุฑุถ ุงุนูุงู ูโุดูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Dictionary&lt;Customer, <span class="hljs-built_in">string</span>&gt;();
d[c1] = <span class="hljs-string">&quot;Joe&quot;</span>;
Console.WriteLine(d.ContainsKey(c2));  <span class="hljs-comment">// False</span>
</code></pre>
<p>ุงูุง ุจุง ุงุณุชูุงุฏู ุงุฒ equality comparer ุณูุงุฑุด:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> eqComparer = <span class="hljs-keyword">new</span> LastFirstEqComparer();
<span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Dictionary&lt;Customer, <span class="hljs-built_in">string</span>&gt;(eqComparer);
d[c1] = <span class="hljs-string">&quot;Joe&quot;</span>;
Console.WriteLine(d.ContainsKey(c2));  <span class="hljs-comment">// True</span>
</code></pre>
<p>โ๏ธ ูฺฉุชู: ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ Dictionary ุจุง ฺฉ <strong>comparer ุณูุงุฑุด</strong>ุ ุจุงุฏ ูุฑุงูุจ ุจุงุดุฏ ฺฉู <strong>FirstName ุง LastName ูุดุชุฑ ุชุบุฑ ูฺฉูุฏ</strong>ุ ฺูู ุชุบุฑ HashCode ุจุงุนุซ ุดฺฉุณุชู Dictionary ูโุดูุฏ.</p>
<hr>
<h3>โ EqualityComparer<T>.Default</h3>
<p>ูุฑุงุฎูุงู <code>EqualityComparer&lt;T&gt;.Default</code> ฺฉ <strong>equality comparer ุนููู</strong> ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ูโุชูุงู ุขู ุฑุง ุจู ุฌุง <strong>object.Equals</strong> ุงุณุชูุงุฏู ฺฉุฑุฏ.<br>
ูุฒุช ุขู ุงู ุงุณุช ฺฉู ุงุจุชุฏุง ุจุฑุฑุณ ูโฺฉูุฏ ุขุง <strong>T IEquatable<T></strong> ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช ุง ุฎุฑุ ู ุงฺฏุฑ ฺฉุฑุฏู ุจุงุดุฏุ ุขู ูพุงุฏูโุณุงุฒ ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ู ุงุฒ <strong>boxing overhead</strong> ุฌููฺฏุฑ ูโฺฉูุฏ.</p>
<p>ูุซุงู:</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">Foo</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T x, T y</span>)</span>
{
    <span class="hljs-built_in">bool</span> same = EqualityComparer&lt;T&gt;.Default.Equals(x, y);
    ...
}
</code></pre>
<hr>
<h3>๐งฉ ReferenceEqualityComparer.Instance (.NET 5+)</h3>
<p>ุงุฒ <strong>.NET 5</strong>ุ <code>ReferenceEqualityComparer.Instance</code> ฺฉ <strong>equality comparer</strong> ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ููุดู <strong>referential equality</strong> ุฑุง ุงุนูุงู ูโฺฉูุฏ.<br>
ุฏุฑ ููุฑุฏ <strong>value types</strong>ุ ูุชุฏ <strong>Equals</strong> ุขู ููุดู <strong>false</strong> ุจุฑูโฺฏุฑุฏุงูุฏ.</p>
<h3>๐ท๏ธ IComparer ู Comparer</h3>
<p><strong>Comparers</strong> ุจุฑุง ุฌุงฺฏุฒู ููุทู <strong>ูุฑุชุจโุณุงุฒ ุณูุงุฑุด</strong> ุฏุฑ <strong>dictionaries ู collectionูุง ูุฑุชุจ</strong> ุงุณุชูุงุฏู ูโุดููุฏ.</p>
<p>ุชูุฌู ฺฉูุฏ ฺฉู <strong>comparerูุง ุจุฑุง ุฏฺฉุดูุฑโูุง ุจุฏูู ุชุฑุชุจ</strong> ูุงููุฏ <strong>Dictionary</strong> ู <strong>Hashtable</strong> ฺฉุงุฑุจุฑุฏ ูุฏุงุฑูุฏโฺุฑุง ฺฉู ุงูโูุง ูุงุฒ ุจู <strong>IEqualityComparer</strong> ุจุฑุง ฺฏุฑูุชู hashcode ุฏุงุฑูุฏ.<br>
ุจู ููู ุชุฑุชุจุ ฺฉ <strong>equality comparer</strong> ุจุฑุง ุฏฺฉุดูุฑโูุง ุง collectionูุง ูุฑุชุจ ฺฉุงุฑุจุฑุฏ ูุฏุงุฑุฏ.</p>
<p>ุชุนุงุฑู interface <strong>IComparer</strong> ุจู ุดุฑุญ ุฒุฑ ุงุณุช:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IComparer</span>
{
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">Compare</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> x, <span class="hljs-built_in">object</span> y</span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IComparer</span>&lt;<span class="hljs-keyword">in</span> <span class="hljs-title">T</span>&gt;
{
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">Compare</span>(<span class="hljs-params">T x, T y</span>)</span>;
}
</code></pre>
<p>ููุงููุฏ <strong>equality comparers</strong>ุ ฺฉ ฺฉูุงุณ ุงูุชุฒุงุน ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุขู ุฑุง subclass ฺฉูุฏ ุจู ุฌุง ูพุงุฏูโุณุงุฒ ูุณุชูู interfaceูุง:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Comparer</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IComparer</span>, <span class="hljs-title">IComparer</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Comparer&lt;T&gt; Default { <span class="hljs-keyword">get</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Compare</span>(<span class="hljs-params">T x, T y</span>)</span>;          <span class="hljs-comment">// ุชูุณุท ุดูุง ูพุงุฏูโุณุงุฒ ูโุดูุฏ</span>
    <span class="hljs-built_in">int</span> IComparer.Compare(<span class="hljs-built_in">object</span> x, <span class="hljs-built_in">object</span> y);     <span class="hljs-comment">// ุจุฑุง ุดูุง ูพุงุฏูโุณุงุฒ ุดุฏู</span>
}
</code></pre>
<hr>
<h3>ูุซุงู: ูุฑุชุจโุณุงุฒ Wish ุจุฑ ุงุณุงุณ Priority</h3>
<pre class="hljs"><code><span class="hljs-keyword">class</span> <span class="hljs-title">Wish</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Priority;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Wish</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">int</span> priority</span>)</span>
    {
        Name = name;
        Priority = priority;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">PriorityComparer</span> : <span class="hljs-title">Comparer</span>&lt;<span class="hljs-title">Wish</span>&gt;
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Compare</span>(<span class="hljs-params">Wish x, Wish y</span>)</span>
    {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">object</span>.Equals(x, y)) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <span class="hljs-comment">// ุจูููโุณุงุฒ</span>
        <span class="hljs-keyword">if</span> (x == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">if</span> (y == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> x.Priority.CompareTo(y.Priority);
    }
}
</code></pre>
<p>โ ูฺฉุชู: ุจุฑุฑุณ <code>object.Equals</code> ุงุทููุงู ูโุฏูุฏ ฺฉู ูฺโฺฏุงู ุจุง ุฑูุด <code>Equals</code> ุชูุงูุถ ูพุฏุง ูฺฉูู. ุงุณุชูุงุฏู ุงุฒ ูุชุฏ <strong>static object.Equals</strong> ุจูุชุฑ ุงุฒ <code>x.Equals</code> ุงุณุช ฺูู ุญุช ููุช <code>x</code> ุจุฑุงุจุฑ null ุงุณุชุ ฺฉุงุฑ ูโฺฉูุฏ.</p>
<p>ูุฑุชุจโุณุงุฒ ฺฉ ูุณุช ุจุง ุงุณุชูุงุฏู ุงุฒ <strong>PriorityComparer</strong>:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> wishList = <span class="hljs-keyword">new</span> List&lt;Wish&gt;();
wishList.Add(<span class="hljs-keyword">new</span> Wish(<span class="hljs-string">&quot;Peace&quot;</span>, <span class="hljs-number">2</span>));
wishList.Add(<span class="hljs-keyword">new</span> Wish(<span class="hljs-string">&quot;Wealth&quot;</span>, <span class="hljs-number">3</span>));
wishList.Add(<span class="hljs-keyword">new</span> Wish(<span class="hljs-string">&quot;Love&quot;</span>, <span class="hljs-number">2</span>));
wishList.Add(<span class="hljs-keyword">new</span> Wish(<span class="hljs-string">&quot;3 more wishes&quot;</span>, <span class="hljs-number">1</span>));

wishList.Sort(<span class="hljs-keyword">new</span> PriorityComparer());

<span class="hljs-keyword">foreach</span> (Wish w <span class="hljs-keyword">in</span> wishList)
    Console.Write(w.Name + <span class="hljs-string">&quot; | &quot;</span>);
<span class="hljs-comment">// OUTPUT: 3 more wishes | Love | Peace | Wealth |</span>
</code></pre>
<hr>
<h3>ูุซุงู: ูุฑุชุจโุณุงุฒ ุฑุดุชูโูุง ุจุฑุง ุฏูุชุฑฺู ุชููู</h3>
<pre class="hljs"><code><span class="hljs-keyword">class</span> <span class="hljs-title">SurnameComparer</span> : <span class="hljs-title">Comparer</span>&lt;<span class="hljs-title">string</span>&gt;
{
    <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">Normalize</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> s</span>)</span>
    {
        s = s.Trim().ToUpper();
        <span class="hljs-keyword">if</span> (s.StartsWith(<span class="hljs-string">&quot;MC&quot;</span>)) s = <span class="hljs-string">&quot;MAC&quot;</span> + s.Substring(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> s;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Compare</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> x, <span class="hljs-built_in">string</span> y</span>)</span>
        =&gt; Normalize(x).CompareTo(Normalize(y));
}
</code></pre>
<p>ุงุณุชูุงุฏู ุฏุฑ ฺฉ <strong>SortedDictionary</strong>:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> dic = <span class="hljs-keyword">new</span> SortedDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;(<span class="hljs-keyword">new</span> SurnameComparer());
dic.Add(<span class="hljs-string">&quot;MacPhail&quot;</span>, <span class="hljs-string">&quot;second!&quot;</span>);
dic.Add(<span class="hljs-string">&quot;MacWilliam&quot;</span>, <span class="hljs-string">&quot;third!&quot;</span>);
dic.Add(<span class="hljs-string">&quot;McDonald&quot;</span>, <span class="hljs-string">&quot;first!&quot;</span>);

<span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">string</span> s <span class="hljs-keyword">in</span> dic.Values)
    Console.Write(s + <span class="hljs-string">&quot; &quot;</span>);  <span class="hljs-comment">// first! second! third!</span>
</code></pre>
<hr>
<h3>๐ค StringComparer</h3>
<p><code>StringComparer</code> ฺฉ ฺฉูุงุณ plug-in ูพุดโูุฑุถ ุจุฑุง <strong>ุจุฑุงุจุฑ ู ููุงุณู ุฑุดุชูโูุง</strong> ุงุณุช ฺฉู ุงูฺฉุงู ุชุนู <strong>ุฒุจุงู ู ุญุณุงุณุช ุจู ุญุฑูู ุจุฒุฑฺฏ/ฺฉูฺฺฉ</strong> ุฑุง ูโุฏูุฏ.<br>
ุงู ฺฉูุงุณ ูู <strong>IEqualityComparer</strong> ู ูู <strong>IComparer</strong> (ูุณุฎูโูุง generic ู nongeneric) ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุจูุงุจุฑุงู ูโุชูุงู ุงุฒ ุขู ุจุง ูุฑ ููุน dictionary ุง collection ูุฑุชุจ ุงุณุชูุงุฏู ฺฉุฑุฏ.</p>
<p>ฺูู StringComparer ุงูุชุฒุงุน ุงุณุชุ ูููููโูุง ุงุฒ ุทุฑู <strong>static properties</strong> ุขู ุจุฏุณุช ูโุขูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer CurrentCulture { <span class="hljs-keyword">get</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer CurrentCultureIgnoreCase { <span class="hljs-keyword">get</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer InvariantCulture { <span class="hljs-keyword">get</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer InvariantCultureIgnoreCase { <span class="hljs-keyword">get</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer Ordinal { <span class="hljs-keyword">get</span>; }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer OrdinalIgnoreCase { <span class="hljs-keyword">get</span>; }
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> StringComparer <span class="hljs-title">Create</span>(<span class="hljs-params">CultureInfo culture, <span class="hljs-built_in">bool</span> ignoreCase</span>)</span>;
</code></pre>
<p>ูุซุงู: ุฏฺฉุดูุฑ ุญุณุงุณ ุจู ุญุฑูู ฺฉู <code>&quot;Joe&quot;</code> ู <code>&quot;JOE&quot;</code> ุฑุง ุจุฑุงุจุฑ ูโุฏุงูุฏ:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> dict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;(StringComparer.OrdinalIgnoreCase);
</code></pre>
<p>ูุซุงู ูุฑุชุจโุณุงุฒ ุขุฑุงูโุง ุจุง ุฒุจุงู <strong>ุงูฺฏูุณ ุงุณุชุฑุงูุง</strong>:</p>
<pre class="hljs"><code><span class="hljs-built_in">string</span>[] names = { <span class="hljs-string">&quot;Tom&quot;</span>, <span class="hljs-string">&quot;HARRY&quot;</span>, <span class="hljs-string">&quot;sheila&quot;</span> };
CultureInfo ci = <span class="hljs-keyword">new</span> CultureInfo(<span class="hljs-string">&quot;en-AU&quot;</span>);
Array.Sort&lt;<span class="hljs-built_in">string</span>&gt;(names, StringComparer.Create(ci, <span class="hljs-literal">false</span>));
</code></pre>
<p>ูุณุฎูโุง culture-aware ุงุฒ <strong>SurnameComparer</strong>:</p>
<pre class="hljs"><code><span class="hljs-keyword">class</span> <span class="hljs-title">SurnameComparer</span> : <span class="hljs-title">Comparer</span>&lt;<span class="hljs-title">string</span>&gt;
{
    StringComparer strCmp;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SurnameComparer</span>(<span class="hljs-params">CultureInfo ci</span>)</span>
    {
        <span class="hljs-comment">// ุงุฌุงุฏ string comparer ุญุณุงุณ ุจู ูุฑููฺฏ ู ุญุณุงุณ ุจู ุญุฑูู</span>
        strCmp = StringComparer.Create(ci, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">Normalize</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> s</span>)</span>
    {
        s = s.Trim();
        <span class="hljs-keyword">if</span> (s.ToUpper().StartsWith(<span class="hljs-string">&quot;MC&quot;</span>)) s = <span class="hljs-string">&quot;MAC&quot;</span> + s.Substring(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> s;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Compare</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> x, <span class="hljs-built_in">string</span> y</span>)</span>
    {
        <span class="hljs-keyword">return</span> strCmp.Compare(Normalize(x), Normalize(y));
    }
}
</code></pre>
<hr>
<h3>โ๏ธ IStructuralEquatable ู IStructuralComparable</h3>
<p>ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ถ ฺฏูุชูุ <strong>structูุง ุจู ุทูุฑ ูพุดโูุฑุถ</strong> ููุงุณู ุณุงุฎุชุงุฑ ุฏุงุฑูุฏ: ุฏู struct ุจุฑุงุจุฑ ูุณุชูุฏ ุงฺฏุฑ ุชูุงู ููุฏูุงุดุงู ุจุฑุงุจุฑ ุจุงุดูุฏ.<br>
ฺฏุงู ุงููุงุชุ <strong>ุจุฑุงุจุฑ ู ูุฑุชุจโุณุงุฒ ุณุงุฎุชุงุฑ</strong> ุจุฑุง ุงููุงุน ุฏฺฏุฑ ูุงููุฏ ุขุฑุงูโูุง ูุฒ ููุฏ ุงุณุช.</p>
<pre class="hljs"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IStructuralEquatable</span>
{
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Equals</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> other, IEqualityComparer comparer</span>)</span>;
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">GetHashCode</span>(<span class="hljs-params">IEqualityComparer comparer</span>)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IStructuralComparable</span>
{
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">CompareTo</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> other, IComparer comparer</span>)</span>;
}
</code></pre>
<p><strong>IEqualityComparer / IComparer</strong> ฺฉู ูพุงุณ ุฏุงุฏู ูโุดููุฏุ ุฑู <strong>ูุฑ ุนูุตุฑ ุงุฒ ุดุก ูุฑฺฉุจ</strong> ุงุนูุงู ูโุดููุฏ.</p>
<p>ูุซุงู ููุงุณู ุขุฑุงูโูุง:</p>
<pre class="hljs"><code><span class="hljs-built_in">int</span>[] a1 = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
<span class="hljs-built_in">int</span>[] a2 = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> };
IStructuralEquatable se1 = a1;

Console.Write(a1.Equals(a2));                                  <span class="hljs-comment">// False</span>
Console.Write(se1.Equals(a2, EqualityComparer&lt;<span class="hljs-built_in">int</span>&gt;.Default));  <span class="hljs-comment">// True</span>
</code></pre>
<p>ูุซุงู ุฏฺฏุฑ:</p>
<pre class="hljs"><code><span class="hljs-built_in">string</span>[] a1 = <span class="hljs-string">&quot;the quick brown fox&quot;</span>.Split();
<span class="hljs-built_in">string</span>[] a2 = <span class="hljs-string">&quot;THE QUICK BROWN FOX&quot;</span>.Split();
IStructuralEquatable se1 = a1;
<span class="hljs-built_in">bool</span> isTrue = se1.Equals(a2, StringComparer.InvariantCultureIgnoreCase);
</code></pre>

</main>


 

  <!-- ููุชุฑ ูุดุชุฑฺฉ -->
  <footer class="footer">
    <div class="container">
      <p>
        <img src="/icone/copyright.svg" alt="ฺฉูพโุฑุงุช" width="14" height="14"
             style="vertical-align:middle;margin-inline:4px">
        <span id="y"></span> Gitab โ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู
      </p>
    </div>
  </footer>

  <!-- ุณุงู + ุงุณฺฉุฑูพุช ุชู -->
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    (() => {
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');
      const KEY = 'gitab-theme';
      const media = window.matchMedia('(prefers-color-scheme: dark)');
      const getEffective = s => s === 'auto' ? (media.matches ? 'dark' : 'light') : s;
      function updateTheme(s) {
        root.setAttribute('data-theme', s);
        const mode = getEffective(s);
        root.dataset.colorMode = mode;
        btn.dataset.icon = mode === 'dark' ? 'moon' : 'sun';
      }
      const saved = localStorage.getItem(KEY) || 'auto';
      updateTheme(saved);
      btn.addEventListener('click', () => {
        const curr = localStorage.getItem(KEY) || 'auto';
        const next = curr === 'auto' ? 'dark' : curr === 'dark' ? 'light' : 'auto';
        localStorage.setItem(KEY, next);
        updateTheme(next);
      });
      media.addEventListener('change', () => {
        if ((localStorage.getItem(KEY) || 'auto') === 'auto') updateTheme('auto');
      });
      window.addEventListener('DOMContentLoaded', () => updateTheme(saved));
    })();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script>
document.querySelectorAll('pre code').forEach(block => {
  const btn = document.createElement('button');
  btn.className = 'copy-btn';

  const icon = document.createElement('img');
  icon.src = '/icone/copy.svg';
  icon.alt = 'Copy';
  btn.appendChild(icon);

  block.parentNode.insertBefore(btn, block);

  btn.addEventListener('click', async () => {
    await navigator.clipboard.writeText(block.textContent);
    btn.classList.add('copied');
    setTimeout(() => btn.classList.remove('copied'), 1500);
  });
});
</script>
<script>
  document.body.dataset.page = window.location.pathname;
</script>

</body>

</html>
