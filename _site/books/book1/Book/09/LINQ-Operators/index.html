<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gitab | Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡Ù” ØªØ±Ø¬Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Øªâ€ŒÙ†Øª Ùˆ Ø³ÛŒ Ø´Ø§Ø±Ù¾</title>
  <meta name="description" content="ØªØ±Ø¬Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ ÙÙ†ÛŒ â€” Ø³Ø±ÛŒØ¹ØŒ Ù…ÛŒÙ†ÛŒÙ…Ø§Ù„ Ùˆ Ù‚Ø§Ø¨Ù„ Ø§ØªÚ©Ø§.">
  <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
  <!-- Ù‡Ø¯Ø± Ù…Ø´ØªØ±Ú© -->
  <header class="header">
    <div class="container nav-wrap">
      <a class="brand" href="/">
        <img src="/icone/logo.svg" alt="Gitab" width="28" height="28">
        <span>Gitab</span>
      </a>

      <nav class="nav">
        <a href="/">Ø®Ø§Ù†Ù‡</a>
        <a href="/books/list-books">Ú©ØªØ§Ø¨â€ŒÙ‡Ø§</a>
        <a href="#">Ù‡Ù…Ú©Ø§Ø±ÛŒ</a>
        <a href="#">Ø¯Ø±Ø¨Ø§Ø±Ù‡â€ŒÙ…Ø§</a>
      </nav>

     <div class="nav-actions">
  <button id="themeToggle" class="icon-btn theme-btn" aria-label="ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª">
    <img class="icon-sun" src="/icone/sun.svg" alt="Ø±ÙˆØ´Ù†">
    <img class="icon-moon" src="/icone/moon.svg" alt="ØªØ§Ø±ÛŒÚ©">
  </button>

  <a class="icon-btn" href="https://github.com/hheydarian/Gitab" target="_blank" title="GitHub">
    <img src="/icone/github.svg" alt="GitHub">
  </a>
</div>

  </header>

  <!-- Ù…Ø­ØªÙˆØ§ÛŒ ØµÙØ­Ù‡ -->
  <main class="site-main">
    <h1>ÙØµÙ„ Ù†Ù‡Ù…:  LINQ Operators</h1>
<p>Ø§ÛŒÙ† ÙØµÙ„ Ø¨Ù‡ Ø¨Ø±Ø±Ø³ÛŒ ØªÚ©â€ŒØªÚ© <strong>Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ LINQ</strong> Ù…ÛŒâ€ŒÙ¾Ø±Ø¯Ø§Ø²Ø¯. Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† ÛŒÚ© Ù…Ø±Ø¬Ø¹ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø¯Ùˆ Ø¨Ø®Ø´ <strong>Â«ProjectingÂ»</strong> (Ø¯Ø± ØµÙØ­Ù‡ Û´Û·Û³) Ùˆ <strong>Â«JoiningÂ»</strong> (Ø¯Ø± ØµÙØ­Ù‡ Û´Û·Û³) Ù…ÙØ§Ù‡ÛŒÙ… Ù…Ù‡Ù…ÛŒ Ø±Ø§ Ù¾ÙˆØ´Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯:</p>
<ul>
<li>ğŸ“Œ <strong>Projecting object hierarchies</strong> (Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ Ø§Ø´ÛŒØ§Ø¡)</li>
<li>ğŸ“Œ <strong>Joining</strong> Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>Select</code>ØŒ <code>SelectMany</code>ØŒ <code>Join</code> Ùˆ <code>GroupJoin</code></li>
<li>ğŸ“Œ <strong>Query expressions with multiple range variables</strong> (Ø¹Ø¨Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ú©ÙˆØ¦Ø±ÛŒ Ø¨Ø§ Ú†Ù†Ø¯ Ù…ØªØºÛŒØ± Ø¯Ø§Ù…Ù†Ù‡â€ŒØ§ÛŒ)</li>
</ul>
<hr>
<h3>ğŸ”¤ Ù…Ø«Ø§Ù„ Ù¾Ø§ÛŒÙ‡</h3>
<p>ØªÙ…Ø§Ù…ÛŒ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ† ÙØµÙ„ ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ú©Ù‡ ÛŒÚ© Ø¢Ø±Ø§ÛŒÙ‡ Ø§Ø² Ù†Ø§Ù…â€ŒÙ‡Ø§ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª:</p>
<pre><code class="language-csharp">string[] names = { &quot;Tom&quot;, &quot;Dick&quot;, &quot;Harry&quot;, &quot;Mary&quot;, &quot;Jay&quot; };
</code></pre>
<p>Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø§ÛŒÚ¯Ø§Ù‡â€ŒØ¯Ø§Ø¯Ù‡ Ù‡Ø³ØªÙ†Ø¯ ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ø´ÛŒØ¡ Ø²ÛŒØ± Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª:</p>
<pre><code class="language-csharp">var dbContext = new NutshellContext();
</code></pre>
<p>Ú©Ù‡ Ú©Ù„Ø§Ø³ <code>NutshellContext</code> Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª:</p>
<pre><code class="language-csharp">public class NutshellContext : DbContext
{
    public DbSet&lt;Customer&gt; Customers { get; set; }
    public DbSet&lt;Purchase&gt; Purchases { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity&lt;Customer&gt;(entity =&gt;
        {
            entity.ToTable(&quot;Customer&quot;);
            entity.Property(e =&gt; e.Name).IsRequired();  // Ø³ØªÙˆÙ† ØºÛŒØ±Ù‚Ø§Ø¨Ù„ ØªÙ‡ÛŒ
        });

        modelBuilder.Entity&lt;Purchase&gt;(entity =&gt;
        {
            entity.ToTable(&quot;Purchase&quot;);
            entity.Property(e =&gt; e.Date).IsRequired();
            entity.Property(e =&gt; e.Description).IsRequired();
        });
    }
}
</code></pre>
<hr>
<h3>ğŸ§‘â€ğŸ’» ØªØ¹Ø±ÛŒÙ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§</h3>
<pre><code class="language-csharp">public class Customer
{
    public int ID { get; set; }
    public string Name { get; set; }
    public virtual List&lt;Purchase&gt; Purchases { get; set; }
        = new List&lt;Purchase&gt;();
}

public class Purchase
{        
    public int ID { get; set; }
    public int? CustomerID { get; set; }
    public DateTime Date { get; set; }
    public string Description { get; set; }
    public decimal Price { get; set; }
    public virtual Customer Customer { get; set; }
}
</code></pre>
<hr>
<h3>ğŸ›  Ø§Ø¨Ø²Ø§Ø± LINQPad</h3>
<p>ØªÙ…Ø§Ù…ÛŒ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ† ÙØµÙ„ Ø¯Ø± <strong>LINQPad</strong> Ø§Ø² Ù¾ÛŒØ´ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ØŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ ÛŒÚ© Ù¾Ø§ÛŒÚ¯Ø§Ù‡â€ŒØ¯Ø§Ø¯Ù‡ Ù†Ù…ÙˆÙ†Ù‡ Ú©Ù‡ <strong>Schema</strong> Ù…Ø´Ø§Ø¨Ù‡ÛŒ Ø¯Ø§Ø±Ø¯.
ğŸ“¥ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ LINQPad Ø±Ø§ Ø§Ø² <a href="http://www.linqpad.net">www.linqpad.net</a> Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯.</p>
<hr>
<h3>ğŸ—„ ØªØ¹Ø±ÛŒÙ Ø¬Ø¯ÙˆÙ„â€ŒÙ‡Ø§ÛŒ SQL Server Ù…ØªÙ†Ø§Ø¸Ø±</h3>
<pre><code class="language-sql">CREATE TABLE Customer (
    ID int NOT NULL IDENTITY PRIMARY KEY,
    Name nvarchar(30) NOT NULL
)

CREATE TABLE Purchase (
    ID int NOT NULL IDENTITY PRIMARY KEY,
    CustomerID int NOT NULL REFERENCES Customer(ID),
    Date datetime NOT NULL,
    Description nvarchar(30) NOT NULL,
    Price decimal NOT NULL
)
</code></pre>
<hr>
<h2>ğŸ” Ù…Ø±ÙˆØ± Ú©Ù„ÛŒ (Overview)</h2>
<p>Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ØŒ ÛŒÚ© Ù…Ø±ÙˆØ± Ú©Ù„ÛŒ Ø¨Ø± <strong>Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ú©ÙˆØ¦Ø±ÛŒ</strong> Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…. Ø§ÛŒÙ† Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ Ø¯Ø± Ø³Ù‡ Ø¯Ø³ØªÙ‡ ØªÙ‚Ø³ÛŒÙ… Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:</p>
<ol>
<li>ğŸ“Œ <strong>Sequence in, sequence out (sequence â†’ sequence)</strong>
â ÛŒØ¹Ù†ÛŒ ÙˆØ±ÙˆØ¯ÛŒ ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ (sequence) Ø§Ø³Øª Ùˆ Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ù… ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡.</li>
<li>ğŸ“Œ <strong>Sequence in, single element or scalar value out</strong>
â ÛŒØ¹Ù†ÛŒ ÙˆØ±ÙˆØ¯ÛŒ ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø§Ø³Øª Ø§Ù…Ø§ Ø®Ø±ÙˆØ¬ÛŒ ÙÙ‚Ø· ÛŒÚ© Ø¹Ù†ØµØ± ÛŒØ§ ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ù…Ù†ÙØ±Ø¯.</li>
<li>ğŸ“Œ <strong>Nothing in, sequence out (generation methods)</strong>
â ÛŒØ¹Ù†ÛŒ Ù‡ÛŒÚ† ÙˆØ±ÙˆØ¯ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ø®Ø±ÙˆØ¬ÛŒ ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
</ol>
<hr>
<p>Ù…Ø§ Ø§Ø¨ØªØ¯Ø§ Ù‡Ø± Ø³Ù‡ Ø¯Ø³ØªÙ‡ Ø±Ø§ Ù…Ø¹Ø±ÙÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ø±Ú©Ø¯Ø§Ù… Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ø³Ù¾Ø³ Ø¨Ù‡â€ŒØ·ÙˆØ± Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø³Ø±Ø§Øº ØªÚ©â€ŒØªÚ© Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø±ÙØª.</p>
<hr>
<h2>ğŸ”„ Sequence â†’ Sequence</h2>
<p>Ø¨ÛŒØ´ØªØ± Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ LINQ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯. Ø¢Ù†â€ŒÙ‡Ø§ ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø±Ø§ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† ÙˆØ±ÙˆØ¯ÛŒ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯ Ùˆ Ø¯Ø± Ø®Ø±ÙˆØ¬ÛŒ ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
<p>ğŸ“Š <strong>Ø´Ú©Ù„ Û¹-Û±</strong> Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§ Ø±Ø§ ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.</p>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-1.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“– Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ LINQ â€“ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3>
<p>Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ØŒ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ LINQ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ ÙˆØ±ÙˆØ¯ÛŒ Ùˆ Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø±ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ù‡Ø± Ø¯Ø³ØªÙ‡ Ø¨Ø§ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ Ùˆ ØªÙˆØ¶ÛŒØ­ Ú©ÙˆØªØ§Ù‡ Ù…Ø¹Ø±ÙÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<hr>
<h2>ğŸ” Filtering (ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù†)</h2>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code></p>
<p>ğŸ”¹ ÙˆØ¸ÛŒÙÙ‡: Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† ÛŒÚ© Ø²ÛŒØ±Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ø² Ø¹Ù†Ø§ØµØ± Ø§ØµÙ„ÛŒ.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>Where</code>, <code>Take</code>, <code>TakeLast</code>, <code>TakeWhile</code>, <code>Skip</code>, <code>SkipLast</code>, <code>SkipWhile</code>,
<code>Distinct</code>, <code>DistinctBy</code></p>
<hr>
<h2>ğŸ¨ Projecting (ØªØ¨Ø¯ÛŒÙ„/Ù†Ù…Ø§ÛŒØ´)</h2>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>IEnumerable&lt;TResult&gt;</code></p>
<p>ğŸ”¹ ÙˆØ¸ÛŒÙÙ‡: ØªØºÛŒÛŒØ± Ø´Ú©Ù„ Ù‡Ø± Ø¹Ù†ØµØ± Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© <strong>lambda function</strong>.</p>
<ul>
<li><code>SelectMany</code> Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙˆ Ø¯Ø± ØªÙˆ (nested sequences) Ø±Ø§ <strong>Ù…Ø³Ø·Ø­â€ŒØ³Ø§Ø²ÛŒ (flatten)</strong> Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li><code>Select</code> Ùˆ <code>SelectMany</code> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„Ù <strong>Join</strong> (Ù…Ø§Ù†Ù†Ø¯ inner join, left outer join, cross join, non-equi join) Ø±Ø§ Ø¨Ø§ <strong>EF Core</strong> Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ù†Ø¯.</li>
</ul>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>Select</code>, <code>SelectMany</code></p>
<hr>
<h2>ğŸ”— Joining (Ø§ØªØµØ§Ù„/ØªØ±Ú©ÛŒØ¨)</h2>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong>
<code>IEnumerable&lt;TOuter&gt;, IEnumerable&lt;TInner&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong>
<code>IEnumerable&lt;TResult&gt;</code></p>
<p>ğŸ”¹ ÙˆØ¸ÛŒÙÙ‡: ØªØ±Ú©ÛŒØ¨ Ø¹Ù†Ø§ØµØ± ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø¨Ø§ Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒØ§ÛŒ Ø¯ÛŒÚ¯Ø±.</p>
<ul>
<li><code>Join</code> Ùˆ <code>GroupJoin</code> Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø§ÛŒÛŒ Ø¨Ù‡ØªØ± Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ùˆ Ø§Ø² <strong>inner join</strong> Ùˆ <strong>left outer join</strong> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</li>
<li><code>Zip</code> Ø¯Ùˆ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø±Ø§ Ù‡Ù…â€ŒØ²Ù…Ø§Ù† Ù¾ÛŒÙ…Ø§ÛŒØ´ Ú©Ø±Ø¯Ù‡ Ùˆ Ø±ÙˆÛŒ Ù‡Ø± Ø¬ÙØª Ø¹Ù†ØµØ± ÛŒÚ© ØªØ§Ø¨Ø¹ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>Join</code>, <code>GroupJoin</code>, <code>Zip</code></p>
<hr>
<h2>ğŸ“‘ Ordering (Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ)</h2>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>IOrderedEnumerable&lt;TSource&gt;</code></p>
<p>ğŸ”¹ ÙˆØ¸ÛŒÙÙ‡: Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø¨Ø§ ØªØ±ØªÛŒØ¨ Ø¬Ø¯ÛŒØ¯.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>OrderBy</code>, <code>OrderByDescending</code>, <code>ThenBy</code>, <code>ThenByDescending</code>, <code>Reverse</code></p>
<hr>
<h2>ğŸ—‚ Grouping (Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ)</h2>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong></p>
<ul>
<li><code>IEnumerable&lt;IGrouping&lt;TKey,TElement&gt;&gt;</code></li>
<li>ÛŒØ§ <code>IEnumerable&lt;TElement[]&gt;</code></li>
</ul>
<p>ğŸ”¹ ÙˆØ¸ÛŒÙÙ‡: ØªÙ‚Ø³ÛŒÙ… ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø¨Ù‡ Ø²ÛŒØ±â€ŒØ¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÙ‡Ø§.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>GroupBy</code>, <code>Chunk</code></p>
<hr>
<h2>ğŸ”€ Set Operators (Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ)</h2>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong>
<code>IEnumerable&lt;TSource&gt;, IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong>
<code>IEnumerable&lt;TSource&gt;</code></p>
<p>ğŸ”¹ ÙˆØ¸ÛŒÙÙ‡: Ú¯Ø±ÙØªÙ† Ø¯Ùˆ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ù‡Ù…â€ŒÙ†ÙˆØ¹ Ùˆ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø§Ø´ØªØ±Ø§Ú©ØŒ Ø§Ø¬ØªÙ…Ø§Ø¹ ÛŒØ§ ØªÙØ§ÙˆØª Ø¢Ù†â€ŒÙ‡Ø§.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>Concat</code>, <code>Union</code>, <code>UnionBy</code>, <code>Intersect</code>, <code>IntersectBy</code>, <code>Except</code>, <code>ExceptBy</code></p>
<hr>
<h2>ğŸ”„ Conversion Methods (ØªØ¨Ø¯ÛŒÙ„)</h2>
<h3>ğŸ›  Import</h3>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>IEnumerable&lt;TResult&gt;</code></p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>OfType</code>, <code>Cast</code></p>
<h3>ğŸ“¤ Export</h3>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> ÛŒÚ© Ø¢Ø±Ø§ÛŒÙ‡ØŒ Ù„ÛŒØ³ØªØŒ Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒØŒ Lookup ÛŒØ§ Ø¯Ù†Ø¨Ø§Ù„Ù‡</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>ToArray</code>, <code>ToList</code>, <code>ToDictionary</code>, <code>ToLookup</code>, <code>AsEnumerable</code>, <code>AsQueryable</code></p>
<hr>
<h2>ğŸ¯ Sequence â†’ Element or Value</h2>
<h3>ğŸ”¹ Element Operators (Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù†ØµØ±)</h3>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>TSource</code></p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>First</code>, <code>FirstOrDefault</code>, <code>Last</code>, <code>LastOrDefault</code>,
<code>Single</code>, <code>SingleOrDefault</code>, <code>ElementAt</code>, <code>ElementAtOrDefault</code>,
<code>MinBy</code>, <code>MaxBy</code>, <code>DefaultIfEmpty</code></p>
<hr>
<h3>ğŸ”¹ Aggregation Methods (ØªØ¬Ù…ÛŒØ¹)</h3>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ù…Ù†ÙØ±Ø¯ (scalar)</p>
<p>ğŸ“Œ ÙˆØ¸ÛŒÙÙ‡: Ø§Ù†Ø¬Ø§Ù… Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø±ÙˆÛŒ ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ Ù…Ø´Ø§Ø¨Ù‡ Ø¢Ù†.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>Aggregate</code>, <code>Average</code>, <code>Count</code>, <code>LongCount</code>, <code>Sum</code>, <code>Max</code>, <code>Min</code></p>
<hr>
<h3>ğŸ”¹ Quantifiers (Ú©ÙˆØ§Ù†ØªÛŒÙØ§ÛŒØ±Ù‡Ø§)</h3>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>IEnumerable&lt;TSource&gt;</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>bool</code></p>
<p>ğŸ“Œ ÙˆØ¸ÛŒÙÙ‡: Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù†ØªÛŒØ¬Ù‡ <strong>true/false</strong> Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† ÛŒÚ© ØªØ¬Ù…ÛŒØ¹.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>All</code>, <code>Any</code>, <code>Contains</code>, <code>SequenceEqual</code></p>
<hr>
<h2>ğŸŒ€ Void â†’ Sequence</h2>
<h3>ğŸ”¹ Generation Methods (ØªÙˆÙ„ÛŒØ¯)</h3>
<p><strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> <code>void</code>
<strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> <code>IEnumerable&lt;TResult&gt;</code></p>
<p>ğŸ“Œ ÙˆØ¸ÛŒÙÙ‡: Ø³Ø§Ø®Øª ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø³Ø§Ø¯Ù‡ Ø§Ø² ØµÙØ±.</p>
<p>ğŸ“Œ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§:
<code>Empty</code>, <code>Range</code>, <code>Repeat</code></p>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-2.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“– Ù†Ú©ØªÙ‡ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø³ØªÙˆÙ† Â«SQL equivalentsÂ»</h3>
<p>Ø¯Ø± Ø¬Ø¯ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¬Ø¹ Ø§ÛŒÙ† ÙØµÙ„ØŒ Ø³ØªÙˆÙ† <strong>Â«SQL equivalentsÂ»</strong> Ù„Ø²ÙˆÙ…Ø§Ù‹ Ù‡Ù…Ø§Ù† Ú†ÛŒØ²ÛŒ Ù†ÛŒØ³Øª Ú©Ù‡ ÛŒÚ© Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ <code>IQueryable</code> Ù…Ø«Ù„ <strong>EF Core</strong> ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
Ø¨Ù„Ú©Ù‡ Ø§ÛŒÙ† Ø³ØªÙˆÙ† Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ø§Ú¯Ø± Ø®ÙˆØ¯ØªØ§Ù† Ù…ÛŒâ€ŒØ®ÙˆØ§Ø³ØªÛŒØ¯ Ù…Ø¹Ø§Ø¯Ù„ Ø¢Ù† Ú©ÙˆØ¦Ø±ÛŒ Ø±Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† <strong>SQL</strong> Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ØŒ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø§Ø² Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ø±Ø¯ÛŒØ¯.</p>
<ul>
<li>Ø§Ú¯Ø± Ù…Ø¹Ø§Ø¯Ù„ Ø³Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø³ØªÙˆÙ† Ø®Ø§Ù„ÛŒ Ø±Ù‡Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
<li>Ø§Ú¯Ø± Ù‡ÛŒÚ† Ù…Ø¹Ø§Ø¯Ù„ÛŒ Ø¯Ø± SQL ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¹Ø¨Ø§Ø±Øª <strong>Â«Exception thrownÂ»</strong> Ø¯Ø±Ø¬ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
</ul>
<hr>
<h3>ğŸ§‘â€ğŸ’» Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Enumerable</h3>
<p>ÙˆÙ‚ØªÛŒ Ú©Ø¯ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ <code>Enumerable</code> Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ø¯Ø± Ø¢Ù† Ø­Ø°Ù Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯:</p>
<ul>
<li>Ø¨Ø±Ø±Ø³ÛŒ Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ <strong>null</strong></li>
<li>Ø¨Ø±Ø±Ø³ÛŒ <strong>indexing predicates</strong></li>
</ul>
<hr>
<h3>ğŸ” Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…ØªØ¯Ù‡Ø§ÛŒ Filtering</h3>
<p>Ø¯Ø± Ù‡Ø± ÛŒÚ© Ø§Ø² Ù…ØªØ¯Ù‡Ø§ÛŒ <strong>Filtering</strong>ØŒ Ù‡Ù…ÛŒØ´Ù‡ Ø®Ø±ÙˆØ¬ÛŒ Ø´Ø§Ù…Ù„ Ù‡Ù…Ø§Ù† ØªØ¹Ø¯Ø§Ø¯ ÛŒØ§ <strong>Ú©Ù…ØªØ±</strong> Ø§Ø² Ø¹Ù†Ø§ØµØ±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¯Ø± ÙˆØ±ÙˆØ¯ÛŒ Ø¯Ø§Ø´ØªÛŒØ¯.
âš ï¸ Ù‡ÛŒÚ†â€ŒÙˆÙ‚Øª Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¹Ù†Ø§ØµØ± Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ø² Ø¢Ù†Ú†Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ Ø¨Ù‡ Ø¯Ø³Øª Ø¨ÛŒØ§ÙˆØ±ÛŒØ¯!
Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†ØŒ Ø¹Ù†Ø§ØµØ±ÛŒ Ú©Ù‡ Ø¯Ø± Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ <strong>ØªØ¨Ø¯ÛŒÙ„ ÛŒØ§ ØªØºÛŒÛŒØ± Ø´Ú©Ù„ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</strong>Ø› Ø¢Ù†â€ŒÙ‡Ø§ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…Ø§Ù† Ø¹Ù†Ø§ØµØ±ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø¯Ø± ÙˆØ±ÙˆØ¯ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ†Ø¯.</p>
<hr>
<h2>ğŸ“ Where</h2>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-3.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“– Where Ø¯Ø± LINQ</h3>
<hr>
<h3>âš ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§</h3>
<ul>
<li>âŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>Where</code> Ø¯Ø± <strong>LINQ to SQL</strong> Ùˆ <strong>Entity Framework (EF Core)</strong> Ø¯Ø§Ø±Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø³Øª (Ø¨Ø±Ø®ÛŒ Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯).</li>
</ul>
<hr>
<h3>ğŸ“ Ø³ÛŒÙ†ØªÚ©Ø³ Ú©ÙˆØ¦Ø±ÛŒ</h3>
<pre><code class="language-csharp">where bool-expression
</code></pre>
<hr>
<h3>ğŸ”§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Enumerable.Where</h3>
<p>Ù†Ø³Ø®Ù‡ Ø¯Ø§Ø®Ù„ÛŒ <code>Enumerable.Where</code> (Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ø±Ø³ÛŒ null) Ù…Ø¹Ø§Ø¯Ù„ Ú©Ø¯ÛŒ Ø´Ø¨ÛŒÙ‡ Ø²ÛŒØ± Ø§Ø³Øª:</p>
<pre><code class="language-csharp">public static IEnumerable&lt;TSource&gt; Where&lt;TSource&gt;(
    this IEnumerable&lt;TSource&gt; source,
    Func&lt;TSource, bool&gt; predicate)
{
    foreach (TSource element in source)
        if (predicate(element))
            yield return element;
}
</code></pre>
<hr>
<h3>ğŸ“Œ ØªÙˆØ¶ÛŒØ­</h3>
<p><code>Where</code> Ø¹Ù†Ø§ØµØ±ÛŒ Ø§Ø² Ø¯Ù†Ø¨Ø§Ù„Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ú©Ù‡ Ø´Ø±Ø· Ø¯Ø§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ (<strong>predicate</strong>) Ø±Ø§ Ø¨Ø±Ø¢ÙˆØ±Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
<hr>
<h3>âœ¨ Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡</h3>
<pre><code class="language-csharp">string[] names = { &quot;Tom&quot;, &quot;Dick&quot;, &quot;Harry&quot;, &quot;Mary&quot;, &quot;Jay&quot; };

IEnumerable&lt;string&gt; query = names.Where(name =&gt; name.EndsWith(&quot;y&quot;));

// Ø®Ø±ÙˆØ¬ÛŒ:
// Harry
// Mary
// Jay
</code></pre>
<p>ğŸ”¹ Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ø± <strong>Query Syntax</strong>:</p>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query =
    from n in names
    where n.EndsWith(&quot;y&quot;)
    select n;
</code></pre>
<hr>
<h3>ğŸŒ€ Ú†Ù†Ø¯ Ø´Ø±Ø· Where Ø¯Ø± ÛŒÚ© Ú©ÙˆØ¦Ø±ÛŒ</h3>
<p>ÛŒÚ© Ø¹Ø¨Ø§Ø±Øª <code>where</code> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú†Ù†Ø¯ Ø¨Ø§Ø± Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒ Ø¸Ø§Ù‡Ø± Ø´ÙˆØ¯ Ùˆ Ø¨Ø§ <code>let</code>, <code>orderby</code>, ÛŒØ§ <code>join</code> ØªØ±Ú©ÛŒØ¨ Ø´ÙˆØ¯:</p>
<pre><code class="language-csharp">from n in names
where n.Length &gt; 3
let u = n.ToUpper()
where u.EndsWith(&quot;Y&quot;)
select u;

// Ø®Ø±ÙˆØ¬ÛŒ:
// HARRY
// MARY
</code></pre>
<p>ğŸ”¸ Ù‚ÙˆØ§Ù†ÛŒÙ† <strong>scoping</strong> Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ #C Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. ÛŒØ¹Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‚Ø¨Ù„ Ø§Ø² ØªØ¹Ø±ÛŒÙ ÛŒÚ© Ù…ØªØºÛŒØ± (Ø¨Ø§ <code>range variable</code> ÛŒØ§ <code>let</code>) Ø¨Ù‡ Ø¢Ù† Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ù‡ÛŒØ¯.</p>
<hr>
<h3>ğŸ”¢ Indexed Filtering (ÙÛŒÙ„ØªØ±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§ÛŒÙ†Ø¯Ú©Ø³)</h3>
<p><code>Where</code> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø§Ø®ØªÛŒØ§Ø±ÛŒ Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ø¯ÙˆÙ… Ø§Ø² Ù†ÙˆØ¹ <code>int</code> Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ø¯ (Ù†Ù…Ø§ÛŒØ§Ù†Ú¯Ø± <strong>Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¹Ù†ØµØ±</strong> Ø¯Ø± Ø¯Ù†Ø¨Ø§Ù„Ù‡). Ø§ÛŒÙ† ÙˆÛŒÚ˜Ú¯ÛŒ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ø¨Ø±Ø§Ø³Ø§Ø³ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯.</p>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = names.Where((n, i) =&gt; i % 2 == 0);

// Ø®Ø±ÙˆØ¬ÛŒ:
// Tom
// Harry
// Jay
</code></pre>
<p>âš ï¸ Ø¯Ø± <strong>EF Core</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØª Ø¨Ø§Ø¹Ø« <strong>Exception</strong> Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<hr>
<h3>ğŸ” Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ LIKE Ø¯Ø± EF Core</h3>
<p>Ù…ØªØ¯Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø¯Ø± Ø±Ø´ØªÙ‡â€ŒÙ‡Ø§ Ø¨Ù‡ <strong>SQL LIKE</strong> ØªØ±Ø¬Ù…Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:</p>
<ul>
<li><code>Contains</code></li>
<li><code>StartsWith</code></li>
<li><code>EndsWith</code></li>
</ul>
<p>Ù…Ø«Ø§Ù„:</p>
<pre><code class="language-csharp">c.Name.Contains(&quot;abc&quot;)
</code></pre>
<p>Ø¨Ù‡ SQL Ù…Ø¹Ø§Ø¯Ù„ Ø²ÛŒØ± ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
<pre><code class="language-sql">customer.Name LIKE '%abc%'
</code></pre>
<blockquote>
<p>(Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†Ø³Ø®Ù‡ <strong>Ù¾Ø§Ø±Ø§Ù…ØªØ±ÛŒâ€ŒØ´Ø¯Ù‡</strong> Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ù†Ù‡ Ø±Ø´ØªÙ‡ Ù…Ø³ØªÙ‚ÛŒÙ….)</p>
</blockquote>
<p>ğŸ”¹ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ <strong>Ø³ØªÙˆÙ† Ø¯ÛŒÚ¯Ø±</strong> Ø¨Ø§ÛŒØ¯ Ø§Ø² Ù…ØªØ¯ <code>EF.Functions.Like</code> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</p>
<pre><code class="language-csharp">where EF.Functions.Like(c.Description, &quot;%&quot; + c.Name + &quot;%&quot;)
</code></pre>
<p>Ø§ÛŒÙ† Ù…ØªØ¯ Ø§Ù…Ú©Ø§Ù† Ù…Ù‚Ø§ÛŒØ³Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø±Ø§ Ù‡Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ Ù…Ø«Ù„:</p>
<pre><code class="language-sql">LIKE 'abc%def%'
</code></pre>
<hr>
<h3>ğŸ”  Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø±Ø´ØªÙ‡â€ŒØ§ÛŒ Ø¨Ø§ &lt; Ùˆ &gt; Ø¯Ø± EF Core</h3>
<p>Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªØ±ØªÛŒØ¨ÛŒ Ø±Ø´ØªÙ‡â€ŒÙ‡Ø§ Ø§Ø² Ù…ØªØ¯ <code>string.CompareTo</code> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</p>
<pre><code class="language-csharp">dbContext.Purchases
    .Where(p =&gt; p.Description.CompareTo(&quot;C&quot;) &lt; 0);
</code></pre>
<p>ğŸ“Œ Ø§ÛŒÙ† Ú©Ø¯ Ø¨Ù‡ Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ <code>&lt;</code> Ùˆ <code>&gt;</code> Ø¯Ø± SQL Ù†Ú¯Ø§Ø´Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<hr>
<h3>ğŸ—‚ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² IN Ø¯Ø± EF Core</h3>
<p>Ø¯Ø± EF Core Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ <code>Contains</code> Ø±Ø§ Ø±ÙˆÛŒ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…Ø­Ù„ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</p>
<pre><code class="language-csharp">string[] chosenOnes = { &quot;Tom&quot;, &quot;Jay&quot; };

from c in dbContext.Customers
where chosenOnes.Contains(c.Name)
select c;
</code></pre>
<p>Ù…Ø¹Ø§Ø¯Ù„ SQL:</p>
<pre><code class="language-sql">WHERE customer.Name IN (&quot;Tom&quot;, &quot;Jay&quot;)
</code></pre>
<p>âš ï¸ Ø§Ú¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…Ø­Ù„ÛŒ Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø² <strong>entity</strong> ÛŒØ§ Ù†ÙˆØ¹ ØºÛŒØ± scalar Ø¨Ø§Ø´Ø¯ØŒ EF Core Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ù‡â€ŒØ¬Ø§ÛŒ Ø¢Ù† <strong>EXISTS</strong> ØªÙˆÙ„ÛŒØ¯ Ú©Ù†Ø¯.</p>
<hr>
<h3>â© Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</h3>
<ul>
<li><code>Take</code></li>
<li><code>TakeLast</code></li>
<li><code>Skip</code></li>
<li><code>SkipLast</code></li>
</ul>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-4.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“– Take Ùˆ Skip Ø¯Ø± LINQ</h3>
<hr>
<h3>ğŸ“ ØªÙˆØ¶ÛŒØ­ Ú©Ù„ÛŒ</h3>
<ul>
<li>ğŸ”¹ Ù…ØªØ¯ <code>Take</code> Ø§ÙˆÙ„ÛŒÙ† <strong>n Ø¹Ù†ØµØ±</strong> Ø§Ø² Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¨Ù‚ÛŒÙ‡ Ø±Ùˆ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù‡.</li>
<li>ğŸ”¹ Ù…ØªØ¯ <code>Skip</code> Ø§ÙˆÙ„ÛŒÙ† <strong>n Ø¹Ù†ØµØ±</strong> Ø±Ùˆ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ùˆ Ø¨Ù‚ÛŒÙ‡ Ø¹Ù†Ø§ØµØ± Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡.</li>
</ul>
<p>Ø§ÛŒÙ† Ø¯Ùˆ Ù…ØªØ¯ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ <strong>Ø¨Ø§ Ù‡Ù…</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ù†ØŒ Ù…Ø®ØµÙˆØµØ§Ù‹ ÙˆÙ‚ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒÙ… ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ (Paging) Ø¯Ø± ÛŒÚ© Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† ÙˆØ¨ Ø±Ùˆ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒÙ….</p>
<hr>
<h3>ğŸŒ Ù…Ø«Ø§Ù„ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ (Paging Ø¯Ø± EF Core)</h3>
<p>ÙØ±Ø¶ Ú©Ù† Ú©Ø§Ø±Ø¨Ø± ØªÙˆÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ø¹Ø¨Ø§Ø±Øª <code>&quot;mercury&quot;</code> Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ù‡ Ùˆ <strong>Û±Û°Û° Ù†ØªÛŒØ¬Ù‡</strong> Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒØ´Ù‡.</p>
<p>ğŸ“Œ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† <strong>Û²Û° Ù†ØªÛŒØ¬Ù‡ Ø§ÙˆÙ„</strong>:</p>
<pre><code class="language-csharp">IQueryable&lt;Book&gt; query = dbContext.Books
    .Where(b =&gt; b.Title.Contains(&quot;mercury&quot;))
    .OrderBy(b =&gt; b.Title)
    .Take(20);
</code></pre>
<p>ğŸ“Œ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† <strong>Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§Ø±Ù‡ Û²Û± ØªØ§ Û´Û°</strong>:</p>
<pre><code class="language-csharp">IQueryable&lt;Book&gt; query = dbContext.Books
    .Where(b =&gt; b.Title.Contains(&quot;mercury&quot;))
    .OrderBy(b =&gt; b.Title)
    .Skip(20)
    .Take(20);
</code></pre>
<hr>
<h3>âš™ï¸ Ù†Ø­ÙˆÙ‡ ØªØ±Ø¬Ù…Ù‡ Ø¯Ø± SQL</h3>
<p>Ø¯Ø± EF Core:</p>
<ul>
<li>Ø¯Ø± <strong>SQL Server 2005</strong> Ø¨Ù‡ ØªØ§Ø¨Ø¹ <code>ROW_NUMBER</code> ØªØ±Ø¬Ù…Ù‡ Ù…ÛŒâ€ŒØ´Ù‡.</li>
<li>Ø¯Ø± Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒâ€ŒØªØ± SQL Server Ø¨Ù‡ <strong>Ø²ÛŒØ±Ú©ÙˆØ¦Ø±ÛŒ TOP n</strong> Ù†Ú¯Ø§Ø´Øª Ù…ÛŒâ€ŒØ´Ù‡.</li>
</ul>
<hr>
<h3>ğŸ”„ Ù…ØªØ¯Ù‡Ø§ÛŒ TakeLast Ùˆ SkipLast</h3>
<ul>
<li><code>TakeLast(n)</code> â†’ Ø¢Ø®Ø±ÛŒÙ† <strong>n Ø¹Ù†ØµØ±</strong> Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†Ù‡.</li>
<li><code>SkipLast(n)</code> â†’ Ø¢Ø®Ø±ÛŒÙ† <strong>n Ø¹Ù†ØµØ±</strong> Ø±Ùˆ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ù‡.</li>
</ul>
<hr>
<h3>ğŸš€ Ù‚Ø§Ø¨Ù„ÛŒØª Ø¬Ø¯ÛŒØ¯ Ø§Ø² .NET 6</h3>
<p>Ø§Ø² Ù†Ø³Ø®Ù‡ <strong>.NET 6</strong>ØŒ Ù…ØªØ¯ <code>Take</code> ÛŒÚ© Ù†Ø³Ø®Ù‡ overload Ø¬Ø¯ÛŒØ¯ Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ù…ØªØºÛŒØ± <code>Range</code> Ø±Ùˆ Ù‚Ø¨ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ù‡. Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ØªÙ…Ø§Ù… Ú†Ù‡Ø§Ø± Ù…ØªØ¯ Ø¨Ø´Ù‡.</p>
<p>ğŸ“Œ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§:</p>
<pre><code class="language-csharp">Take(5..)
// Ù…Ø¹Ø§Ø¯Ù„ Skip(5)

Take(..^5)
// Ù…Ø¹Ø§Ø¯Ù„ SkipLast(5)
</code></pre>
<p>ÛŒØ¹Ù†ÛŒ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø®ÛŒÙ„ÛŒ ØªÙ…ÛŒØ²ØªØ± Ùˆ Ú©ÙˆØªØ§Ù‡â€ŒØªØ± Ú©Ø¯ Ø¨Ø²Ù†ÛŒ âœ¨</p>
<hr>
<h3>â© Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</h3>
<ul>
<li><code>TakeWhile</code></li>
<li><code>SkipWhile</code></li>
</ul>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-5.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ TakeWhile Ùˆ SkipWhile</h3>
<hr>
<h3>âš™ï¸ TakeWhile</h3>
<p><code>TakeWhile</code> Ø¹Ù†Ø§ØµØ± Ø¯Ù†Ø¨Ø§Ù„Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ <strong>Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ù¾ÛŒÙ…Ø§ÛŒØ´</strong> Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù‡Ø± Ø¹Ù†ØµØ± Ø±Ø§ <strong>ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø´Ø±Ø· Ø¯Ø§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ true Ø¨Ø§Ø´Ø¯</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.
Ø¨Ù‡ Ù…Ø­Ø¶ Ø§ÛŒÙ†Ú©Ù‡ Ø´Ø±Ø· false Ø´ÙˆØ¯ØŒ Ø¨Ù‚ÛŒÙ‡ Ø¹Ù†Ø§ØµØ± Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
<pre><code class="language-csharp">int[] numbers = { 3, 5, 2, 234, 4, 1 };
var takeWhileSmall = numbers.TakeWhile(n =&gt; n &lt; 100); // Ø®Ø±ÙˆØ¬ÛŒ: { 3, 5, 2 }
</code></pre>
<hr>
<h3>âš™ï¸ SkipWhile</h3>
<p><code>SkipWhile</code> Ù‡Ù… Ø¯Ù†Ø¨Ø§Ù„Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ù¾ÛŒÙ…Ø§ÛŒØ´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ ÙˆÙ„ÛŒ <strong>Ø¹Ù†Ø§ØµØ± Ø±Ø§ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø´Ø±Ø· true Ø¨Ø§Ø´Ø¯ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯</strong>.
Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† Ø¹Ù†ØµØ±ÛŒ Ú©Ù‡ Ø´Ø±Ø· false Ø´Ø¯ØŒ Ø¨Ù‚ÛŒÙ‡ Ø¹Ù†Ø§ØµØ± <strong>Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</strong>.</p>
<pre><code class="language-csharp">int[] numbers = { 3, 5, 2, 234, 4, 1 };
var skipWhileSmall = numbers.SkipWhile(n =&gt; n &lt; 100); // Ø®Ø±ÙˆØ¬ÛŒ: { 234, 4, 1 }
</code></pre>
<p>âš ï¸ ØªÙˆØ¬Ù‡:
<code>TakeWhile</code> Ùˆ <code>SkipWhile</code> Ù‡ÛŒÚ† Ù…Ø¹Ø§Ø¯Ù„ SQL Ù†Ø¯Ø§Ø±Ù†Ø¯ Ùˆ Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ <strong>EF Core</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ø§Ø¹Ø« <strong>Exception</strong> Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<hr>
<h3>ğŸ”¹ Distinct Ùˆ DistinctBy</h3>
<hr>
<h3>âœ… Distinct</h3>
<p><code>Distinct</code> Ø¯Ù†Ø¨Ø§Ù„Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø¨Ø¯ÙˆÙ† <strong>ØªÚ©Ø±Ø§Ø±ÛŒâ€ŒÙ‡Ø§</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.
Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ <strong>custom equality comparer</strong> Ù‡Ù… Ø¨Ù‡ Ø¢Ù† Ø¨Ø¯Ù‡ÛŒØ¯.</p>
<pre><code class="language-csharp">char[] distinctLetters = &quot;HelloWorld&quot;.Distinct().ToArray();
string s = new string(distinctLetters); // Ø®Ø±ÙˆØ¬ÛŒ: &quot;HeloWrd&quot;
</code></pre>
<blockquote>
<p>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ù…ØªØ¯Ù‡Ø§ÛŒ LINQ Ø±Ø§ Ø±ÙˆÛŒ <code>string</code> ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒÙ…ØŒ Ú†ÙˆÙ† <code>string</code> Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒâ€ŒÚ©Ù†Ù†Ø¯Ù‡ <code>IEnumerable&lt;char&gt;</code> Ø§Ø³Øª.</p>
</blockquote>
<hr>
<h3>âœ… DistinctBy</h3>
<ul>
<li>Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯Ù‡ Ø¯Ø± <strong>.NET 6</strong></li>
<li>Ø§Ù…Ú©Ø§Ù† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† ÛŒÚ© <strong>key selector</strong> Ù‚Ø¨Ù„ Ø§Ø² Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªØ³Ø§ÙˆÛŒ Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<p>Ù…Ø«Ø§Ù„:</p>
<pre><code class="language-csharp">new[] { 1.0, 1.1, 2.0, 2.1, 3.0, 3.1 }
    .DistinctBy(n =&gt; Math.Round(n, 0)); // Ø®Ø±ÙˆØ¬ÛŒ: { 1, 2, 3 }
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-6.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ¨ Select Ùˆ SelectMany Ø¯Ø± LINQ</h3>
<hr>
<h3>âš™ï¸ ØªÙˆØ¶ÛŒØ­ Ú©Ù„ÛŒ</h3>
<p>ÙˆÙ‚ØªÛŒ <strong>Ø±ÙˆÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ú©ÙˆØ¦Ø±ÛŒ Ù…ÛŒâ€ŒØ²Ù†ÛŒÙ…</strong>ØŒ <code>Select</code> Ùˆ <code>SelectMany</code> <strong>Ø§Ù†Ø¹Ø·Ø§Ùâ€ŒÙ¾Ø°ÛŒØ±ØªØ±ÛŒÙ† Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… join</strong> Ù‡Ø³ØªÙ†Ø¯.
Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ <strong>Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ (Local queries)</strong>ØŒ <code>Join</code> Ùˆ <code>GroupJoin</code> <strong>Ú©Ø§Ø±Ø¢Ù…Ø¯ØªØ±ÛŒÙ† Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ Ø¨Ø±Ø§ÛŒ join</strong> Ù…Ø­Ø³ÙˆØ¨ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-7.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>Select</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-8.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>âš ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª EF Core</h3>
<ul>
<li>âŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>Select</code> Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† <strong>subquery Ù¾ÛŒÚ†ÛŒØ¯Ù‡ ÛŒØ§ indexed projection</strong> Ø¯Ø± EF Core Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø§Ø±Ø¯ Ùˆ Ø¨Ø±Ø®ÛŒ Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ø´ÙˆØ¯.</li>
</ul>
<hr>
<h3>ğŸ“ Ø³ÛŒÙ†ØªÚ©Ø³ Ú©ÙˆØ¦Ø±ÛŒ</h3>
<pre><code class="language-csharp">select projection-expression
</code></pre>
<hr>
<h3>ğŸ”§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Enumerable</h3>
<p>Ù†Ø³Ø®Ù‡ Ø¯Ø§Ø®Ù„ÛŒ <code>Enumerable.Select</code> Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± Ø§Ø³Øª:</p>
<pre><code class="language-csharp">public static IEnumerable&lt;TResult&gt; Select&lt;TSource,TResult&gt;(
    this IEnumerable&lt;TSource&gt; source,
    Func&lt;TSource,TResult&gt; selector)
{
    foreach (TSource element in source)
        yield return selector(element);
}
</code></pre>
<hr>
<h3>ğŸ”¹ ØªÙˆØ¶ÛŒØ­ Ú©Ù„ÛŒ</h3>
<ul>
<li>Ø¨Ø§ <code>Select</code> Ù‡Ù…ÛŒØ´Ù‡ <strong>ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± ÙˆØ±ÙˆØ¯ÛŒ Ø§Ø³Øª</strong>.</li>
<li>Ù‡Ø± Ø¹Ù†ØµØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø§ <strong>lambda function</strong> Ø¨Ù‡ Ù‡Ø± Ø´Ú©Ù„ Ø¯Ù„Ø®ÙˆØ§Ù‡ ØªØ¨Ø¯ÛŒÙ„ Ø´ÙˆØ¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ù…Ø«Ø§Ù„ Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ: Ú¯Ø±ÙØªÙ† Ù†Ø§Ù… ÙÙˆÙ†Øªâ€ŒÙ‡Ø§</h3>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = from f in FontFamily.Families
                            select f.Name;

foreach (string name in query) 
    Console.WriteLine(name);
</code></pre>
<p>ğŸ”¹ Ù…Ø¹Ø§Ø¯Ù„ <strong>Lambda Syntax</strong>:</p>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = FontFamily.Families.Select(f =&gt; f.Name);
</code></pre>
<hr>
<h3>ğŸ”¹ Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø§Ù†ÙˆØ§Ø¹ Ù†Ø§Ø´Ù†Ø§Ø³ (Anonymous Types)</h3>
<pre><code class="language-csharp">var query = from f in FontFamily.Families
            select new { f.Name, LineSpacing = f.GetLineSpacing(FontStyle.Bold) };
</code></pre>
<ul>
<li>Ú¯Ø§Ù‡ÛŒ Ø§ÙˆÙ‚Ø§Øª projection Ø¨Ø¯ÙˆÙ† Ù‡ÛŒÚ† ØªØºÛŒÛŒØ± Ø®Ø§ØµÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©ÙˆØ¦Ø±ÛŒ Ø¨Ø§ <code>select</code> ÛŒØ§ <code>group</code> Ù¾Ø§ÛŒØ§Ù† ÛŒØ§Ø¨Ø¯.
Ù…Ø«Ø§Ù„: Ø§Ù†ØªØ®Ø§Ø¨ ÙÙˆÙ†Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ <strong>strikeout</strong> Ø±Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;FontFamily&gt; query =
    from f in FontFamily.Families
    where f.IsStyleAvailable(FontStyle.Strikeout)
    select f;

foreach (FontFamily ff in query)
    Console.WriteLine(ff.Name);
</code></pre>
<blockquote>
<p>Ø¯Ø± Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ØŒ <strong>Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± Ù‡Ù†Ú¯Ø§Ù… ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Fluent Syntax</strong>ØŒ projection Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
</blockquote>
<hr>
<h3>ğŸ”¹ Indexed Projection</h3>
<ul>
<li><code>selector</code> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ø§Ø®ØªÛŒØ§Ø±ÛŒ Ø¯ÙˆÙ… Ø§Ø² Ù†ÙˆØ¹ <strong>int</strong> Ø¨Ú¯ÛŒØ±Ø¯ Ú©Ù‡ Ù†Ù…Ø§ÛŒØ§Ù†Ú¯Ø± <strong>Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¹Ù†ØµØ±</strong> Ø¯Ø± Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø§Ø³Øª.</li>
<li>âš ï¸ Ø§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØª ÙÙ‚Ø· Ø¯Ø± <strong>Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ</strong> Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<pre><code class="language-csharp">string[] names = { &quot;Tom&quot;, &quot;Dick&quot;, &quot;Harry&quot;, &quot;Mary&quot;, &quot;Jay&quot; };
IEnumerable&lt;string&gt; query = names.Select((s, i) =&gt; i + &quot;=&quot; + s);
// Ø®Ø±ÙˆØ¬ÛŒ: { &quot;0=Tom&quot;, &quot;1=Dick&quot;, &quot;2=Harry&quot;, &quot;3=Mary&quot;, &quot;4=Jay&quot; }
</code></pre>
<hr>
<h3>ğŸ”¹ Subqueries Ùˆ Object Hierarchies</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù† ÛŒÚ© <strong>subquery</strong> Ø±Ø§ Ø¯Ø± <code>Select</code> Ø¬Ø§ÛŒ Ø¯Ø§Ø¯ ØªØ§ <strong>Ø³Ø§Ø®ØªØ§Ø± Ø´ÛŒØ¡ (Object Hierarchy)</strong> Ø¨Ø³Ø§Ø²ÛŒÙ….</li>
<li>Ù…Ø«Ø§Ù„: Ø¯Ø±ÛŒØ§ÙØª Ù‡Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ø¯Ø± Ù…Ø³ÛŒØ± <code>Path.GetTempPath()</code> Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ù„ÛŒØ³Øª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù†:</li>
</ul>
<pre><code class="language-csharp">string tempPath = Path.GetTempPath();
DirectoryInfo[] dirs = new DirectoryInfo(tempPath).GetDirectories();

var query = from d in dirs
            where (d.Attributes &amp; FileAttributes.System) == 0
            select new
            {
                DirectoryName = d.FullName,
                Created = d.CreationTime,
                Files = from f in d.GetFiles()
                        where (f.Attributes &amp; FileAttributes.Hidden) == 0
                        select new { FileName = f.Name, f.Length }
            };

foreach (var dirFiles in query)
{
    Console.WriteLine(&quot;Directory: &quot; + dirFiles.DirectoryName);
    foreach (var file in dirFiles.Files)
        Console.WriteLine(&quot;  &quot; + file.FileName + &quot; Len: &quot; + file.Length);
}
</code></pre>
<ul>
<li>Ø¨Ø®Ø´ Ø¯Ø§Ø®Ù„ÛŒ Ø§ÛŒÙ† Ú©ÙˆØ¦Ø±ÛŒ ÛŒÚ© <strong>correlated subquery</strong> Ø§Ø³ØªØŒ Ú†ÙˆÙ† Ø¨Ù‡ Ø´ÛŒØ¡ <code>d</code> Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒ Ø®Ø§Ø±Ø¬ÛŒ Ø§Ø±Ø¬Ø§Ø¹ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
<li>ÛŒÚ© subquery Ø¯Ø± <code>Select</code> Ø§Ù…Ú©Ø§Ù† <strong>Ù†Ú¯Ø§Ø´Øª ÛŒÚ© Ù‡Ø±Ù…Ø´ÛŒ Ø´ÛŒØ¡ (Object Hierarchy) Ø¨Ù‡ Ù‡Ø±Ù…Ø´ÛŒ Ø¯ÛŒÚ¯Ø±</strong> ÛŒØ§ Ù†Ú¯Ø§Ø´Øª <strong>Relational Object Model Ø¨Ù‡ Hierarchical Object Model</strong> Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Deferred Execution Ø¯Ø± Local Queries</h3>
<ul>
<li>Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒØŒ subquery Ø¯Ø§Ø®Ù„ <code>Select</code> Ø¨Ø§Ø¹Ø« <strong>double-deferred execution</strong> Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
<li>Ø¯Ø± Ù…Ø«Ø§Ù„ Ø¨Ø§Ù„Ø§ØŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ <code>foreach</code> Ø¯Ø§Ø®Ù„ÛŒ Ø§Ø¬Ø±Ø§ Ù†Ø´ÙˆØ¯ØŒ <strong>ÙÛŒÙ„ØªØ± ÛŒØ§ Ù¾Ø±ÙˆÚ˜Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</strong>.</li>
</ul>
<h3>ğŸŒ€ Subqueries Ùˆ Joins Ø¯Ø± EF Core</h3>
<hr>
<h3>ğŸ”¹ Subquery Projections Ø¯Ø± EF Core</h3>
<ul>
<li><strong>Projection Ø¨Ø§ subquery</strong> Ø¯Ø± EF Core Ø¨Ù‡ Ø®ÙˆØ¨ÛŒ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† <strong>SQL-style joins</strong> Ø¨Ø§Ø´Ø¯.</li>
<li>Ù…Ø«Ø§Ù„: Ø¯Ø±ÛŒØ§ÙØª Ù†Ø§Ù… Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ <strong>Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ø¨Ø§ Ø§Ø±Ø²Ø´ Ø¨Ø§Ù„Ø§ÛŒ Û±Û°Û°Û°</strong>:</li>
</ul>
<pre><code class="language-csharp">var query =
    from c in dbContext.Customers
    select new {
        c.Name,
        Purchases = (
            from p in dbContext.Purchases
            where p.CustomerID == c.ID &amp;&amp; p.Price &gt; 1000
            select new { p.Description, p.Price }
        ).ToList()
    };

foreach (var namePurchases in query)
{
    Console.WriteLine(&quot;Customer: &quot; + namePurchases.Name);
    foreach (var purchaseDetail in namePurchases.Purchases)
        Console.WriteLine(&quot;  - $$$: &quot; + purchaseDetail.Price);
}
</code></pre>
<blockquote>
<p>âš ï¸ Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>ToList</code> Ø¯Ø± subquery Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³ØªØŒ Ø²ÛŒØ±Ø§ EF Core 3 Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ <strong>queryable</strong> Ø¨Ø³Ø§Ø²Ø¯ Ø§Ú¯Ø± subquery Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ <code>DbContext</code> Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ù‡Ø¯. Ø§ÛŒÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¯Ø± Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ EF Core Ø¨Ø±Ø·Ø±Ù Ø´ÙˆØ¯.</p>
</blockquote>
<hr>
<h3>ğŸ”¹ Ù…Ø²ÛŒØª Ø§ÛŒÙ† Ø³Ø¨Ú©</h3>
<ul>
<li>
<p>Ø§ÛŒÙ† Ù†ÙˆØ¹ Ú©ÙˆØ¦Ø±ÛŒ <strong>Ø¨Ø±Ø§ÛŒ interpreted queries Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª</strong>.</p>
</li>
<li>
<p>Ú©ÙˆØ¦Ø±ÛŒ Ø®Ø§Ø±Ø¬ÛŒ Ùˆ subquery <strong>Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ© ÙˆØ§Ø­Ø¯ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</strong> Ùˆ Ø§Ø² round-tripping Ø§Ø¶Ø§ÙÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
</li>
<li>
<p>âš ï¸ Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ (Local queries) Ø§ÛŒÙ† Ø±ÙˆØ´ <strong>ØºÛŒØ± Ø¨Ù‡ÛŒÙ†Ù‡</strong> Ø§Ø³ØªØŒ Ú†ÙˆÙ† ØªÙ…Ø§Ù… ØªØ±Ú©ÛŒØ¨â€ŒÙ‡Ø§ÛŒ Ø¹Ù†Ø§ØµØ± Ø®Ø§Ø±Ø¬ÛŒ Ùˆ Ø¯Ø§Ø®Ù„ÛŒ Ø¨Ø§ÛŒØ¯ Ù¾ÛŒÙ…Ø§ÛŒØ´ Ø´ÙˆÙ†Ø¯.</p>
</li>
<li>
<p>Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø¨Ù‡ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Local queries: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>Join</strong> ÛŒØ§ <strong>GroupJoin</strong>.</p>
</li>
</ul>
<hr>
<h3>ğŸ”¹ Ù†Ú¯Ø§Ø´Øª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ</h3>
<ul>
<li>
<p>Ø§ÛŒÙ† Ú©ÙˆØ¦Ø±ÛŒ <strong>Ø§Ø´ÛŒØ§Ø¡ Ø¯Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…ØªÙØ§ÙˆØª</strong> Ø±Ø§ Ù‡Ù…â€ŒØªØ±Ø§Ø² Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¢Ù† Ø±Ø§ ÛŒÚ© Ù†ÙˆØ¹ <strong>join</strong> Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØª.</p>
</li>
<li>
<p>ØªÙØ§ÙˆØª Ø¨Ø§ join Ø³Ù†ØªÛŒ SQL:</p>
<ul>
<li>Ø®Ø±ÙˆØ¬ÛŒ <strong>ØªØ®Øª (flat)</strong> Ù†ÛŒØ³ØªØŒ Ø¨Ù„Ú©Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ø§Ø¨Ø·Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ <strong>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ</strong> Ù†Ú¯Ø§Ø´Øª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</li>
</ul>
</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Navigation Property</h3>
<p>Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Navigation Property <code>Purchases</code> Ø¯Ø± <code>Customer</code>:</p>
<pre><code class="language-csharp">from c in dbContext.Customers
select new
{
    c.Name,
    Purchases = from p in c.Purchases  // Purchases Ù†ÙˆØ¹ List&lt;Purchase&gt; Ø§Ø³Øª
                where p.Price &gt; 1000
                select new { p.Description, p.Price }
};
</code></pre>
<blockquote>
<p>Ø¯Ø± EF Core 3ØŒ Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Navigation Property <strong>Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ ToList Ù†ÛŒØ³Øª</strong>.</p>
</blockquote>
<ul>
<li>Ù‡Ø± Ø¯Ùˆ Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø§Ù†Ù†Ø¯ <strong>left outer join Ø¯Ø± SQL</strong> Ù‡Ø³ØªÙ†Ø¯: Ù‡Ù…Ù‡ Ù…Ø´ØªØ±ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± enumeration Ø¨ÛŒØ±ÙˆÙ†ÛŒ Ù„Ø­Ø§Ø¸ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø­ØªÛŒ Ø§Ú¯Ø± Ø®Ø±ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Inner Join</h3>
<ul>
<li>Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ù…Ø´ØªØ±ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ø§Ø±Ø²Ø´ Ø¨Ø§Ù„Ø§ Ù†Ø¯Ø§Ø±Ù†Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø´Ø±Ø· Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
where c.Purchases.Any(p =&gt; p.Price &gt; 1000)
select new {
    c.Name,
    Purchases = from p in c.Purchases
                where p.Price &gt; 1000
                select new { p.Description, p.Price }
};
</code></pre>
<ul>
<li>
<p>âš ï¸ Ø§ÛŒÙ† Ø±ÙˆØ´ Ú©Ù…ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª (Price &gt; 1000 Ø¯Ùˆ Ø¨Ø§Ø± Ù†ÙˆØ´ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯).</p>
</li>
<li>
<p>Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>let</code> Ù…ÛŒâ€ŒØªÙˆØ§Ù† ØªÚ©Ø±Ø§Ø± Ø±Ø§ Ø­Ø°Ù Ú©Ø±Ø¯:</p>
</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
let highValueP = from p in c.Purchases
                 where p.Price &gt; 1000
                 select new { p.Description, p.Price }
where highValueP.Any()
select new { c.Name, Purchases = highValueP };
</code></pre>
<ul>
<li>Ø§ÛŒÙ† Ø³Ø¨Ú© <strong>Ø§Ù†Ø¹Ø·Ø§Ùâ€ŒÙ¾Ø°ÛŒØ±</strong> Ø§Ø³ØªØ› Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ Ø¨Ø§ ØªØºÛŒÛŒØ± <code>Any()</code> Ø¨Ù‡ <code>Count()</code> Ù…ÛŒâ€ŒØªÙˆØ§Ù† ÙÙ‚Ø· Ù…Ø´ØªØ±ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø§ Ø­Ø¯Ø§Ù‚Ù„ Ø¯Ùˆ Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ø§Ø±Ø²Ø´ Ø¨Ø§Ù„Ø§ Ø±Ø§ Ú¯Ø±ÙØª:</li>
</ul>
<pre><code class="language-csharp">where highValueP.Count() &gt;= 2
select new { c.Name, Purchases = highValueP };
</code></pre>
<hr>
<h3>ğŸ”¹ Projection Ø¨Ù‡ Types Ù…Ø´Ø®Øµ</h3>
<ul>
<li>ØªØ§ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø² <strong>Anonymous Types</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯.</li>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù† <strong>Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ (Named Classes)</strong> Ù†ÛŒØ² Ø³Ø§Ø®Øª Ùˆ Ø¨Ø§ object initializer Ù¾Ø± Ú©Ø±Ø¯.</li>
<li>Ø§ÛŒÙ† Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ <strong>Ù…Ù†Ø·Ù‚ Ø³ÙØ§Ø±Ø´ÛŒ</strong> Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯ Ùˆ Ø¨ÛŒÙ† Ù…ØªØ¯Ù‡Ø§ Ùˆ AssemblyÙ‡Ø§ Ù…Ù†ØªÙ‚Ù„ Ø´ÙˆÙ†Ø¯.</li>
<li>Ù†Ù…ÙˆÙ†Ù‡ Ù…Ø¹Ù…ÙˆÙ„: <strong>Custom Business Entity / DTO</strong></li>
</ul>
<pre><code class="language-csharp">IQueryable&lt;CustomerEntity&gt; query =
    from c in dbContext.Customers
    select new CustomerEntity
    {
        Name = c.Name,
        Purchases = (
            from p in c.Purchases
            where p.Price &gt; 1000
            select new PurchaseEntity
            {
                Description = p.Description,
                Value = p.Price
            }
        ).ToList()
    };

// Ø§Ø¬Ø±Ø§ÛŒ Ú©ÙˆØ¦Ø±ÛŒ Ùˆ ØªØ¨Ø¯ÛŒÙ„ Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ù‡ List
List&lt;CustomerEntity&gt; result = query.ToList();
</code></pre>
<blockquote>
<p>Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ DTO Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ <strong>Ù‡ÛŒÚ† Ù…Ù†Ø·Ù‚ ØªØ¬Ø§Ø±ÛŒ Ù†Ø¯Ø§Ø±Ù†Ø¯</strong> Ùˆ ØµØ±ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø§Ø¯Ù‡ Ø¨ÛŒÙ† Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ ÛŒØ§ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
</blockquote>
<hr>
<h3>ğŸ”¹ Ù†Ú©ØªÙ‡ Ú©Ù„ÛŒØ¯ÛŒ</h3>
<ul>
<li>ØªØ§ Ø§ÛŒÙ†Ø¬Ø§ <strong>Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Join ÛŒØ§ SelectMany Ù†Ø¯Ø§Ø´ØªÛŒÙ…</strong>.</li>
<li>Ø¯Ù„ÛŒÙ„: <strong>Ø³Ø§Ø®ØªØ§Ø± Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø­ÙØ¸ Ø´Ø¯Ù‡</strong>ØŒ Ø¨Ø±Ø®Ù„Ø§Ù SQL Ú©Ù‡ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ flatten Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-9.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸŒŠ SelectMany Ø¯Ø± LINQ</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-10.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸŒŠ SelectMany Ø¯Ø± LINQ â€“ Ø¬Ø²Ø¦ÛŒØ§Øª Ùˆ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§</h3>
<hr>
<h3>ğŸ”¹ Query Syntax</h3>
<pre><code class="language-csharp">from identifier1 in enumerable-expression1
from identifier2 in enumerable-expression2
...
</code></pre>
<ul>
<li>Ø¯Ø± <strong>query syntax</strong>ØŒ ÙˆÙ‚ØªÛŒ Ø§Ø² ÛŒÚ© <code>from</code> Ø§Ø¶Ø§ÙÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¯Ø± ÙˆØ§Ù‚Ø¹ <strong>SelectMany</strong> ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Enumerable Implementation</h3>
<pre><code class="language-csharp">public static IEnumerable&lt;TResult&gt; SelectMany&lt;TSource,TResult&gt;
    (IEnumerable&lt;TSource&gt; source,
     Func&lt;TSource,IEnumerable&lt;TResult&gt;&gt; selector)
{
    foreach (TSource element in source)
        foreach (TResult subElement in selector(element))
            yield return subElement;
}
</code></pre>
<ul>
<li>
<p><code>SelectMany</code> Ù‡Ù…Ù‡ <strong>subsequenceÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÛŒ ØªØ®Øª (flat)</strong> ØªØ±Ú©ÛŒØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
</li>
<li>
<p><strong>ØªÙØ§ÙˆØª Ø¨Ø§ Select:</strong></p>
<ul>
<li><code>Select</code>: Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ù†ØµØ± ÙˆØ±ÙˆØ¯ÛŒØŒ Ø¯Ù‚ÛŒÙ‚Ø§ <strong>ÛŒÚ© Ø¹Ù†ØµØ± Ø®Ø±ÙˆØ¬ÛŒ</strong> ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li><code>SelectMany</code>: Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ù†ØµØ± ÙˆØ±ÙˆØ¯ÛŒØŒ <strong>Û° ØªØ§ n Ø¹Ù†ØµØ± Ø®Ø±ÙˆØ¬ÛŒ</strong> ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>n Ø¹Ù†Ø§ØµØ± Ø®Ø±ÙˆØ¬ÛŒ Ø§Ø² ÛŒÚ© <strong>subsequence ÛŒØ§ child sequence</strong> Ú©Ù‡ ØªÙˆØ³Ø· <strong>lambda expression</strong> ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø­Ø§ØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</li>
</ul>
</li>
</ul>
<hr>
<h3>ğŸ”¹ Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡: flatten Ú©Ø±Ø¯Ù† Ú©Ù„Ù…Ø§Øª Ø§Ø² fullNames</h3>
<pre><code class="language-csharp">string[] fullNames = { &quot;Anne Williams&quot;, &quot;John Fred Smith&quot;, &quot;Sue Green&quot; };

IEnumerable&lt;string&gt; query = fullNames.SelectMany(name =&gt; name.Split());
foreach (string name in query)
    Console.Write(name + &quot;|&quot;);  
// Ø®Ø±ÙˆØ¬ÛŒ: Anne|Williams|John|Fred|Smith|Sue|Green|
</code></pre>
<ul>
<li>Ø§Ú¯Ø± Ø¨Ù‡ Ø¬Ø§ÛŒ <code>SelectMany</code> Ø§Ø² <code>Select</code> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ØŒ Ø®Ø±ÙˆØ¬ÛŒ <strong>Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ (nested arrays)</strong> Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ <code>foreach</code> ØªÙˆ Ø¯Ø± ØªÙˆ Ø¯Ø§Ø±ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string[]&gt; query = fullNames.Select(name =&gt; name.Split());
foreach (string[] stringArray in query)
    foreach (string name in stringArray)
        Console.Write(name + &quot;|&quot;);
</code></pre>
<ul>
<li>Ù…Ø²ÛŒØª <code>SelectMany</code> Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ <strong>ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒÛŒ ØªØ®Øª (flat)</strong> ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Query Syntax Ùˆ Ú†Ù†Ø¯ Ù…ØªØºÛŒØ±Ù‡ Ø¨ÙˆØ¯Ù†</h3>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query =
    from fullName in fullNames
    from name in fullName.Split()   // ØªØ±Ø¬Ù…Ù‡ Ø¨Ù‡ SelectMany
    select name;
</code></pre>
<ul>
<li>Ù…ØªØºÛŒØ± Ø¬Ø¯ÛŒØ¯ <code>name</code> Ù…Ø¹Ø±ÙÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø§Ù…Ø§ Ù…ØªØºÛŒØ± Ù‚Ø¯ÛŒÙ…ÛŒ <code>fullName</code> Ù‡Ù…Ú†Ù†Ø§Ù† Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª.</li>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ù‡Ø± Ø¯Ùˆ Ø¯Ø± projection Ù†Ù‡Ø§ÛŒÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query =
    from fullName in fullNames
    from name in fullName.Split()
    select name + &quot; came from &quot; + fullName;
</code></pre>
<ul>
<li>Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù…ÙˆÙ†Ù‡:</li>
</ul>
<pre><code>Anne came from Anne Williams
Williams came from Anne Williams
John came from John Fred Smith
...
</code></pre>
<hr>
<h3>ğŸ”¹ Ù…Ø´Ú©Ù„ Ø¯Ø± Fluent Syntax</h3>
<ul>
<li>ÙˆÙ‚ØªÛŒ <code>SelectMany</code> Ø±Ø§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø± <strong>fluent syntax</strong> Ø¨Ù†ÙˆÛŒØ³ÛŒÙ… Ùˆ Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ù‡Ø± Ø¯Ùˆ Ù…ØªØºÛŒØ± outer Ùˆ inner Ø±Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…ØŒ Ù…Ø´Ú©Ù„ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
<li>Ø±Ø§Ù‡â€ŒØ­Ù„: <strong>Ù‡Ø± child element Ø±Ø§ Ø¯Ø± ÛŒÚ© anonymous type Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù†ÛŒÙ…</strong> Ú©Ù‡ outer element Ø±Ø§ Ù‡Ù… Ù†Ú¯Ù‡ Ø¯Ø§Ø±Ø¯:</li>
</ul>
<pre><code class="language-csharp">from fullName in fullNames
from x in fullName.Split().Select(name =&gt; new { name, fullName })
orderby x.fullName, x.name
select x.name + &quot; came from &quot; + x.fullName;
</code></pre>
<ul>
<li>Ù…Ø¹Ø§Ø¯Ù„ Fluent Syntax:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = fullNames
    .SelectMany(fName =&gt; fName.Split()
        .Select(name =&gt; new { name, fName }))
    .OrderBy(x =&gt; x.fName)
    .ThenBy(x =&gt; x.name)
    .Select(x =&gt; x.name + &quot; came from &quot; + x.fName);
</code></pre>
<ul>
<li>ğŸ”¹ Ù†Ú©ØªÙ‡: Ø§ÛŒÙ† ØªÚ©Ù†ÛŒÚ© Ù…Ø´Ø§Ø¨Ù‡ <strong>resolve Ú©Ø±Ø¯Ù† let clause</strong> Ø¯Ø± query syntax Ø§Ø³Øª.</li>
</ul>
<h3>ğŸ¤” ÙÚ©Ø± Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø³Ø¨Ú© Query Syntax Ø¯Ø± LINQ</h3>
<hr>
<h3>ğŸ”¹ Ú†Ø±Ø§ query syntax Ù…ÙÛŒØ¯ Ø§Ø³ØªØŸ</h3>
<ul>
<li>ÙˆÙ‚ØªÛŒ Ø¨Ù‡ <strong>Ú†Ù†Ø¯ Ù…ØªØºÛŒØ± Ø¯Ø§Ù…Ù†Ù‡ (range variables)</strong> Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ØŒ query syntax Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¯Ø± Ù‡Ù…Ø§Ù† Ú†Ø§Ø±Ú†ÙˆØ¨ ÙÚ©Ø± Ú©Ù†ÛŒØ¯.</li>
<li>Ø¯Ùˆ Ø§Ù„Ú¯ÙˆÛŒ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>generatorÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ</strong> ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯:</li>
</ul>
<hr>
<h3>1ï¸âƒ£ Ú¯Ø³ØªØ±Ø´ Ùˆ flatten Ú©Ø±Ø¯Ù† subsequenceÙ‡Ø§</h3>
<ul>
<li>Ø¨Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ÛŒÚ© <strong>property ÛŒØ§ method</strong> Ø±ÙˆÛŒ ÛŒÚ© Ù…ØªØºÛŒØ± Ø¯Ø§Ù…Ù†Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± generator Ø§Ø¶Ø§ÙÛŒØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† subsequenceÙ‡Ø§ Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ø¯Ø§Ø¯.</li>
</ul>
<pre><code class="language-csharp">from fullName in fullNames
from name in fullName.Split()
</code></pre>
<ul>
<li>Ù…Ø«Ø§Ù„ Ù…Ø´Ø§Ø¨Ù‡ Ø¯Ø± EF Core:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = 
    from c in dbContext.Customers
    from p in c.Purchases
    select c.Name + &quot; bought a &quot; + p.Description;
</code></pre>
<ul>
<li>Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù…ÙˆÙ†Ù‡:</li>
</ul>
<pre><code>Tom bought a Bike
Tom bought a Holiday
Dick bought a Phone
Harry bought a Car
...
</code></pre>
<ul>
<li>ğŸ”¹ Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ø¨Ù‡ ÛŒÚ© <strong>subsequence Ø§Ø² Ø®Ø±ÛŒØ¯Ù‡Ø§</strong> ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù‡ Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>2ï¸âƒ£ ØªÙˆÙ„ÛŒØ¯ Cartesian Product ÛŒØ§ Cross Join</h3>
<ul>
<li>Ù‡Ø± Ø¹Ù†ØµØ± Ø§Ø² ÛŒÚ© Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø¨Ø§ Ù‡Ø± Ø¹Ù†ØµØ± Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø¯ÛŒÚ¯Ø± ØªØ±Ú©ÛŒØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 1, 2, 3 };
string[] letters = { &quot;a&quot;, &quot;b&quot; };

IEnumerable&lt;string&gt; query = 
    from n in numbers
    from l in letters
    select n.ToString() + l;
// Ø®Ø±ÙˆØ¬ÛŒ: { &quot;1a&quot;, &quot;1b&quot;, &quot;2a&quot;, &quot;2b&quot;, &quot;3a&quot;, &quot;3b&quot; }
</code></pre>
<ul>
<li>Ø§ÛŒÙ† Ø§Ù„Ú¯Ùˆ Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ <strong>SelectMany-style joins</strong> Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Join Ú©Ø±Ø¯Ù† Ø¨Ø§ SelectMany</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ø§ <strong>Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø´Ø±Ø· ÙÛŒÙ„ØªØ±</strong> Ø±ÙˆÛŒ Ù†ØªÛŒØ¬Ù‡ cross productØŒ join Ø³Ø§Ø®Øª:</li>
</ul>
<pre><code class="language-csharp">string[] players = { &quot;Tom&quot;, &quot;Jay&quot;, &quot;Mary&quot; };

IEnumerable&lt;string&gt; query = 
    from name1 in players
    from name2 in players
    where name1.CompareTo(name2) &lt; 0
    orderby name1, name2
    select name1 + &quot; vs &quot; + name2;

// Ø®Ø±ÙˆØ¬ÛŒ: { &quot;Jay vs Mary&quot;, &quot;Jay vs Tom&quot;, &quot;Mary vs Tom&quot; }
</code></pre>
<ul>
<li>ğŸ”¹ Ø§ÛŒÙ† ÛŒÚ© <strong>non-equi join</strong> Ø§Ø³Øª Ú†ÙˆÙ† Ø´Ø±Ø· join Ø§Ø² Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù†Ø§Ø¨Ø±Ø§Ø¨Ø±ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ SelectMany Ø¯Ø± EF Core</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ <strong>cross joins, non-equi joins, inner joins, left outer joins</strong> Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯.</li>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§Ø² Ø¢Ù† Ø¨Ø§ <strong>associations Ø§Ø² Ù‚Ø¨Ù„ ØªØ¹Ø±ÛŒÙâ€ŒØ´Ø¯Ù‡ ÛŒØ§ Ø±ÙˆØ§Ø¨Ø· ad hoc</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯.</li>
<li>ØªÙØ§ÙˆØª Ø¨Ø§ Select: <strong>SelectMany Ø¯Ù†Ø¨Ø§Ù„Ù‡â€ŒØ§ÛŒ ØªØ®Øª (flat) Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ØŒ Ù†Ù‡ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ</strong>.</li>
</ul>
<h4>Ù…Ø«Ø§Ù„ Cross Join</h4>
<pre><code class="language-csharp">var query = 
    from c in dbContext.Customers
    from p in dbContext.Purchases
    select c.Name + &quot; might have bought a &quot; + p.Description;
</code></pre>
<h4>Ù…Ø«Ø§Ù„ Equi-Join (SQL-style)</h4>
<pre><code class="language-csharp">var query = 
    from c in dbContext.Customers
    from p in dbContext.Purchases
    where c.ID == p.CustomerID
    select c.Name + &quot; bought a &quot; + p.Description;
</code></pre>
<ul>
<li>ğŸ”¹ Ø§ÛŒÙ† ØªØ±Ø¬Ù…Ù‡ Ø®ÙˆØ¨ÛŒ Ø¨Ù‡ SQL Ø¯Ø§Ø±Ø¯ Ùˆ Ø§Ø¬Ø±Ø§ÛŒ outer joins Ù†ÛŒØ² Ø¨Ø§ ØªØºÛŒÛŒØ±Ø§Øª Ú©ÙˆÚ†Ú© Ù…Ù…Ú©Ù† Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Collection Navigation Properties</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ Ø¬Ø§ÛŒ ÙÛŒÙ„ØªØ± Ø±ÙˆÛŒ cross productØŒ <strong>subcollectionÙ‡Ø§ Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ø¯Ø§Ø¯</strong>:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
from p in c.Purchases
select new { c.Name, p.Description };
</code></pre>
<ul>
<li>Ù…Ø²ÛŒØª: <strong>Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ø´Ø±Ø· join Ù†ÛŒØ³Øª</strong> Ùˆ Ø§Ø² ÙÛŒÙ„ØªØ± Ø±ÙˆÛŒ cross product Ø®Ù„Ø§Øµ Ù…ÛŒâ€ŒØ´ÙˆÛŒÙ….</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙÛŒÙ„ØªØ±Ù‡Ø§</h3>
<ul>
<li>Ù…Ø«Ø§Ù„: Ù…Ø´ØªØ±ÛŒØ§Ù†ÛŒ Ú©Ù‡ Ù†Ø§Ù…Ø´Ø§Ù† Ø¨Ø§ &quot;T&quot; Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
where c.Name.StartsWith(&quot;T&quot;)
from p in c.Purchases
select new { c.Name, p.Description };
</code></pre>
<ul>
<li>Ø¯Ø± EF CoreØŒ Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ where clause ÛŒÚ© Ø®Ø· Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ù‡Ù… Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ø¯Ø± local queriesØŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª <strong>Ø§Ø¨ØªØ¯Ø§ ÙÛŒÙ„ØªØ± Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø¹Ø¯ join Ú©Ù†ÛŒØ¯</strong>.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¬Ø¯Ø§ÙˆÙ„ ÙØ±Ø²Ù†Ø¯</h3>
<ul>
<li>Ù…Ø«Ø§Ù„: Ù‡Ø± Ø®Ø±ÛŒØ¯ Ø¯Ø§Ø±Ø§ÛŒ Ú†Ù†Ø¯ PurchaseItem Ø§Ø³Øª:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
from p in c.Purchases
from pi in p.PurchaseItems
select new { c.Name, p.Description, pi.Detail };
</code></pre>
<ul>
<li>Ù‡Ø± <code>from</code> Ø¬Ø¯ÛŒØ¯ ÛŒÚ© <strong>child table</strong> Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Navigation Property ÙˆØ§Ù„Ø¯</h3>
<ul>
<li>Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù„Ø¯ØŒ Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ from Ø¬Ø¯ÛŒØ¯ Ù†ÛŒØ³Øª:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
select new { Name = c.Name, SalesPerson = c.SalesPerson.Name };
</code></pre>
<ul>
<li>ğŸ”¹ Ø§ÛŒÙ†Ø¬Ø§ SelectMany Ù„Ø§Ø²Ù… Ù†ÛŒØ³Øª Ú†ÙˆÙ† <strong>subcollection Ø¨Ø±Ø§ÛŒ flatten Ú©Ø±Ø¯Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</strong>.</li>
</ul>
<h3>â†”ï¸ Outer Joins Ø¨Ø§ SelectMany Ø¯Ø± LINQ Ùˆ EF Core</h3>
<hr>
<h3>ğŸ”¹ Ù…Ø«Ø§Ù„ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ Subquery</h3>
<ul>
<li>ÛŒÚ© <strong>Select subquery</strong> Ù…Ø´Ø§Ø¨Ù‡ <strong>left outer join</strong> Ø±ÙØªØ§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
select new {
    c.Name,
    Purchases = from p in c.Purchases
                where p.Price &gt; 1000
                select new { p.Description, p.Price }
};
</code></pre>
<ul>
<li>ğŸ”¹ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ <strong>Ù‡Ø± Ù…Ø´ØªØ±ÛŒ</strong> Ø¯Ø± Ø®Ø±ÙˆØ¬ÛŒ Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø­ØªÛŒ Ø§Ú¯Ø± Ø®Ø±ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.</li>
<li>Ù†ØªÛŒØ¬Ù‡ ÛŒÚ© <strong>hierarchical result set</strong> Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ù…Ø´Ú©Ù„ ÙˆÙ‚ØªÛŒ SelectMany Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯</h3>
<ul>
<li>Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ø®Ø±ÙˆØ¬ÛŒ <strong>flat</strong> Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
from p in c.Purchases
where p.Price &gt; 1000
select new { c.Name, p.Description, p.Price };
</code></pre>
<ul>
<li>ğŸ”¹ Ø§ÛŒÙ†Ø¬Ø§ join <strong>Ø¨Ù‡ inner join ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯</strong>:
Ù…Ø´ØªØ±ÛŒØ§Ù† ÙÙ‚Ø· Ø²Ù…Ø§Ù†ÛŒ Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ Ú©Ù‡ <strong>ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ø§Ø±Ø²Ø´ Ø¨Ø§Ù„Ø§</strong> Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø±Ø§Ù‡ Ø­Ù„ Ø¨Ø±Ø§ÛŒ Left Outer Join ØªØ®Øª</h3>
<ul>
<li>Ø§Ø² <code>DefaultIfEmpty()</code> Ø±ÙˆÛŒ <strong>inner sequence</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….</li>
<li>Ø§ÛŒÙ† Ù…ØªØ¯ Ø§Ú¯Ø± sequence Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯ØŒ ÛŒÚ© Ø¹Ù†ØµØ± null ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
from p in c.Purchases.DefaultIfEmpty()
select new { c.Name, p.Description, Price = (decimal?)p.Price };
</code></pre>
<ul>
<li>âœ… EF Core Ù‡Ù…Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù† Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ØŒ Ø­ØªÛŒ Ø§Ú¯Ø± Ø®Ø±ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.</li>
<li>âš ï¸ Ø¯Ø± local queryØŒ Ø§Ú¯Ø± p null Ø¨Ø§Ø´Ø¯ØŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ <code>p.Description</code> ÛŒØ§ <code>p.Price</code> Ø¨Ø§Ø¹Ø« NullReferenceException Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ù†Ø³Ø®Ù‡ Ù…Ù‚Ø§ÙˆÙ… (Robust)</h3>
<pre><code class="language-csharp">from c in dbContext.Customers
from p in c.Purchases.DefaultIfEmpty()
select new {
    c.Name,
    Descript = p == null ? null : p.Description,
    Price = p == null ? (decimal?) null : p.Price
};
</code></pre>
<ul>
<li>Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø¯Ø± Ù‡Ø± Ø¯Ùˆ Ø³Ù†Ø§Ø±ÛŒÙˆ (EF Core Ùˆ local query) Ø§Ù…Ù† Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ± Ù‚ÛŒÙ…Øª</h3>
<ul>
<li>Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… <code>where</code> Ø±Ø§ Ø¨Ø¹Ø¯ Ø§Ø² DefaultIfEmpty Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒÙ…ØŒ Ú†ÙˆÙ† ÙÛŒÙ„ØªØ± Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† null Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
<li>Ø±Ø§Ù‡ Ø­Ù„: ÙÛŒÙ„ØªØ± Ø±Ø§ Ù‚Ø¨Ù„ Ø§Ø² DefaultIfEmpty Ø¨Ø§ ÛŒÚ© subquery Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒÙ…:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
from p in c.Purchases.Where(p =&gt; p.Price &gt; 1000).DefaultIfEmpty()
select new {
    c.Name,
    Descript = p == null ? null : p.Description,
    Price = p == null ? (decimal?) null : p.Price
};
</code></pre>
<ul>
<li>âœ… EF Core Ø§ÛŒÙ† Ø±Ø§ Ø¨Ù‡ <strong>left outer join</strong> ØªØ±Ø¬Ù…Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ø§ÛŒÙ† ÛŒÚ© <strong>Ø§Ù„Ú¯ÙˆÛŒ Ù…ÙˆØ«Ø± Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ØªÙ† Ú†Ù†ÛŒÙ† queryÙ‡Ø§ÛŒÛŒ</strong> Ø§Ø³Øª.</li>
</ul>
<p>Ø§Ú¯Ø± Ø¨Ù‡ Ù†ÙˆØ´ØªÙ† <strong>outer join</strong> Ø¯Ø± SQL Ø¹Ø§Ø¯Øª Ø¯Ø§Ø±ÛŒØŒ Ù…Ù…Ú©Ù†Ù‡ ÙˆØ³ÙˆØ³Ù‡ Ø¨Ø´ÛŒ Ú©Ù‡ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÛŒ Ø³Ø§Ø¯Ù‡â€ŒØªØ± ÛŒØ¹Ù†ÛŒ <strong>Select subquery</strong> Ø±Ùˆ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ø¨Ú¯ÛŒØ±ÛŒ Ùˆ Ø¨Ù‡ Ø³Ù…Øª Ø±ÙˆØ´ ØªØ®Øª Ùˆ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒÛŒ SQL-centric Ø¨Ø±ÛŒ Ú©Ù‡ Ø¢Ø´Ù†Ø§ØªØ± Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ù‡.</p>
<p>âœ… ÙˆØ§Ù‚Ø¹ÛŒØª Ø§ÛŒÙ†Ù‡ Ú©Ù‡ <strong>hierarchical result set</strong> Ú©Ù‡ Ø§Ø² ÛŒÚ© Select subquery Ø¨Ù‡ Ø¯Ø³Øª Ù…ÛŒØ§Ø¯ØŒ Ø§ØºÙ„Ø¨ Ø¨Ø±Ø§ÛŒ queryÙ‡Ø§ÛŒ Ø³Ø¨Ú© outer join Ø¨Ù‡ØªØ±Ù‡ØŒ Ú†ÙˆÙ† Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª nullÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒ Ùˆ Ú©Ø§Ø± ØªÙ…ÛŒØ²ØªØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´Ù‡.</p>
<h3>Joining</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-11.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>âœ¨ Ù†Ø­ÙˆÛ€ Query Ø¯Ø± LINQ</h3>
<pre><code>from outer-var in outer-enumerable
join inner-var in inner-enumerable on outer-key-expr equals inner-key-expr
[ into identifier ]
</code></pre>
<h3>ğŸ“– Ù…Ø±ÙˆØ± Ú©Ù„ÛŒ (Overview)</h3>
<p>ğŸ”¹ <strong>Join</strong> Ùˆ <strong>GroupJoin</strong> Ø¯Ùˆ ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ (input sequences) Ø±Ø§ Ø¨Ù‡ ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø®Ø±ÙˆØ¬ÛŒ (output sequence) ØªØ±Ú©ÛŒØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
<ul>
<li><strong>Join</strong> Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø³Ø·Ø­ (flat output) ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li><strong>GroupJoin</strong> Ø®Ø±ÙˆØ¬ÛŒ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ (hierarchical output) ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
</ul>
<p>âœ¨ <strong>Join</strong> Ùˆ <strong>GroupJoin</strong> ÛŒÚ© Ø±Ø§Ù‡Ø¨Ø±Ø¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø¨Ø±Ø§ÛŒ <strong>Select</strong> Ùˆ <strong>SelectMany</strong> Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.</p>
<p>âœ… <strong>Ù…Ø²ÛŒØª Join Ùˆ GroupJoin</strong> Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ù‡â€ŒØ´Ú©Ù„ Ú©Ø§Ø±Ø¢Ù…Ø¯ Ø±ÙˆÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ (local in-memory collections) Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ú†ÙˆÙ† Ø§Ø¨ØªØ¯Ø§ ØªÙˆØ§Ù„ÛŒ Ø¯Ø±ÙˆÙ†ÛŒ (inner sequence) Ø±Ø§ Ø¯Ø§Ø®Ù„ ÛŒÚ© lookup Ú©Ù„ÛŒØ¯Ø¯Ø§Ø± (keyed lookup) Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ùˆ Ø¨Ù‡ Ø§ÛŒÙ† ØªØ±ØªÛŒØ¨ Ø§Ø² Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾ÛŒÙ…Ø§ÛŒØ´ (enumerate) Ù…Ú©Ø±Ø± Ø±ÙˆÛŒ Ù‡Ø± Ø¹Ù†ØµØ± Ø¯Ø§Ø®Ù„ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
<p>âš ï¸ <strong>Ø¹ÛŒØ¨ Ø¢Ù†â€ŒÙ‡Ø§</strong> Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ ØªÙ†Ù‡Ø§ Ù…Ø¹Ø§Ø¯Ù„ <strong>inner join</strong> Ùˆ <strong>left outer join</strong> Ø±Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯Ø› Ø¨Ø±Ø§ÛŒ <strong>cross join</strong> Ùˆ <strong>non-equi join</strong> Ù‡Ù…Ú†Ù†Ø§Ù† Ø¨Ø§ÛŒØ¯ Ø§Ø² <strong>Select/SelectMany</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯.</p>
<p>ğŸ“Œ Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ <strong>EF Core</strong>ØŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>Join</strong> Ùˆ <strong>GroupJoin</strong> Ù…Ø²ÛŒØª Ø®Ø§ØµÛŒ Ù†Ø³Ø¨Øª Ø¨Ù‡ <strong>Select</strong> Ùˆ <strong>SelectMany</strong> Ù†Ø¯Ø§Ø±Ø¯.</p>
<p>ğŸ“Š Ø¬Ø¯ÙˆÙ„ <strong>Û¹-Û±</strong> ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ù…ÛŒØ§Ù† Ù‡Ø± ÛŒÚ© Ø§Ø² Ø±Ø§Ù‡Ø¨Ø±Ø¯Ù‡Ø§ÛŒ join Ø±Ø§ Ø®Ù„Ø§ØµÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-12.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”— Join</h3>
<p>Ø§Ù¾Ø±Ø§ØªÙˆØ± <strong>Join</strong> ÛŒÚ© <strong>inner join</strong> Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ùˆ ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø³Ø·Ø­ (flat output sequence) ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
<p>ğŸ”¹ Ù…Ø«Ø§Ù„ Ø²ÛŒØ±ØŒ Ù‡Ù…Û€ Ù…Ø´ØªØ±ÛŒØ§Ù† (customers) Ø±Ø§ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒØ´Ø§Ù† (purchases) ÙÙ‡Ø±Ø³Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² ÙˆÛŒÚ˜Ú¯ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ (navigation property) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯:</p>
<pre><code class="language-csharp">IQueryable&lt;string&gt; query =
  from c in dbContext.Customers
  join p in dbContext.Purchases on c.ID equals p.CustomerID
  select c.Name + &quot; bought a &quot; + p.Description;
</code></pre>
<p>ğŸ“‹ Ù†ØªØ§ÛŒØ¬ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…Ø§Ù† Ú†ÛŒØ²ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ ÛŒÚ© Ú©ÙˆØ¦Ø±ÛŒ Ø¨Ù‡ Ø³Ø¨Ú© <strong>SelectMany</strong> Ø¨Ù‡ Ø¯Ø³Øª Ù…ÛŒâ€ŒØ¢ÛŒØ¯:</p>
<pre><code>Tom bought a Bike
Tom bought a Holiday
Dick bought a Phone
Harry bought a Car
</code></pre>
<hr>
<h3>âš¡ Ù…Ø²ÛŒØª Join Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± SelectMany</h3>
<p>Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù† Ù…Ø²ÛŒØª <strong>Join</strong> Ø¯Ø± Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ <strong>SelectMany</strong>ØŒ Ø¨Ø§ÛŒØ¯ Ú©ÙˆØ¦Ø±ÛŒ Ø±Ø§ Ø¨Ù‡ Ø­Ø§Ù„Øª Ù…Ø­Ù„ÛŒ (local query) ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†ÛŒÙ….</p>
<p>Ø§ÙˆÙ„ØŒ ØªÙ…Ø§Ù… Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ø®Ø±ÛŒØ¯Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ø¢Ø±Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ú©Ù¾ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ùˆ Ø³Ù¾Ø³ Ø±ÙˆÛŒ Ø¢Ø±Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ú©ÙˆØ¦Ø±ÛŒ Ù…ÛŒâ€ŒØ²Ù†ÛŒÙ…:</p>
<pre><code class="language-csharp">Customer[] customers = dbContext.Customers.ToArray();
Purchase[] purchases = dbContext.Purchases.ToArray();

var slowQuery = from c in customers
                from p in purchases
                where c.ID == p.CustomerID
                select c.Name + &quot; bought a &quot; + p.Description;

var fastQuery = from c in customers
                join p in purchases on c.ID equals p.CustomerID
                select c.Name + &quot; bought a &quot; + p.Description;
</code></pre>
<p>Ù‡Ø± Ø¯Ùˆ Ú©ÙˆØ¦Ø±ÛŒ Ù†ØªÛŒØ¬Ù‡ ÛŒÚ©Ø³Ø§Ù†ÛŒ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯ØŒ Ø§Ù…Ø§ Ú©ÙˆØ¦Ø±ÛŒ Ø¨Ø§ <strong>Join</strong> Ø¨Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ Ø³Ø±ÛŒØ¹â€ŒØªØ± Ø§Ø³Øª. Ø¯Ù„ÛŒÙ„Ø´ Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø± <strong>Enumerable</strong>ØŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¯Ø§Ø®Ù„ÛŒ (purchases) Ø±Ø§ Ø§Ø¨ØªØ¯Ø§ Ø¨Ù‡â€ŒØµÙˆØ±Øª ÛŒÚ© <strong>keyed lookup</strong> Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
<hr>
<h3>ğŸ“ Ù†Ø­ÙˆÛ€ Ú©Ù„ÛŒ Join</h3>
<p>Ù†Ø­ÙˆÛ€ Ù†ÙˆØ´ØªÙ† <strong>join</strong> Ø¨Ù‡â€ŒØ·ÙˆØ± Ú©Ù„ÛŒ Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± Ø§Ø³Øª:</p>
<pre><code>join inner-var in inner-sequence on outer-key-expr equals inner-key-expr
</code></pre>
<p>Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ <strong>Join</strong> Ø¯Ø± LINQ Ø¨ÛŒÙ† ØªÙˆØ§Ù„ÛŒ Ø¨ÛŒØ±ÙˆÙ†ÛŒ (outer sequence) Ùˆ ØªÙˆØ§Ù„ÛŒ Ø¯Ø±ÙˆÙ†ÛŒ (inner sequence) ØªÙ…Ø§ÛŒØ² Ù‚Ø§Ø¦Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
<ul>
<li>âœ… <strong>outer sequence</strong> â†’ Ù‡Ù…Ø§Ù† ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø§Ø³Øª (Ø¯Ø± Ø§ÛŒÙ† Ù…Ø«Ø§Ù„ØŒ customers).</li>
<li>âœ… <strong>inner sequence</strong> â†’ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¬Ø¯ÛŒØ¯ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø¹Ø±ÙÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ (Ø¯Ø± Ø§ÛŒÙ† Ù…Ø«Ø§Ù„ØŒ purchases).</li>
</ul>
<p>ğŸ“Œ <strong>Join</strong> ÙÙ‚Ø· <strong>inner join</strong> Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯Ø› ÛŒØ¹Ù†ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†ÛŒ Ú©Ù‡ Ø®Ø±ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø±Ù†Ø¯ Ø§Ø² Ø®Ø±ÙˆØ¬ÛŒ Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
Ø¯Ø± <strong>inner join</strong> Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªÙˆØ§Ù„ÛŒ Ø¨ÛŒØ±ÙˆÙ†ÛŒ Ùˆ Ø¯Ø±ÙˆÙ†ÛŒ Ø±Ø§ Ø¨Ø§ Ù‡Ù… Ø¬Ø§Ø¨Ù‡â€ŒØ¬Ø§ Ú©Ù†ÛŒØ¯ Ùˆ Ù‡Ù…Ú†Ù†Ø§Ù† Ù†ØªÛŒØ¬Ù‡ ÛŒÚ©Ø³Ø§Ù†ÛŒ Ø¨Ú¯ÛŒØ±ÛŒØ¯:</p>
<pre><code class="language-csharp">from p in purchases                                // p Ø­Ø§Ù„Ø§ outer Ø§Ø³Øª
join c in customers on p.CustomerID equals c.ID    // c Ø­Ø§Ù„Ø§ inner Ø§Ø³Øª
...
</code></pre>
<hr>
<h3>ğŸ§© Ú†Ù†Ø¯ÛŒÙ† Join Ø¯Ø± ÛŒÚ© Ú©ÙˆØ¦Ø±ÛŒ</h3>
<p>Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú†Ù†Ø¯ÛŒÙ† Ø¹Ø¨Ø§Ø±Øª <strong>join</strong> Ø¯Ø± ÛŒÚ© Ú©ÙˆØ¦Ø±ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.
Ù…Ø«Ù„Ø§Ù‹ Ø§Ú¯Ø± Ù‡Ø± Ø®Ø±ÛŒØ¯ (purchase) ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ Ø¢ÛŒØªÙ… Ø®Ø±ÛŒØ¯ (purchase items) Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases on c.ID equals p.CustomerID           // first join
join pi in purchaseItems on p.ID equals pi.PurchaseID     // second join
...
</code></pre>
<p>ğŸ“Œ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ØŒ <code>purchases</code> Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ† join Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† <strong>inner sequence</strong> Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¯Ø± Ø¯ÙˆÙ…ÛŒÙ† join Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† <strong>outer sequence</strong>.</p>
<p>Ù…Ø¹Ø§Ø¯Ù„ Ù†Ø§Ú©Ø§Ø±Ø¢Ù…Ø¯ Ù‡Ù…ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§ <strong>foreach</strong> Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± Ø§Ø³Øª:</p>
<pre><code class="language-csharp">foreach (Customer c in customers)
  foreach (Purchase p in purchases)
    if (c.ID == p.CustomerID)
      foreach (PurchaseItem pi in purchaseItems)
        if (p.ID == pi.PurchaseID)
          Console.WriteLine (c.Name + &quot;,&quot; + p.Price + &quot;,&quot; + pi.Detail);
</code></pre>
<p>Ø¯Ø± Ù†Ø­ÙˆÛ€ QueryØŒ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ joinÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ù‡Ù…Ú†Ù†Ø§Ù† Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù‡Ø³ØªÙ†Ø¯â€”Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù…Ø«Ù„ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ Ø³Ø¨Ú© <strong>SelectMany</strong> Ø§ØªÙØ§Ù‚ Ù…ÛŒâ€ŒØ§ÙØªØ¯.
Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨ÛŒÙ† joinÙ‡Ø§ØŒ Ø§Ø² <strong>where</strong> Ùˆ <strong>let</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</p>
<hr>
<h3>ğŸ”‘ Join Ø¨Ø§ Ú†Ù†Ø¯ Ú©Ù„ÛŒØ¯</h3>
<p>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±ÙˆÛŒ Ú†Ù†Ø¯ Ú©Ù„ÛŒØ¯ Ø¨Ù‡â€ŒØ·ÙˆØ± Ù‡Ù…Ø²Ù…Ø§Ù† join Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø§Ø² <strong>anonymous types</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
<pre><code class="language-csharp">from x in sequenceX
join y in sequenceY on new { K1 = x.Prop1, K2 = x.Prop2 }
                   equals new { K1 = y.Prop3, K2 = y.Prop4 }
...
</code></pre>
<p>Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø± Ø¯Ø±Ø³Øª Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯ØŒ Ø¯Ùˆ <strong>anonymous type</strong> Ø¨Ø§ÛŒØ¯ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ ÛŒÚ© Ø³Ø§Ø®ØªØ§Ø± (structure) Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.
Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± Ù‡Ø± Ø¯Ùˆ Ø±Ø§ Ø¨Ø§ ÛŒÚ© Ù†ÙˆØ¹ Ø¯Ø§Ø®Ù„ÛŒ ÛŒÚ©Ø³Ø§Ù† Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ join Ø¨Ø§ Ù‡Ù… Ø³Ø§Ø²Ú¯Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
<h3>ğŸ”— Join Ø¯Ø± <strong>Fluent Syntax</strong></h3>
<p>ğŸ”¹ Ú©ÙˆØ¦Ø±ÛŒ Ø²ÛŒØ± Ø¯Ø± Ù†Ø­ÙˆÛ€ Query:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases on c.ID equals p.CustomerID
select new { c.Name, p.Description, p.Price };
</code></pre>
<p>Ø¨Ù‡ Ø´Ú©Ù„ <strong>Fluent Syntax</strong> Ø§ÛŒÙ†â€ŒØ·ÙˆØ± Ù†ÙˆØ´ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
<pre><code class="language-csharp">customers.Join(                // outer collection
    purchases,                 // inner collection
    c =&gt; c.ID,                 // outer key selector
    p =&gt; p.CustomerID,         // inner key selector
    (c, p) =&gt; new              // result selector
        { c.Name, p.Description, p.Price }
);
</code></pre>
<p>ğŸ“Œ Ø¹Ø¨Ø§Ø±Øª <strong>result selector</strong> Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ØŒ Ù‡Ø± Ø¹Ù†ØµØ± Ø®Ø±ÙˆØ¬ÛŒ Ø±Ø§ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.</p>
<hr>
<h3>ğŸ“‘ Ø§ÙØ²ÙˆØ¯Ù† Ø¹Ø¨Ø§Ø±Ø§Øª Ø¯ÛŒÚ¯Ø± (orderby Ùˆ â€¦)</h3>
<p>Ø§Ú¯Ø± Ù‚Ø¨Ù„ Ø§Ø² Ø¨Ø®Ø´ <strong>select</strong> Ø¹Ø¨Ø§Ø±Ø§ØªÛŒ Ù…Ø«Ù„ <strong>orderby</strong> Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases on c.ID equals p.CustomerID
orderby p.Price
select c.Name + &quot; bought a &quot; + p.Description;
</code></pre>
<p>Ø¯Ø± <strong>Fluent Syntax</strong> Ø¨Ø§ÛŒØ¯ ÛŒÚ© Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø³ Ù…ÙˆÙ‚Øª (temporary anonymous type) Ø¨Ø³Ø§Ø²ÛŒÙ… ØªØ§ Ù‡Ø± Ø¯Ùˆ Ù…ØªØºÛŒØ± <code>c</code> Ùˆ <code>p</code> Ù¾Ø³ Ø§Ø² join Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø¨Ø§Ø´Ù†Ø¯:</p>
<pre><code class="language-csharp">customers.Join(                  // outer collection
    purchases,                   // inner collection
    c =&gt; c.ID,                   // outer key selector
    p =&gt; p.CustomerID,           // inner key selector
    (c, p) =&gt; new { c, p })      // result selector
    .OrderBy(x =&gt; x.p.Price)
    .Select(x =&gt; x.c.Name + &quot; bought a &quot; + x.p.Description);
</code></pre>
<p>âœ… Ø¯Ø± Ø¹Ù…Ù„ØŒ Ù†Ø­ÙˆÛ€ Query Ø¨Ø±Ø§ÛŒ join Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ ØªØ±Ø¬ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ú†ÙˆÙ† Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ùˆ Ø®ÙˆØ§Ù†Ø§ØªØ± Ø§Ø³Øª.</p>
<hr>
<h2>ğŸ‘¥ GroupJoin</h2>
<p>ğŸ”¹ <strong>GroupJoin</strong> Ù‡Ù…Ø§Ù† Ú©Ø§Ø± <strong>Join</strong> Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ Ø§Ù…Ø§ Ø¨Ù‡â€ŒØ¬Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø³Ø·Ø­ Ø¨Ø¯Ù‡Ø¯ØŒ ÛŒÚ© Ø®Ø±ÙˆØ¬ÛŒ Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ (hierarchical result) ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‡Ø± Ø¹Ù†ØµØ± Ø¨ÛŒØ±ÙˆÙ†ÛŒ (outer element) Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.
Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ù…Ú©Ø§Ù† <strong>left outer join</strong> Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
ğŸ“Œ ØªÙˆØ¬Ù‡: <strong>GroupJoin</strong> Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¯Ø± <strong>EF Core</strong> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<hr>
<h3>âœï¸ Ù†Ø­ÙˆÛ€ Query Ø¨Ø±Ø§ÛŒ GroupJoin</h3>
<p>Ù†Ø­ÙˆÛ€ Query Ø¨Ø±Ø§ÛŒ <strong>GroupJoin</strong> Ù…Ø«Ù„ <strong>Join</strong> Ø§Ø³ØªØŒ Ø§Ù…Ø§ Ø¨Ø§ Ú©Ù„Ù…Û€ Ú©Ù„ÛŒØ¯ÛŒ <strong>into</strong> Ø¯Ù†Ø¨Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<p>ğŸ”¹ ÛŒÚ© Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡ Ø¨Ø§ Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø­Ù„ÛŒ:</p>
<pre><code class="language-csharp">Customer[] customers = dbContext.Customers.ToArray();
Purchase[] purchases = dbContext.Purchases.ToArray();

IEnumerable&lt;IEnumerable&lt;Purchase&gt;&gt; query =
  from c in customers
  join p in purchases on c.ID equals p.CustomerID
  into custPurchases
  select custPurchases;   // custPurchases ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø§Ø³Øª
</code></pre>
<p>ğŸ“Œ Ø¹Ø¨Ø§Ø±Øª <code>into</code> ØªÙ†Ù‡Ø§ Ø²Ù…Ø§Ù†ÛŒ Ø¨Ù‡ <strong>GroupJoin</strong> ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ <strong>Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² ÛŒÚ© join</strong> Ø¨ÛŒØ§ÛŒØ¯.
Ø§Ú¯Ø± Ø¨Ø¹Ø¯ Ø§Ø² <strong>select</strong> ÛŒØ§ <strong>group</strong> Ø¨ÛŒØ§ÛŒØ¯ØŒ Ù…Ø¹Ù†Ø§ÛŒØ´ <strong>query continuation</strong> Ø§Ø³Øª.
Ù‡Ø± Ø¯Ùˆ Ù…ÙˆØ±Ø¯ ÛŒÚ© ÙˆÛŒÚ˜Ú¯ÛŒ Ù…Ø´ØªØ±Ú© Ø¯Ø§Ø±Ù†Ø¯: Ù…Ø¹Ø±ÙÛŒ ÛŒÚ© Ù…ØªØºÛŒØ± Ø¬Ø¯ÛŒØ¯ (range variable).</p>
<p>ğŸ”¹ Ø®Ø±ÙˆØ¬ÛŒ ÛŒÚ© <strong>ØªÙˆØ§Ù„ÛŒ Ø§Ø² ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§</strong> Ø§Ø³Øª Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¢Ù† Ø±Ø§ Ø§ÛŒÙ†â€ŒØ·ÙˆØ± Ù¾ÛŒÙ…Ø§ÛŒØ´ Ú©Ù†ÛŒÙ…:</p>
<pre><code class="language-csharp">foreach (IEnumerable&lt;Purchase&gt; purchaseSequence in query)
    foreach (Purchase p in purchaseSequence)
        Console.WriteLine(p.Description);
</code></pre>
<hr>
<h3>ğŸ‘¤ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒâ€ŒØªØ± Ø§Ø² GroupJoin</h3>
<p>Ø¯Ø± Ø­Ø§Ù„Øª Ù…Ø¹Ù…ÙˆÙ„ØŒ Ú©ÙˆØ¦Ø±ÛŒ Ø±Ø§ Ø§ÛŒÙ†â€ŒØ·ÙˆØ± Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³ÛŒÙ… ØªØ§ Ø§Ø±ØªØ¨Ø§Ø· Ù…Ø´ØªØ±ÛŒ Ø¨Ø§ Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒØ´ Ø­ÙØ¸ Ø´ÙˆØ¯:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases on c.ID equals p.CustomerID
into custPurchases
select new { CustName = c.Name, custPurchases };
</code></pre>
<p>Ø§ÛŒÙ† Ù…Ø¹Ø§Ø¯Ù„ Ø§Ø³Øª Ø¨Ø§ Ø§ÛŒÙ† Ú©ÙˆØ¦Ø±ÛŒ (Ú©Ù‡ Ù†Ø§Ú©Ø§Ø±Ø¢Ù…Ø¯ Ø§Ø³Øª):</p>
<pre><code class="language-csharp">from c in customers
select new
{
    CustName = c.Name,
    custPurchases = purchases.Where(p =&gt; c.ID == p.CustomerID)
};
</code></pre>
<hr>
<h3>ğŸ”„ Left Outer Join Ø¯Ø± GroupJoin</h3>
<p>Ø¨Ù‡â€ŒØ·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ØŒ <strong>GroupJoin</strong> Ù…Ø¹Ø§Ø¯Ù„ ÛŒÚ© <strong>left outer join</strong> Ø§Ø³Øª.
Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† <strong>inner join</strong> (Ø­Ø°Ù Ù…Ø´ØªØ±ÛŒØ§Ù†ÛŒ Ú©Ù‡ Ø®Ø±ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø±Ù†Ø¯)ØŒ Ø¨Ø§ÛŒØ¯ Ø±ÙˆÛŒ <code>custPurchases</code> ÙÛŒÙ„ØªØ± Ø¨Ø²Ù†ÛŒØ¯:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases on c.ID equals p.CustomerID
into custPurchases
where custPurchases.Any()
select ...
</code></pre>
<p>ğŸ“Œ Ø¹Ø¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯ Ø§Ø² <strong>group-join into</strong> Ø±ÙˆÛŒ <strong>Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ (subsequences)</strong> Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ù†Ù‡ Ø±ÙˆÛŒ ØªÚ©â€ŒØªÚ© Ø¹Ù†Ø§ØµØ±.
Ù¾Ø³ Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø±ÙˆÛŒ Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ù…Ù†ÙØ±Ø¯ ÙÛŒÙ„ØªØ± Ú©Ù†ÛŒØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ù‚Ø¨Ù„ Ø§Ø² join Ø§Ø² <strong>Where</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases.Where(p2 =&gt; p2.Price &gt; 1000)
     on c.ID equals p.CustomerID
into custPurchases ...
</code></pre>
<p>Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ <strong>lambda</strong> Ø¨Ø§ <strong>GroupJoin</strong> Ø¯Ø±Ø³Øª Ù…Ø«Ù„ <strong>Join</strong> Ø¨Ø³Ø§Ø²ÛŒØ¯.</p>
<hr>
<h2>ğŸª„ Flat Outer Joins</h2>
<p>Ú¯Ø§Ù‡ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù‡Ù… <strong>outer join</strong> Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ùˆ Ù‡Ù… ÛŒÚ© Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø³Ø·Ø­ (flat result set).</p>
<ul>
<li><strong>GroupJoin</strong> â†’ outer join Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
<li><strong>Join</strong> â†’ Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø³Ø·Ø­ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
</ul>
<p>ğŸ“Œ Ø±Ø§Ù‡â€ŒØ­Ù„: Ø§ÙˆÙ„ <strong>GroupJoin</strong>ØŒ Ø¨Ø¹Ø¯ <strong>DefaultIfEmpty</strong> Ø±ÙˆÛŒ Ù‡Ø± Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒØŒ Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª <strong>SelectMany</strong>:</p>
<pre><code class="language-csharp">from c in customers
join p in purchases on c.ID equals p.CustomerID into custPurchases
from cp in custPurchases.DefaultIfEmpty()
select new
{
    CustName = c.Name,
    Price = cp == null ? (decimal?) null : cp.Price
};
</code></pre>
<p>âœ… Ø§Ú¯Ø± Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒ Ø®Ø±ÛŒØ¯Ù‡Ø§ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯ØŒ <strong>DefaultIfEmpty</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø¨Ø§ Ù…Ù‚Ø¯Ø§Ø± null ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
Ø¹Ø¨Ø§Ø±Øª Ø¯ÙˆÙ… <strong>from</strong> Ø¨Ù‡ <strong>SelectMany</strong> ØªØ±Ø¬Ù…Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ù‡Ù…Ù‡ Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ø¯Ø§Ø¯Ù‡ Ùˆ Ø¯Ø± ÛŒÚ© ØªÙˆØ§Ù„ÛŒ ÙˆØ§Ø­Ø¯ Ø§Ø² Ø¹Ù†Ø§ØµØ± Ø®Ø±ÛŒØ¯ Ù…Ø³Ø·Ø­ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
<h3>ğŸ” Joining with Lookups</h3>
<p>Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ <strong>Join</strong> Ùˆ <strong>GroupJoin</strong> Ø¯Ø± Ú©Ù„Ø§Ø³ <strong>Enumerable</strong> Ø¯Ø± Ø¯Ùˆ Ù…Ø±Ø­Ù„Ù‡ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:</p>
<ol>
<li>Ø§Ø¨ØªØ¯Ø§ ØªÙˆØ§Ù„ÛŒ Ø¯Ø±ÙˆÙ†ÛŒ (inner sequence) Ø±Ø§ Ø¯Ø§Ø®Ù„ ÛŒÚ© <strong>lookup</strong> Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</li>
<li>Ø³Ù¾Ø³ ØªÙˆØ§Ù„ÛŒ Ø¨ÛŒØ±ÙˆÙ†ÛŒ (outer sequence) Ø±Ø§ Ø¯Ø± ØªØ±Ú©ÛŒØ¨ Ø¨Ø§ lookup Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</li>
</ol>
<hr>
<h3>ğŸ“¦ Lookup Ú†ÛŒØ³ØªØŸ</h3>
<p>ÛŒÚ© <strong>lookup</strong> Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ (groupings) Ø§Ø³Øª Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡â€ŒØ·ÙˆØ± Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø§ Ú©Ù„ÛŒØ¯ (key) Ø¨Ù‡ Ø¢Ù†â€ŒÙ‡Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´Øª.
Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢Ù† Ø±Ø§ Ù…Ø«Ù„ ÛŒÚ© <strong>Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø§Ø² ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§</strong> ØªØµÙˆØ± Ú©Ù†ÛŒØ¯â€”ÛŒÚ© Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú†Ù†Ø¯ÛŒÙ† Ø¹Ù†ØµØ± Ø±Ø§ Ø²ÛŒØ± ÛŒÚ© Ú©Ù„ÛŒØ¯ Ù†Ú¯Ù‡ Ø¯Ø§Ø±Ø¯ (Ú¯Ø§Ù‡ÛŒ Ø¨Ù‡ Ø¢Ù† <strong>multidictionary</strong> Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯).</p>
<p>ğŸ“Œ Lookup ÙÙ‚Ø· Ø®ÙˆØ§Ù†Ø¯Ù†ÛŒ (read-only) Ø§Ø³Øª Ùˆ Ø±Ø§Ø¨Ø· Ø¢Ù† Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
<pre><code class="language-csharp">public interface ILookup&lt;TKey, TElement&gt; :
    IEnumerable&lt;IGrouping&lt;TKey, TElement&gt;&gt;, IEnumerable
{
    int Count { get; }
    bool Contains(TKey key);
    IEnumerable&lt;TElement&gt; this[TKey key] { get; }
}
</code></pre>
<hr>
<h3>â³ Ø§Ø¬Ø±Ø§ÛŒ Lazy</h3>
<p>Ù…Ø«Ù„ Ø³Ø§ÛŒØ± Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ LINQ Ú©Ù‡ Ø®Ø±ÙˆØ¬ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ join Ù†ÛŒØ² <strong>Deferred Execution</strong> ÛŒØ§ <strong>Lazy Execution</strong> Ø¯Ø§Ø±Ù†Ø¯.
ÛŒØ¹Ù†ÛŒ <strong>lookup</strong> Ø³Ø§Ø®ØªÙ‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ù¾ÛŒÙ…Ø§ÛŒØ´ (enumeration) Ø®Ø±ÙˆØ¬ÛŒ Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯â€”Ùˆ Ø¯Ø± Ø¢Ù† Ù„Ø­Ø¸Ù‡ Ú©Ù„ lookup ÛŒÚ©Ø¬Ø§ Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<hr>
<h3>ğŸ›  Ø³Ø§Ø®ØªÙ† Lookup Ø¯Ø³ØªÛŒ</h3>
<p>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ lookup Ø±Ø§ Ø¨Ù‡â€ŒØ·ÙˆØ± Ø¯Ø³ØªÛŒ Ø¨Ø³Ø§Ø²ÛŒØ¯ Ùˆ Ú©ÙˆØ¦Ø±ÛŒ Ø¨Ø²Ù†ÛŒØ¯. Ø§ÛŒÙ† Ú©Ø§Ø± Ú†Ù†Ø¯ Ù…Ø²ÛŒØª Ø¯Ø§Ø±Ø¯:</p>
<ul>
<li>âœ… Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© lookup Ø±Ø§ Ø¯Ø± Ú†Ù†Ø¯ÛŒÙ† Ú©ÙˆØ¦Ø±ÛŒ Ùˆ Ø­ØªÛŒ Ø¯Ø± Ú©Ø¯ Ø¯Ø³ØªÙˆØ±ÛŒ (imperative code) Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</li>
<li>âœ… Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ (query) Ø§Ø² lookup ÛŒÚ© Ø±Ø§Ù‡ Ø¹Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ú© Ù†Ø­ÙˆÛ€ Ú©Ø§Ø± <strong>Join</strong> Ùˆ <strong>GroupJoin</strong> Ø§Ø³Øª.</li>
</ul>
<p>ğŸ”¹ Ù…ØªØ¯ <strong>ToLookup</strong> ÛŒÚ© lookup Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯. Ù…Ø«Ø§Ù„: Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ…Ø§Ù… Ø®Ø±ÛŒØ¯Ù‡Ø§ (purchases) Ø¯Ø± ÛŒÚ© lookup Ú©Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ <strong>CustomerID</strong> Ú©Ù„ÛŒØ¯Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª:</p>
<pre><code class="language-csharp">ILookup&lt;int?, Purchase&gt; purchLookup =
    purchases.ToLookup(p =&gt; p.CustomerID, p =&gt; p);
</code></pre>
<ul>
<li>Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ø§ÙˆÙ„ â†’ Ú©Ù„ÛŒØ¯ (CustomerID).</li>
<li>Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ø¯ÙˆÙ… â†’ Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† value Ø¯Ø± lookup Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ“– Ø®ÙˆØ§Ù†Ø¯Ù† Ø§Ø² Lookup</h3>
<p>Ø®ÙˆØ§Ù†Ø¯Ù† Ø§Ø² ÛŒÚ© lookup Ø´Ø¨ÛŒÙ‡ Ø®ÙˆØ§Ù†Ø¯Ù† Ø§Ø² ÛŒÚ© Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø§Ø³ØªØŒ Ø¨Ø§ Ø§ÛŒÙ† ØªÙØ§ÙˆØª Ú©Ù‡ <strong>Indexer</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø§Ø² Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø·Ø¨Ù‚ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ (Ù†Ù‡ ÙÙ‚Ø· ÛŒÚ© Ø¢ÛŒØªÙ…).</p>
<pre><code class="language-csharp">foreach (Purchase p in purchLookup[1])
    Console.WriteLine(p.Description);
</code></pre>
<p>Ø§ÛŒÙ† Ú©Ø¯ ØªÙ…Ø§Ù… Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ù…Ø´ØªØ±ÛŒ Ø¨Ø§ ID Ø¨Ø±Ø§Ø¨Ø± 1 Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</p>
<hr>
<h3>âš¡ Ú©Ø§Ø±Ø§ÛŒÛŒ Lookup Ù…Ø«Ù„ Join/GroupJoin</h3>
<p>ÙˆÙ‚ØªÛŒ ÛŒÚ© lookup Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ <strong>SelectMany/Select</strong> Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ Ú©Ù‡ Ø¨Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²Û€ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ <strong>Join/GroupJoin</strong> Ú©Ø§Ø±Ø¢Ù…Ø¯ Ù‡Ø³ØªÙ†Ø¯.</p>
<p>ğŸ”¹ <strong>Join</strong> Ù…Ø¹Ø§Ø¯Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>SelectMany</strong> Ø±ÙˆÛŒ ÛŒÚ© lookup Ø§Ø³Øª:</p>
<pre><code class="language-csharp">from c in customers
from p in purchLookup[c.ID]
select new { c.Name, p.Description, p.Price };
</code></pre>
<p>ğŸ“‹ Ø®Ø±ÙˆØ¬ÛŒ:</p>
<pre><code>Tom Bike 500
Tom Holiday 2000
Dick Bike 600
Dick Phone 300
...
</code></pre>
<hr>
<h3>ğŸª„ Outer Join Ø¨Ø§ DefaultIfEmpty</h3>
<p>Ø§Ø¶Ø§ÙÙ‡â€ŒÚ©Ø±Ø¯Ù† <strong>DefaultIfEmpty</strong> Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø¹Ø§Ø¯Ù„ ÛŒÚ© <strong>outer join</strong> Ø´ÙˆØ¯:</p>
<pre><code class="language-csharp">from c in customers
from p in purchLookup[c.ID].DefaultIfEmpty()
select new
{
    c.Name,
    Descript = p == null ? null : p.Description,
    Price = p == null ? (decimal?) null : p.Price
};
</code></pre>
<hr>
<h3>ğŸ§© GroupJoin Ù…Ø¹Ø§Ø¯Ù„ Lookup</h3>
<p><strong>GroupJoin</strong> Ù…Ø¹Ø§Ø¯Ù„ Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ lookup Ø±Ø§ Ø¯Ø§Ø®Ù„ projection Ø¨Ø®ÙˆØ§Ù†ÛŒÙ…:</p>
<pre><code class="language-csharp">from c in customers
select new
{
    CustName = c.Name,
    CustPurchases = purchLookup[c.ID]
};
</code></pre>
<hr>
<h2>âš™ï¸ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Enumerable.Join</h2>
<p>Ø³Ø§Ø¯Ù‡â€ŒØªØ±ÛŒÙ† Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø¹ØªØ¨Ø± <strong>Enumerable.Join</strong> (Ø¨Ø¯ÙˆÙ† Ø¯Ø±Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ† null-check):</p>
<pre><code class="language-csharp">public static IEnumerable&lt;TResult&gt; Join
    &lt;TOuter, TInner, TKey, TResult&gt;(
        this IEnumerable&lt;TOuter&gt; outer,
        IEnumerable&lt;TInner&gt; inner,
        Func&lt;TOuter, TKey&gt; outerKeySelector,
        Func&lt;TInner, TKey&gt; innerKeySelector,
        Func&lt;TOuter, TInner, TResult&gt; resultSelector)
{
    ILookup&lt;TKey, TInner&gt; lookup = inner.ToLookup(innerKeySelector);
    return
        from outerItem in outer
        from innerItem in lookup[outerKeySelector(outerItem)]
        select resultSelector(outerItem, innerItem);
}
</code></pre>
<hr>
<h2>âš™ï¸ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Enumerable.GroupJoin</h2>
<p>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ <strong>GroupJoin</strong> Ø´Ø¨ÛŒÙ‡ Join Ø§Ø³ØªØŒ Ø§Ù…Ø§ Ø³Ø§Ø¯Ù‡â€ŒØªØ±:</p>
<pre><code class="language-csharp">public static IEnumerable&lt;TResult&gt; GroupJoin
    &lt;TOuter, TInner, TKey, TResult&gt;(
        this IEnumerable&lt;TOuter&gt; outer,
        IEnumerable&lt;TInner&gt; inner,
        Func&lt;TOuter, TKey&gt; outerKeySelector,
        Func&lt;TInner, TKey&gt; innerKeySelector,
        Func&lt;TOuter, IEnumerable&lt;TInner&gt;, TResult&gt; resultSelector)
{
    ILookup&lt;TKey, TInner&gt; lookup = inner.ToLookup(innerKeySelector);
    return
        from outerItem in outer
        select resultSelector(
            outerItem,
            lookup[outerKeySelector(outerItem)]);
}
</code></pre>
<hr>
<h2>ğŸ”— The Zip Operator</h2>
<pre><code class="language-csharp">IEnumerable&lt;TFirst&gt;, IEnumerable&lt;TSecond&gt; â†’ IEnumerable&lt;TResult&gt;
</code></pre>
<p>Ø§Ù¾Ø±Ø§ØªÙˆØ± <strong>Zip</strong> Ø¯Ùˆ ØªÙˆØ§Ù„ÛŒ Ø±Ø§ <strong>Ú¯Ø§Ù…â€ŒØ¨Ù‡â€ŒÚ¯Ø§Ù…</strong> (Ù…Ø«Ù„ Ø²ÛŒÙ¾) Ù¾ÛŒÙ…Ø§ÛŒØ´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¨Ø§ Ø§Ø¹Ù…Ø§Ù„ ÛŒÚ© ØªØ§Ø¨Ø¹ Ø±ÙˆÛŒ Ù‡Ø± Ø¬ÙØª Ø¹Ù†ØµØ±ØŒ ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø¬Ø¯ÛŒØ¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.</p>
<p>ğŸ”¹ Ù…Ø«Ø§Ù„:</p>
<pre><code class="language-csharp">int[] numbers = { 3, 5, 7 };
string[] words = { &quot;three&quot;, &quot;five&quot;, &quot;seven&quot;, &quot;ignored&quot; };

IEnumerable&lt;string&gt; zip =
    numbers.Zip(words, (n, w) =&gt; n + &quot;=&quot; + w);
</code></pre>
<p>ğŸ“‹ Ø®Ø±ÙˆØ¬ÛŒ:</p>
<pre><code>3=three
5=five
7=seven
</code></pre>
<p>ğŸ“Œ Ø¹Ù†Ø§ØµØ± Ø§Ø¶Ø§ÙÙ‡ Ø¯Ø± Ù‡Ø± ÛŒÚ© Ø§Ø² ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
âš ï¸ <strong>Zip</strong> Ø¯Ø± <strong>EF Core</strong> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
<h3>ğŸ“‘ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ (Ordering)</h3>
<pre><code>IEnumerable&lt;TSource&gt; â†’ IOrderedEnumerable&lt;TSource&gt;
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-13.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>Ø¹Ù…Ù„Ú¯Ø±Ù‡Ø§ÛŒ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ (Ordering operators) Ù‡Ù…Ø§Ù† Ø¹Ù†Ø§ØµØ± Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯ØŒ Ø§Ù…Ø§ Ø¯Ø± <strong>ØªØ±ØªÛŒØ¨ Ù…ØªÙØ§ÙˆØª</strong>.</p>
<h3>ğŸ”€ OrderBy, OrderByDescending, ThenBy, ThenByDescending</h3>
<h4>ğŸ“Œ Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ OrderBy Ùˆ OrderByDescending</h4>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-14.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<p>Ù†ÙˆØ¹ Ø¨Ø§Ø²Ú¯Ø´ØªÛŒ = <code>IOrderedEnumerable&lt;TSource&gt;</code></p>
<h3>ğŸ”¹ Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ ThenBy Ùˆ ThenByDescending</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-15.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“‘ Ù†Ø­ÙˆÛ€ Query (Query syntax)</h3>
<pre><code>orderby expression1 [descending] [, expression2 [descending] ... ]
</code></pre>
<hr>
<h3>ğŸ“– Ù…Ø±ÙˆØ± Ú©Ù„ÛŒ (Overview)</h3>
<ul>
<li><strong>OrderBy</strong> Ù†Ø³Ø®Ù‡â€ŒØ§ÛŒ Ù…Ø±ØªØ¨â€ŒØ´Ø¯Ù‡ Ø§Ø² ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ùˆ Ø§Ø² <strong>keySelector</strong> Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ù…Ø«Ø§Ù„: ØªÙˆÙ„ÛŒØ¯ ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø§Ø² Ù†Ø§Ù…â€ŒÙ‡Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø­Ø±ÙˆÙ Ø§Ù„ÙØ¨Ø§:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = names.OrderBy(s =&gt; s);
</code></pre>
<ul>
<li>Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø·ÙˆÙ„ Ù†Ø§Ù…:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = names.OrderBy(s =&gt; s.Length);
// Ù†ØªÛŒØ¬Ù‡: { &quot;Jay&quot;, &quot;Tom&quot;, &quot;Mary&quot;, &quot;Dick&quot;, &quot;Harry&quot; };
</code></pre>
<ul>
<li>ØªØ±ØªÛŒØ¨ Ù†Ø³Ø¨ÛŒ Ø¹Ù†Ø§ØµØ±ÛŒ Ú©Ù‡ Ú©Ù„ÛŒØ¯ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ©Ø³Ø§Ù† Ø¯Ø§Ø±Ù†Ø¯ (Ù…Ø«Ù„ Jay/Tom Ùˆ Mary/Dick) Ù…Ø´Ø®Øµ Ù†ÛŒØ³Øªâ€”Ù…Ú¯Ø± Ø§ÛŒÙ†Ú©Ù‡ <strong>ThenBy</strong> Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">IEnumerable&lt;string&gt; query = names.OrderBy(s =&gt; s.Length).ThenBy(s =&gt; s);
// Ù†ØªÛŒØ¬Ù‡: { &quot;Jay&quot;, &quot;Tom&quot;, &quot;Dick&quot;, &quot;Mary&quot;, &quot;Harry&quot; };
</code></pre>
<ul>
<li><strong>ThenBy</strong> ØªÙ†Ù‡Ø§ Ø¹Ù†Ø§ØµØ± Ø¨Ø§ Ù‡Ù…Ø§Ù† Ú©Ù„ÛŒØ¯ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù…Ø±ØªØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ø± ØªØ¹Ø¯Ø§Ø¯ <strong>ThenBy</strong> Ø±Ø§ Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. Ù…Ø«Ø§Ù„: Ø§Ø¨ØªØ¯Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø·ÙˆÙ„ØŒ Ø³Ù¾Ø³ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¯ÙˆÙ…ØŒ Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ú©Ø§Ø±Ø§Ú©ØªØ± Ø§ÙˆÙ„:</li>
</ul>
<pre><code class="language-csharp">names.OrderBy(s =&gt; s.Length).ThenBy(s =&gt; s[1]).ThenBy(s =&gt; s[0]);
</code></pre>
<hr>
<h3>ğŸ”„ Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ø± Ù†Ø­ÙˆÛ€ Query</h3>
<pre><code class="language-csharp">from s in names
orderby s.Length, s[1], s[0]
select s;
</code></pre>
<p>âš ï¸ Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡: Ø§ÛŒÙ† Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ <code>s[1]</code> Ùˆ Ø³Ù¾Ø³ <code>s.Length</code> Ù…Ø±ØªØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (ÛŒØ§ Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ ÙÙ‚Ø· Ø¨Ø± Ø§Ø³Ø§Ø³ <code>s[1]</code> Ù…Ø±ØªØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ØªØ±ØªÛŒØ¨ Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯):</p>
<pre><code class="language-csharp">from s in names
orderby s.Length
orderby s[1]
...
</code></pre>
<hr>
<h3>ğŸ”½ OrderByDescending Ùˆ ThenByDescending</h3>
<p>Ø§ÛŒÙ† Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ Ù‡Ù…Ø§Ù† Ú©Ø§Ø±Ù‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ Ø§Ù…Ø§ Ø®Ø±ÙˆØ¬ÛŒ Ø±Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ù…Ø¹Ú©ÙˆØ³ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.</p>
<p>Ù…Ø«Ø§Ù„ EF Core: Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø®Ø±ÛŒØ¯Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚ÛŒÙ…Øª Ù†Ø²ÙˆÙ„ÛŒ Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ø¨Ø±Ø§Ø¨Ø± Ø¨ÙˆØ¯Ù† Ù‚ÛŒÙ…ØªØŒ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø§Ù„ÙØ¨Ø§ÛŒÛŒ:</p>
<pre><code class="language-csharp">dbContext.Purchases
    .OrderByDescending(p =&gt; p.Price)
    .ThenBy(p =&gt; p.Description);
</code></pre>
<p>Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ø± Ù†Ø­ÙˆÛ€ Query:</p>
<pre><code class="language-csharp">from p in dbContext.Purchases
orderby p.Price descending, p.Description
select p;
</code></pre>
<h3>ğŸ“š Comparers Ùˆ Collations</h3>
<ul>
<li>Ø¯Ø± ÛŒÚ© <strong>Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø­Ù„ÛŒ (local query)</strong>ØŒ Ø®ÙˆØ¯Ù Ø§Ø´ÛŒØ§Ø¡ Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡ ØªÙˆØ³Ø· <strong>key selector</strong> Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ <strong>IComparable</strong> ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ (Ø±Ø¬ÙˆØ¹ Ú©Ù†ÛŒØ¯ Ø¨Ù‡ ÙØµÙ„ Û·).</li>
<li>Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ ÛŒÚ© Ø´ÛŒØ¡ <strong>IComparer</strong> Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ Ú©Ù†ÛŒØ¯. Ù…Ø«Ø§Ù„: Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ <strong>ØºÛŒØ±Ø­Ø³Ø§Ø³ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯/Ú©ÙˆÚ†Ú©</strong>:</li>
</ul>
<pre><code class="language-csharp">names.OrderBy(n =&gt; n, StringComparer.CurrentCultureIgnoreCase);
</code></pre>
<ul>
<li>Ø§Ø±Ø³Ø§Ù„ <strong>comparer</strong> Ø¯Ø± Ù†Ø­ÙˆÛ€ Query ÛŒØ§ ØªÙˆØ³Ø· <strong>EF Core</strong> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
<li>Ù‡Ù†Ú¯Ø§Ù… Ú©ÙˆØ¦Ø±ÛŒ Ø²Ø¯Ù† Ø±ÙˆÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ØŒ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªÙˆØ³Ø· <strong>Collation</strong> Ø³ØªÙˆÙ† Ù…Ø±Ø¨ÙˆØ·Ù‡ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
<li>Ø§Ú¯Ø± Collation Ø­Ø³Ø§Ø³ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø§Ø´Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ ØºÛŒØ±Ø­Ø³Ø§Ø³ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯/Ú©ÙˆÚ†Ú© Ø±Ø§ Ø¨Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ <code>ToUpper</code> Ø¯Ø± <strong>key selector</strong> Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">from p in dbContext.Purchases
orderby p.Description.ToUpper()
select p;
</code></pre>
<hr>
<h3>ğŸ”¹ IOrderedEnumerable Ùˆ IOrderedQueryable</h3>
<ul>
<li>
<p>Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒØŒ Ø²ÛŒØ±Ù†ÙˆØ¹â€ŒÙ‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø§Ø² <code>IEnumerable&lt;T&gt;</code> Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯:</p>
<ul>
<li>Ø¯Ø± <strong>Enumerable</strong> â†’ <code>IOrderedEnumerable&lt;TSource&gt;</code></li>
<li>Ø¯Ø± <strong>Queryable</strong> â†’ <code>IOrderedQueryable&lt;TSource&gt;</code></li>
</ul>
</li>
<li>
<p>Ø§ÛŒÙ† Ø²ÛŒØ±Ù†ÙˆØ¹â€ŒÙ‡Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ Ú©Ù‡ Ø§Ù¾Ø±Ø§ØªÙˆØ± <strong>ThenBy</strong>ØŒ ØªØ±ØªÛŒØ¨ Ù…ÙˆØ¬ÙˆØ¯ Ø±Ø§ <strong>ØªÚ©Ù…ÛŒÙ„</strong> Ú©Ù†Ø¯ Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù†Ú©Ù†Ø¯.</p>
</li>
<li>
<p>Ø§Ø¹Ø¶Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø§ÛŒÙ† Ø²ÛŒØ±Ù†ÙˆØ¹â€ŒÙ‡Ø§ Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø¹Ù…ÙˆÙ…ÛŒ Ù†Ù…Ø§ÛŒØ§Ù† Ù†ÛŒØ³ØªÙ†Ø¯ Ùˆ Ø´Ø¨ÛŒÙ‡ ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¹Ø§Ø¯ÛŒ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
</li>
</ul>
<p>ğŸ”¹ Ù…Ø«Ø§Ù„: Ø³Ø§Ø®Øª Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</p>
<pre><code class="language-csharp">IOrderedEnumerable&lt;string&gt; query1 = names.OrderBy(s =&gt; s.Length);
IOrderedEnumerable&lt;string&gt; query2 = query1.ThenBy(s =&gt; s);
</code></pre>
<p>âš ï¸ Ø§Ú¯Ø± <code>query1</code> Ø§Ø² Ù†ÙˆØ¹ <code>IEnumerable&lt;string&gt;</code> ØªØ¹Ø±ÛŒÙ Ø´ÙˆØ¯ØŒ Ø®Ø· Ø¯ÙˆÙ… Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯â€”Ú†ÙˆÙ† <strong>ThenBy</strong> Ø¨Ù‡ ÙˆØ±ÙˆØ¯ÛŒ Ø§Ø² Ù†ÙˆØ¹ <code>IOrderedEnumerable&lt;string&gt;</code> Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯.</p>
<hr>
<h3>ğŸ”¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ§ÛŒÙ¾ Ø¶Ù…Ù†ÛŒ (Implicit Typing)</h3>
<pre><code class="language-csharp">var query1 = names.OrderBy(s =&gt; s.Length);
var query2 = query1.ThenBy(s =&gt; s);
</code></pre>
<ul>
<li>ØªØ§ÛŒÙ¾ Ø¶Ù…Ù†ÛŒ Ø±Ø§Ø­ØªÛŒ Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ø´Ú©Ù„Ø§ØªÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">var query = names.OrderBy(s =&gt; s.Length);
query = query.Where(n =&gt; n.Length &gt; 3);  // Ø®Ø·Ø§ÛŒ Ø²Ù…Ø§Ù† Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„
</code></pre>
<ul>
<li>Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± <code>query</code> Ø±Ø§ Ø§Ø² Ù†ÙˆØ¹ <code>IOrderedEnumerable&lt;string&gt;</code> Ø§Ø³ØªÙ†ØªØ§Ø¬ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø§Ù…Ø§ <code>Where</code> ÛŒÚ© <code>IEnumerable&lt;string&gt;</code> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ú©Ù‡ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¢Ù† Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ù‡ <code>query</code> Ø§Ø®ØªØµØ§Øµ Ø¯Ø§Ø¯.</li>
</ul>
<p>âœ… Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§:</p>
<ol>
<li>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ§ÛŒÙ¾ ØµØ±ÛŒØ­</li>
<li>ÛŒØ§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ <code>AsEnumerable()</code> Ø¨Ø¹Ø¯ Ø§Ø² <code>OrderBy</code>:</li>
</ol>
<pre><code class="language-csharp">var query = names.OrderBy(s =&gt; s.Length).AsEnumerable();
query = query.Where(n =&gt; n.Length &gt; 3);  // Ø¯Ø±Ø³Øª
</code></pre>
<ul>
<li>Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ø± Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ <strong>interpreted</strong>ØŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ <code>AsQueryable()</code> Ø§Ø³Øª.</li>
</ul>
<h2>Grouping</h2>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-16.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“š GroupBy</h3>
<pre><code>IEnumerable&lt;TSource&gt; â†’ IEnumerable&lt;IGrouping&lt;TKey, TElement&gt;&gt;
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-17.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“‘ GroupBy</h3>
<pre><code>IEnumerable&lt;TSource&gt; â†’ IEnumerable&lt;IGrouping&lt;TKey, TElement&gt;&gt;
</code></pre>
<hr>
<h3>ğŸ” Ù†Ø­ÙˆÛ€ Query (Query syntax)</h3>
<pre><code>group element-expression by key-expression
</code></pre>
<hr>
<h3>ğŸ“– Ù…Ø±ÙˆØ± Ú©Ù„ÛŒ (Overview)</h3>
<ul>
<li><strong>GroupBy</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ ØµØ§Ù (flat) Ø±Ø§ Ø¨Ù‡ ØªÙˆØ§Ù„ÛŒâ€ŒØ§ÛŒ Ø§Ø² Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ù…Ø«Ø§Ù„: Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ØªÙ…Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± <code>Path.GetTempPath()</code> Ø¨Ø± Ø§Ø³Ø§Ø³ Ù¾Ø³ÙˆÙ†Ø¯:</li>
</ul>
<pre><code class="language-csharp">string[] files = Directory.GetFiles(Path.GetTempPath());

IEnumerable&lt;IGrouping&lt;string, string&gt;&gt; query =
    files.GroupBy(file =&gt; Path.GetExtension(file));
</code></pre>
<ul>
<li>ÛŒØ§ Ø¨Ø§ ØªØ§ÛŒÙ¾ Ø¶Ù…Ù†ÛŒ:</li>
</ul>
<pre><code class="language-csharp">var query = files.GroupBy(file =&gt; Path.GetExtension(file));
</code></pre>
<hr>
<h3>ğŸ”¹ Ù¾ÛŒÙ…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬</h3>
<pre><code class="language-csharp">foreach (IGrouping&lt;string, string&gt; grouping in query)
{
    Console.WriteLine(&quot;Extension: &quot; + grouping.Key);
    foreach (string filename in grouping)
        Console.WriteLine(&quot;   - &quot; + filename);
}
</code></pre>
<p>ğŸ“‹ Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù…ÙˆÙ†Ù‡:</p>
<pre><code>Extension: .pdf
  -- chapter03.pdf
  -- chapter04.pdf
Extension: .doc
  -- todo.doc
  -- menu.doc
  -- Copy of menu.doc
</code></pre>
<hr>
<h3>ğŸ›  Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø®Ù„ÛŒ</h3>
<ul>
<li><code>Enumerable.GroupBy</code> Ø¹Ù†Ø§ØµØ± ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø¯Ø§Ø®Ù„ ÛŒÚ© Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ù…ÙˆÙ‚Øª Ø§Ø² Ù„ÛŒØ³Øªâ€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†Ø¯ ØªØ§ Ù‡Ù…Ù‡ Ø¹Ù†Ø§ØµØ± Ø¨Ø§ Ú©Ù„ÛŒØ¯ Ù…Ø´Ø§Ø¨Ù‡ Ø¯Ø± ÛŒÚ© Ø²ÛŒØ±Ù„ÛŒØ³Øª Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ù†Ø¯.</li>
<li>Ø³Ù¾Ø³ ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø§Ø² <strong>grouping</strong>Ù‡Ø§ Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li><strong>Grouping</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¯Ø§Ø±Ø§ÛŒ <strong>Key</strong> Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯:</li>
</ul>
<pre><code class="language-csharp">public interface IGrouping&lt;TKey, TElement&gt; : IEnumerable&lt;TElement&gt;, IEnumerable
{
    TKey Key { get; }    // Ú©Ù„ÛŒØ¯ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡ Ø±ÙˆÛŒ Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒ Ø¨Ù‡â€ŒØµÙˆØ±Øª Ú©Ù„ÛŒ
}
</code></pre>
<ul>
<li>Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ØŒ Ø¹Ù†Ø§ØµØ± Ù‡Ø± Ú¯Ø±ÙˆÙ‡ Ù‡Ù…Ø§Ù† Ø¹Ù†Ø§ØµØ± ÙˆØ±ÙˆØ¯ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ù…Ú¯Ø± Ø§ÛŒÙ†Ú©Ù‡ <strong>elementSelector</strong> Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯.</li>
<li>Ù…Ø«Ø§Ù„: ØªØ¨Ø¯ÛŒÙ„ Ø¹Ù†Ø§ØµØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯:</li>
</ul>
<pre><code class="language-csharp">files.GroupBy(file =&gt; Path.GetExtension(file), file =&gt; file.ToUpper());
</code></pre>
<ul>
<li>Ø¯Ø± Ø§ÛŒÙ† Ø­Ø§Ù„ØªØŒ <strong>Key</strong> Ù‡Ø± Ú¯Ø±ÙˆÙ‡ Ù‡Ù†ÙˆØ² Ø¯Ø± Ø­Ø§Ù„Øª Ø§ØµÙ„ÛŒ Ø®ÙˆØ¯ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯.</li>
</ul>
<p>ğŸ“‹ Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù…ÙˆÙ†Ù‡:</p>
<pre><code>Extension: .pdf
  -- CHAPTER03.PDF
  -- CHAPTER04.PDF
Extension: .doc
  -- TODO.DOC
</code></pre>
<hr>
<h3>âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù…</h3>
<ul>
<li>Ø²ÛŒØ±Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ù„ÛŒØ¯ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø§Ù„ÙØ¨Ø§ ØµØ§Ø¯Ø± Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. <strong>GroupBy</strong> ØªÙ†Ù‡Ø§ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
<li>Ø¨Ø±Ø§ÛŒ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒØŒ Ø¨Ø§ÛŒØ¯ Ø§Ø² <strong>OrderBy</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">files.GroupBy(file =&gt; Path.GetExtension(file), file =&gt; file.ToUpper())
     .OrderBy(grouping =&gt; grouping.Key);
</code></pre>
<hr>
<h3>ğŸ”¹ Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ø± Ù†Ø­ÙˆÛ€ Query</h3>
<pre><code>group element-expr by key-expr
</code></pre>
<p>Ù…Ø«Ø§Ù„:</p>
<pre><code class="language-csharp">from file in files
group file.ToUpper() by Path.GetExtension(file);
</code></pre>
<ul>
<li>Ù…Ø´Ø§Ø¨Ù‡ <strong>select</strong>ØŒ <code>group</code> ÛŒÚ© Ú©ÙˆØ¦Ø±ÛŒ Ø±Ø§ Ù¾Ø§ÛŒØ§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ù…Ú¯Ø± Ø§ÛŒÙ†Ú©Ù‡ <strong>query continuation clause</strong> Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">from file in files
group file.ToUpper() by Path.GetExtension(file) into grouping
orderby grouping.Key
select grouping;
</code></pre>
<hr>
<h3>ğŸ”¹ Ø§Ø¯Ø§Ù…Ù‡â€ŒÛŒ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ (Query Continuations)</h3>
<ul>
<li>Ø§Ø¯Ø§Ù…Ù‡â€ŒÛŒ Ú©ÙˆØ¦Ø±ÛŒ Ù¾Ø³ Ø§Ø² <strong>group by</strong> Ù…ÙÛŒØ¯ Ø§Ø³ØªØŒ Ù…Ø«Ù„Ø§Ù‹ ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ú©Ù…ØªØ± Ø§Ø² Ù¾Ù†Ø¬ ÙØ§ÛŒÙ„ Ø¯Ø§Ø±Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">from file in files
group file.ToUpper() by Path.GetExtension(file) into grouping
where grouping.Count() &gt;= 5
select grouping;
</code></pre>
<ul>
<li>ÛŒÚ© <code>where</code> Ù¾Ø³ Ø§Ø² <code>group by</code> Ù…Ø¹Ø§Ø¯Ù„ <strong>HAVING</strong> Ø¯Ø± SQL Ø§Ø³Øª.</li>
<li>Ø§ÛŒÙ† Ø´Ø±Ø· Ø±ÙˆÛŒ Ú©Ù„ Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒ ÛŒØ§ Ú¯Ø±ÙˆÙ‡ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ù†Ù‡ Ø±ÙˆÛŒ Ø¹Ù†Ø§ØµØ± ÙØ±Ø¯ÛŒ.</li>
</ul>
<hr>
<h3>ğŸ”¹ Ù…Ø«Ø§Ù„ Aggregation</h3>
<ul>
<li>Ú¯Ø§Ù‡ÛŒ ØªÙ†Ù‡Ø§ Ø¨Ù‡ Ù†ØªÛŒØ¬Ù‡â€ŒÛŒ ØªØ¬Ù…ÛŒØ¹ Ø±ÙˆÛŒ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø²ÛŒØ±ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">string[] votes = { &quot;Dogs&quot;, &quot;Cats&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Dogs&quot; };

IEnumerable&lt;string&gt; query = from vote in votes
                            group vote by vote into g
                            orderby g.Count() descending
                            select g.Key;

string winner = query.First();    // Dogs
</code></pre>
<h3>ğŸ“‘ GroupBy Ø¯Ø± EF Core</h3>
<ul>
<li>Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø± <strong>EF Core</strong> Ø¨Ù‡ Ù‡Ù…Ø§Ù† Ø´Ú©Ù„ Ø±ÙˆÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ø§Ú¯Ø± <strong>navigation property</strong>Ù‡Ø§ Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ø§ØºÙ„Ø¨ Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù…ØªØ± Ø§Ø² Ø­Ø§Ù„Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ SQL Ù¾ÛŒØ´ Ù…ÛŒâ€ŒØ¢ÛŒØ¯.</li>
</ul>
<p>Ù…Ø«Ø§Ù„: Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒØ§Ù†ÛŒ Ú©Ù‡ Ø­Ø¯Ø§Ù‚Ù„ Ø¯Ùˆ Ø®Ø±ÛŒØ¯ Ø¯Ø§Ø´ØªÙ‡â€ŒØ§Ù†Ø¯ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</p>
<pre><code class="language-csharp">from c in dbContext.Customers
where c.Purchases.Count &gt;= 2
select c.Name + &quot; has made &quot; + c.Purchases.Count + &quot; purchases&quot;;
</code></pre>
<ul>
<li>Ù†Ù…ÙˆÙ†Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø§Ø±Ø¯: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù„ ÙØ±ÙˆØ´â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø§Ù„:</li>
</ul>
<pre><code class="language-csharp">from p in dbContext.Purchases
group p.Price by p.Date.Year into salesByYear
select new {
    Year       = salesByYear.Key,
    TotalValue = salesByYear.Sum()
};
</code></pre>
<ul>
<li><strong>GroupBy</strong> Ø¯Ø± LINQ Ø§Ø² <strong>GROUP BY</strong> Ø¯Ø± SQL Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ØªØ± Ø§Ø³ØªØŒ Ø²ÛŒØ±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ù…Ù‡ Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø¯ÙˆÙ† Ù‡ÛŒÚ† ØªØ¬Ù…ÛŒØ¹ÛŒ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ú©Ù†ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">from p in dbContext.Purchases
group p by p.Date.Year
</code></pre>
<p>âš ï¸ Ø§ÛŒÙ† Ø±ÙˆØ´ Ø¯Ø± <strong>EF Core</strong> Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
Ø±Ø§Ù‡â€ŒØ­Ù„ Ø³Ø§Ø¯Ù‡: Ù‚Ø¨Ù„ Ø§Ø² Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ <code>.AsEnumerable()</code> ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†ÛŒØ¯ ØªØ§ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø±ÙˆÛŒ Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯.</p>
<ul>
<li>
<p>Ø§ÛŒÙ† Ø±ÙˆØ´ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ ÙÛŒÙ„ØªØ±ÛŒÙ†Ú¯ Ù‚Ø¨Ù„ Ø§Ø² Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯ØŒ Ú©Ø§Ø±Ø¢Ù…Ø¯ Ø§Ø³ØªØŒ Ø²ÛŒØ±Ø§ ÙÙ‚Ø· Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø§Ø² Ø³Ø±ÙˆØ± ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
</li>
<li>
<p>ØªÙØ§ÙˆØª Ø¯ÛŒÚ¯Ø± Ø¨Ø§ SQL: Ø§Ù„Ø²Ø§Ù…ÛŒ Ø¨Ù‡ Ù¾Ø±ÙˆØ¬Ú©Øª Ú©Ø±Ø¯Ù† Ù…ØªØºÛŒØ±Ù‡Ø§ ÛŒØ§ Ø¹Ø¨Ø§Ø±Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ Ø¯Ø± Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÛŒØ§ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</p>
</li>
</ul>
<hr>
<h3>ğŸ”¹ Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø§ Ú†Ù†Ø¯ Ú©Ù„ÛŒØ¯</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>composite key</strong> Ùˆ <strong>anonymous type</strong> Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù†ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">from n in names
group n by new { FirstLetter = n[0], Length = n.Length };
</code></pre>
<hr>
<h3>ğŸ”¹ Ù…Ù‚Ø§ÛŒØ³Ù‡â€ŒÚ©Ù†Ù†Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ (Custom equality comparers)</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© <strong>equality comparer</strong> Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ù‡ GroupBy Ø¨Ø¯Ù‡ÛŒØ¯ ØªØ§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù…Ù‚Ø§ÛŒØ³Ù‡â€ŒÛŒ Ú©Ù„ÛŒØ¯ ØªØºÛŒÛŒØ± Ú©Ù†Ø¯.</li>
<li>Ø¨Ù‡ Ù†Ø¯Ø±Øª Ù„Ø§Ø²Ù… Ø§Ø³ØªØŒ Ø²ÛŒØ±Ø§ ØªØºÛŒÛŒØ± Ø¹Ø¨Ø§Ø±Øª <strong>key selector</strong> Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ú©Ø§ÙÛŒ Ø§Ø³Øª.</li>
<li>Ù…Ø«Ø§Ù„: Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ØºÛŒØ±Ø­Ø³Ø§Ø³ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯/Ú©ÙˆÚ†Ú©:</li>
</ul>
<pre><code class="language-csharp">group n by n.ToUpper()
</code></pre>
<hr>
<h3>ğŸ“‘ Chunk</h3>
<pre><code>IEnumerable&lt;TSource&gt; â†’ IEnumerable&lt;TElement[]&gt;
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-18.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ“¦ Chunk</h3>
<ul>
<li>Ù…Ø¹Ø±ÙÛŒâ€ŒØ´Ø¯Ù‡ Ø¯Ø± <strong>.NET 6</strong>ØŒ <strong>Chunk</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ù‡ Ø¨Ù„ÙˆÚ©â€ŒÙ‡Ø§ÛŒÛŒ (chunks) Ø¨Ø§ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÛŒ Ù…Ø´Ø®Øµ ØªÙ‚Ø³ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (ÛŒØ§ Ú©Ù…ØªØ±ØŒ Ø§Ú¯Ø± Ø¹Ù†Ø§ØµØ± Ú©Ø§ÙÛŒ Ù†Ø¨Ø§Ø´Ù†Ø¯):</li>
</ul>
<pre><code class="language-csharp">foreach (int[] chunk in new[] { 1, 2, 3, 4, 5, 6, 7, 8 }.Chunk(3))
    Console.WriteLine(string.Join(&quot;, &quot;, chunk));
</code></pre>
<p><strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong></p>
<pre><code>1, 2, 3
4, 5, 6
7, 8
</code></pre>
<hr>
<h3>ğŸ”— Set Operators</h3>
<pre><code>IEnumerable&lt;TSource&gt;, IEnumerable&lt;TSource&gt; â†’ IEnumerable&lt;TSource&gt;
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-19.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”— Concat, Union, UnionBy</h3>
<ul>
<li><strong>Concat</strong> Ù‡Ù…Ù‡ Ø¹Ù†Ø§ØµØ± ØªÙˆØ§Ù„ÛŒ Ø§ÙˆÙ„ Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ØŒ Ø³Ù¾Ø³ Ù‡Ù…Ù‡ Ø¹Ù†Ø§ØµØ± ØªÙˆØ§Ù„ÛŒ Ø¯ÙˆÙ… Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li><strong>Union</strong> Ù‡Ù…Ø§Ù† Ú©Ø§Ø± Ø±Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø§Ù…Ø§ <strong>ØªÚ©Ø±Ø§Ø±ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯</strong>:</li>
</ul>
<pre><code class="language-csharp">int[] seq1 = { 1, 2, 3 }, seq2 = { 3, 4, 5 };

IEnumerable&lt;int&gt;
    concat = seq1.Concat(seq2),   // { 1, 2, 3, 3, 4, 5 }
    union  = seq1.Union(seq2);   // { 1, 2, 3, 4, 5 }
</code></pre>
<ul>
<li>Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† <strong>Ù†ÙˆØ¹ Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†</strong> Ù…ÙÛŒØ¯ Ø§Ø³Øª ÙˆÙ‚ØªÛŒ ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ Ù†ÙˆØ¹ Ù…ØªÙØ§ÙˆØªÛŒ Ø¯Ø§Ø±Ù†Ø¯ ÙˆÙ„ÛŒ Ø¹Ù†Ø§ØµØ± ÛŒÚ© <strong>base type</strong> Ù…Ø´ØªØ±Ú© Ø¯Ø§Ø±Ù†Ø¯.</li>
<li>Ù…Ø«Ø§Ù„ Ø¨Ø§ API Ø¨Ø§Ø²ØªØ§Ø¨ (Reflection API): Ù…ØªØ¯Ù‡Ø§ Ùˆ Ù¾Ø±Ø§Ù¾Ø±ØªÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ <code>MethodInfo</code> Ùˆ <code>PropertyInfo</code> Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ Ú©Ù‡ ÛŒÚ© Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ù…Ø´ØªØ±Ú© Ø¨Ù‡ Ù†Ø§Ù… <code>MemberInfo</code> Ø¯Ø§Ø±Ù†Ø¯.</li>
</ul>
<pre><code class="language-csharp">MethodInfo[] methods = typeof(string).GetMethods();
PropertyInfo[] props = typeof(string).GetProperties();
IEnumerable&lt;MemberInfo&gt; both = methods.Concat&lt;MemberInfo&gt;(props);
</code></pre>
<ul>
<li>Ù…Ø«Ø§Ù„ Ø¯ÛŒÚ¯Ø±: ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ù…ØªØ¯Ù‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù„Ø­Ø§Ù‚:</li>
</ul>
<pre><code class="language-csharp">var methods = typeof(string).GetMethods().Where(m =&gt; !m.IsSpecialName);
var props   = typeof(string).GetProperties();
var both    = methods.Concat&lt;MemberInfo&gt;(props);
</code></pre>
<ul>
<li>
<p>Ø§ÛŒÙ† Ù…Ø«Ø§Ù„ Ø¨Ù‡ <strong>interface type parameter variance</strong> ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª:
<code>methods</code> Ø§Ø² Ù†ÙˆØ¹ <code>IEnumerable&lt;MethodInfo&gt;</code> Ø§Ø³Øª Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¨Ø¯ÛŒÙ„ <strong>covariant</strong> Ø¨Ù‡ <code>IEnumerable&lt;MemberInfo&gt;</code> Ø¯Ø§Ø±Ø¯.</p>
</li>
<li>
<p><strong>UnionBy</strong> (Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯Ù‡ Ø¯Ø± .NET 6) ÛŒÚ© <strong>keySelector</strong> Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ¹ÛŒÛŒÙ† ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨ÙˆØ¯Ù† Ø¹Ù†Ø§ØµØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù…Ø«Ø§Ù„: union ØºÛŒØ± Ø­Ø³Ø§Ø³ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯/Ú©ÙˆÚ†Ú©:</p>
</li>
</ul>
<pre><code class="language-csharp">string[] seq1 = { &quot;A&quot;, &quot;b&quot;, &quot;C&quot; };
string[] seq2 = { &quot;a&quot;, &quot;B&quot;, &quot;c&quot; };

var union = seq1.UnionBy(seq2, x =&gt; x.ToUpperInvariant());
// union is { &quot;A&quot;, &quot;b&quot;, &quot;C&quot; }
</code></pre>
<ul>
<li>Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§ <strong>Union</strong> Ù‡Ù… Ù‚Ø§Ø¨Ù„ Ø§Ù†Ø¬Ø§Ù… Ø§Ø³Øª Ø§Ú¯Ø± ÛŒÚ© <strong>equality comparer</strong> Ø¨Ø¯Ù‡ÛŒÙ…:</li>
</ul>
<pre><code class="language-csharp">var union = seq1.Union(seq2, StringComparer.InvariantCultureIgnoreCase);
</code></pre>
<hr>
<h3>ğŸ”¹ Intersect, IntersectBy, Except, ExceptBy</h3>
<ul>
<li><strong>Intersect</strong> Ø¹Ù†Ø§ØµØ± Ù…Ø´ØªØ±Ú© Ø¨ÛŒÙ† Ø¯Ùˆ ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.</li>
<li><strong>Except</strong> Ø¹Ù†Ø§ØµØ± ØªÙˆØ§Ù„ÛŒ Ø§ÙˆÙ„ Ú©Ù‡ Ø¯Ø± ØªÙˆØ§Ù„ÛŒ Ø¯ÙˆÙ… Ù†ÛŒØ³ØªÙ†Ø¯ Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">int[] seq1 = { 1, 2, 3 }, seq2 = { 3, 4, 5 };

IEnumerable&lt;int&gt;
    commonality  = seq1.Intersect(seq2),    // { 3 }
    difference1  = seq1.Except(seq2),      // { 1, 2 }
    difference2  = seq2.Except(seq1);      // { 4, 5 }
</code></pre>
<ul>
<li>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø®Ù„ÛŒ <strong>Enumerable.Except</strong>: ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± ØªÙˆØ§Ù„ÛŒ Ø§ÙˆÙ„ Ø¯Ø± ÛŒÚ© Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø³Ù¾Ø³ ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± ØªÙˆØ§Ù„ÛŒ Ø¯ÙˆÙ… Ø§Ø² Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</li>
<li>Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ø± SQL:</li>
</ul>
<pre><code class="language-sql">SELECT number FROM numbers1Table
WHERE number NOT IN (SELECT number FROM numbers2Table)
</code></pre>
<ul>
<li><strong>IntersectBy</strong> Ùˆ <strong>ExceptBy</strong> (Ø§Ø² .NET 6) Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ ÛŒÚ© <strong>key selector</strong> Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ù‚Ø¨Ù„ Ø§Ø² Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªØ³Ø§ÙˆÛŒ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ù…Ø´Ø§Ø¨Ù‡ UnionBy).</li>
</ul>
<hr>
<h3>ğŸ”¹ Conversion Methods</h3>
<ul>
<li>LINQ Ø¹Ù…Ø¯ØªØ§Ù‹ Ø¨Ø§ ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (<code>IEnumerable&lt;T&gt;</code>).</li>
<li><strong>Conversion methods</strong> Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ùˆ Ø§Ø² Ø§Ù†ÙˆØ§Ø¹ Ø¯ÛŒÚ¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-20.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”„ OfType Ùˆ Cast</h3>
<ul>
<li><strong>OfType</strong> Ùˆ <strong>Cast</strong> ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ ØºÛŒØ±Ø¬Ù†Ø±ÛŒÚ© (<code>IEnumerable</code>) Ø±Ø§ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯ Ùˆ ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø¬Ù†Ø±ÛŒÚ© (<code>IEnumerable&lt;T&gt;</code>) Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±ÙˆÛŒ Ø¢Ù† Ø¹Ù…Ù„ÛŒØ§Øª LINQ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">ArrayList classicList = new ArrayList(); // Ø¯Ø± System.Collections
classicList.AddRange(new int[] { 3, 4, 5 });

IEnumerable&lt;int&gt; sequence1 = classicList.Cast&lt;int&gt;();
</code></pre>
<ul>
<li>
<p>ØªÙØ§ÙˆØª <strong>Cast</strong> Ùˆ <strong>OfType</strong> Ø²Ù…Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ Ø¹Ù†ØµØ±ÛŒ Ù†Ø§Ø³Ø§Ø²Ú¯Ø§Ø± Ù…ÙˆØ§Ø¬Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:</p>
<ul>
<li><strong>Cast</strong>: Ø®Ø·Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
<li><strong>OfType</strong>: Ø¹Ù†ØµØ± Ù†Ø§Ø³Ø§Ø²Ú¯Ø§Ø± Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯.</li>
</ul>
</li>
</ul>
<p>Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø«Ø§Ù„ Ø¨Ø§Ù„Ø§:</p>
<pre><code class="language-csharp">DateTime offender = DateTime.Now;
classicList.Add(offender);

IEnumerable&lt;int&gt;
    sequence2 = classicList.OfType&lt;int&gt;(), // OK - Ø¹Ù†ØµØ± DateTime Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    sequence3 = classicList.Cast&lt;int&gt;();   // Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
</code></pre>
<ul>
<li>Ù‚ÙˆØ§Ù†ÛŒÙ† Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ Ø¹Ù†Ø§ØµØ± Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù…Ø·Ø§Ø¨Ù‚ <strong>is operator</strong> Ø¯Ø± C# Ø§Ø³Øª Ùˆ ØªÙ†Ù‡Ø§ <strong>reference conversion</strong> Ùˆ <strong>unboxing conversion</strong> Ø±Ø§ Ø¯Ø± Ù†Ø¸Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯.</li>
</ul>
<p>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø®Ù„ÛŒ <strong>OfType</strong>:</p>
<pre><code class="language-csharp">public static IEnumerable&lt;TSource&gt; OfType&lt;TSource&gt;(IEnumerable source)
{
    foreach (object element in source)
        if (element is TSource)
            yield return (TSource)element;
}
</code></pre>
<p>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ <strong>Cast</strong> Ù…Ø´Ø§Ø¨Ù‡ Ø§Ø³Øª ÙˆÙ„ÛŒ ØªØ³Øª Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ Ù†ÙˆØ¹ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯:</p>
<pre><code class="language-csharp">public static IEnumerable&lt;TSource&gt; Cast&lt;TSource&gt;(IEnumerable source)
{
    foreach (object element in source)
        yield return (TSource)element;
}
</code></pre>
<ul>
<li>Ù†ØªÛŒØ¬Ù‡: Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² <strong>Cast</strong> Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ Ø³ÙØ§Ø±Ø´ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø§Ø² <strong>Select</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</li>
</ul>
<p>Ù…Ø«Ø§Ù„:</p>
<pre><code class="language-csharp">int[] integers = { 1, 2, 3 };

IEnumerable&lt;long&gt; test1 = integers.OfType&lt;long&gt;(); // ØµÙØ± Ø¹Ù†ØµØ±
IEnumerable&lt;long&gt; test2 = integers.Cast&lt;long&gt;();   // Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
</code></pre>
<ul>
<li>
<p>Ø¯Ù„ÛŒÙ„:</p>
<ul>
<li>Ø¯Ø± <strong>OfType</strong>: <code>(element is long)</code> Ø¨Ø±Ø§ÛŒ int Ù‡Ù…ÛŒØ´Ù‡ false Ø§Ø³Øª.</li>
<li>Ø¯Ø± <strong>Cast</strong>: ÙˆÙ‚ØªÛŒ <code>TSource</code> ÛŒÚ© value type Ø§Ø³ØªØŒ CLR Ø¢Ù† Ø±Ø§ unboxing ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ·Ø§Ø¨Ù‚ Ø¯Ù‚ÛŒÙ‚ Ù†ÙˆØ¹ Ø¯Ø§Ø±Ø¯ØŒ Ù¾Ø³ Ø®Ø·Ø§ Ø±Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
</ul>
</li>
</ul>
<p>Ø±Ø§Ù‡â€ŒØ­Ù„: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>Select</strong>:</p>
<pre><code class="language-csharp">IEnumerable&lt;long&gt; castLong = integers.Select(s =&gt; (long)s);
</code></pre>
<ul>
<li>
<p><strong>OfType</strong> Ùˆ <strong>Cast</strong> Ø¨Ø±Ø§ÛŒ <strong>downcasting</strong> Ø¹Ù†Ø§ØµØ± Ø¯Ø± ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø¬Ù†Ø±ÛŒÚ© Ù†ÛŒØ² Ù…ÙÛŒØ¯ Ù‡Ø³ØªÙ†Ø¯. Ù…Ø«Ø§Ù„:</p>
<ul>
<li>Ø§Ú¯Ø± ØªÙˆØ§Ù„ÛŒ Ø´Ù…Ø§ <code>IEnumerable&lt;Fruit&gt;</code> Ø¨Ø§Ø´Ø¯ØŒ <code>OfType&lt;Apple&gt;</code> ÙÙ‚Ø· Ø³ÛŒØ¨â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.</li>
<li>Ú©Ø§Ø±Ø¨Ø±Ø¯ ÙˆÛŒÚ˜Ù‡ Ø¯Ø± <strong>LINQ to XML</strong> Ø¯Ø§Ø±Ø¯ (ÙØµÙ„ Û±Û°).</li>
</ul>
</li>
<li>
<p><strong>Cast</strong> Ø§Ø² <strong>query syntax</strong> Ù†ÛŒØ² Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯: Ú©Ø§ÙÛŒØ³Øª Ù†ÙˆØ¹ Ø±Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ù…ØªØºÛŒØ± Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯:</p>
</li>
</ul>
<pre><code class="language-csharp">from TreeNode node in myTreeView.Nodes
...
</code></pre>
<hr>
<h3>ğŸŸ¢ ToArray, ToList, ToDictionary, ToHashSet, ToLookup</h3>
<ul>
<li><strong>ToArray</strong>, <strong>ToList</strong>, Ùˆ <strong>ToHashSet</strong> Ù†ØªØ§ÛŒØ¬ Ø±Ø§ Ø¯Ø± ÛŒÚ© <strong>array</strong>ØŒ <strong>List<T></strong> ÛŒØ§ <strong>HashSet<T></strong> Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.</li>
<li>Ø§Ø¬Ø±Ø§ÛŒ Ø¢Ù†â€ŒÙ‡Ø§ Ù…ÙˆØ¬Ø¨ <strong>enumeration ÙÙˆØ±ÛŒ</strong> ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ Ø¨Ù‡ â€œDeferred Executionâ€ØŒ ØµÙØ­Ù‡ Û´Û³Û²).</li>
<li><strong>ToDictionary</strong> Ùˆ <strong>ToLookup</strong> Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ù†Ø¯:</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-21.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸŸ¡ ToDictionary Ùˆ ToLookup</h3>
<ul>
<li><strong>ToDictionary</strong> Ù†ÛŒØ² Ø§Ø¬Ø±Ø§ÛŒ ÙÙˆØ±ÛŒ (immediate execution) ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ù…Ø¬Ø¨ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù†ØªØ§ÛŒØ¬ Ø±Ø§ Ø¯Ø± ÛŒÚ© <strong>Dictionary&lt;TK, TV&gt;</strong> Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
<li><strong>keySelector</strong> Ø§Ø±Ø§Ø¦Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ù†ØµØ± Ù…Ù‚Ø¯Ø§Ø± <strong>Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯</strong> ØªÙˆÙ„ÛŒØ¯ Ú©Ù†Ø¯ØŒ Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª <strong>Ø§Ø³ØªØ«Ù†Ø§Ø¡</strong> Ø±Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
<li>Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ØŒ <strong>ToLookup</strong> Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú†Ù†Ø¯ÛŒÙ† Ø¹Ù†ØµØ± Ø¨Ø§ Ù‡Ù…Ø§Ù† Ú©Ù„ÛŒØ¯ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.</li>
<li>Ø¨Ø±Ø§ÛŒ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨ÛŒØ´ØªØ± Ø¯Ø±Ø¨Ø§Ø±Ù‡ <strong>lookups</strong>ØŒ Ø¨Ù‡ Ø¨Ø®Ø´ â€œJoining with lookupsâ€ ØµÙØ­Ù‡ Û´Û¹Û¸ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ AsEnumerable Ùˆ AsQueryable</h3>
<ul>
<li><strong>AsEnumerable</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ù‡ <code>IEnumerable&lt;T&gt;</code> <strong>upcast</strong> Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ø¨Ù‡ Ù…ØªØ¯Ù‡Ø§ÛŒ <strong>Enumerable</strong> ÙˆØµÙ„ Ú©Ù†Ø¯ Ù†Ù‡ <strong>Queryable</strong>.</li>
<li>Ù…Ø«Ø§Ù„: Ø¨Ø®Ø´ â€œCombining Interpreted and Local Queriesâ€ØŒ ØµÙØ­Ù‡ Û´ÛµÛ².</li>
<li><strong>AsQueryable</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ù‡ <code>IQueryable&lt;T&gt;</code> <strong>downcast</strong> Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø§Ú¯Ø± Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†Ø¯Ø› Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ ÛŒÚ© wrapper <code>IQueryable&lt;T&gt;</code> Ø±ÙˆÛŒ ØªÙˆØ§Ù„ÛŒ Ù…Ø­Ù„ÛŒ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Element Operators</h3>
<pre><code>IEnumerable&lt;TSource&gt; â†’ TSource
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-22.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>âš¡ Methods ending in â€œOrDefaultâ€</h3>
<ul>
<li>Ù…ØªØ¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ <strong>OrDefault</strong> Ù¾Ø§ÛŒØ§Ù† Ù…ÛŒâ€ŒÛŒØ§Ø¨Ù†Ø¯ØŒ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù¾Ø±ØªØ§Ø¨ <strong>exception</strong> ÙˆÙ‚ØªÛŒ ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª ÛŒØ§ Ù‡ÛŒÚ† Ø¹Ù†ØµØ±ÛŒ Ø¨Ø§ Ø´Ø±Ø· Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯ØŒ Ù…Ù‚Ø¯Ø§Ø± <strong>default(TSource)</strong> Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯.</li>
<li>Ù…Ù‚Ø¯Ø§Ø± <strong>default(TSource)</strong> Ø¨Ø±Ø§ÛŒ Ø§Ù†ÙˆØ§Ø¹ Ù…Ø±Ø¬Ø¹ (<strong>reference types</strong>) Ø¨Ø±Ø§Ø¨Ø± <code>null</code>ØŒ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ¹ <code>bool</code> Ø¨Ø±Ø§Ø¨Ø± <code>false</code> Ùˆ Ø¨Ø±Ø§ÛŒ Ø§Ù†ÙˆØ§Ø¹ Ø¹Ø¯Ø¯ÛŒ Ø¨Ø±Ø§Ø¨Ø± ØµÙØ± Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ First, Last, and Single</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-23.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ First Ùˆ Last</h3>
<p>Ù…Ø«Ø§Ù„ Ø²ÛŒØ± <strong>First</strong> Ùˆ <strong>Last</strong> Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯:</p>
<pre><code class="language-csharp">int[] numbers  = { 1, 2, 3, 4, 5 };
int first      = numbers.First();                     // 1
int last       = numbers.Last();                      // 5
int firstEven  = numbers.First(n =&gt; n % 2 == 0);     // 2
int lastEven   = numbers.Last(n =&gt; n % 2 == 0);      // 4
</code></pre>
<p>Ù…Ø«Ø§Ù„ <strong>First</strong> Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ <strong>FirstOrDefault</strong>:</p>
<pre><code class="language-csharp">int firstBigError  = numbers.First(n =&gt; n &gt; 10);      // Exception
int firstBigNumber = numbers.FirstOrDefault(n =&gt; n &gt; 10); // 0
</code></pre>
<hr>
<h3>ğŸ”¹ Single Ùˆ SingleOrDefault</h3>
<ul>
<li><strong>Single</strong> Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯ Ú©Ù‡ <strong>Ø¯Ù‚ÛŒÙ‚Ø§ ÛŒÚ© Ø¹Ù†ØµØ±</strong> Ø¨Ø§ Ø´Ø±Ø· Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.</li>
<li><strong>SingleOrDefault</strong> Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ <strong>ØµÙØ± ÛŒØ§ ÛŒÚ© Ø¹Ù†ØµØ±</strong> ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.</li>
</ul>
<p>Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§:</p>
<pre><code class="language-csharp">int onlyDivBy3 = numbers.Single(n =&gt; n % 3 == 0);      // 3
int divBy2Err  = numbers.Single(n =&gt; n % 2 == 0);      // Ø®Ø·Ø§: 2 Ùˆ 4 Ù…Ø·Ø§Ø¨Ù‚Øª Ø¯Ø§Ø±Ù†Ø¯
int singleError = numbers.Single(n =&gt; n &gt; 10);         // Ø®Ø·Ø§
int noMatches   = numbers.SingleOrDefault(n =&gt; n &gt; 10); // 0
int divBy2Error = numbers.SingleOrDefault(n =&gt; n % 2 == 0); // Ø®Ø·Ø§
</code></pre>
<ul>
<li>
<p><strong>Single</strong> Ø³Ø®Øªâ€ŒÚ¯ÛŒØ±ØªØ±ÛŒÙ† Ø¹Ø¶Ùˆ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ element operators Ø§Ø³Øª.</p>
</li>
<li>
<p><strong>FirstOrDefault</strong> Ùˆ <strong>LastOrDefault</strong> Ø¨ÛŒØ´ØªØ±ÛŒÙ† ØªØ­Ù…Ù„ Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯.</p>
</li>
<li>
<p>Ø¯Ø± <strong>EF Core</strong>ØŒ <strong>Single</strong> Ø§ØºÙ„Ø¨ Ø¨Ø±Ø§ÛŒ ÙˆØ§Ú©Ø´ÛŒ ÛŒÚ© Ø±Ø¯ÛŒÙ Ø§Ø² Ø¬Ø¯ÙˆÙ„ Ø¨Ø± Ø§Ø³Ø§Ø³ <strong>primary key</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
</li>
</ul>
<pre><code class="language-csharp">Customer cust = dataContext.Customers.Single(c =&gt; c.ID == 3);
</code></pre>
<hr>
<h3>ğŸ”¹ ElementAt</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-24.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ ElementAt Ùˆ ElementAtOrDefault</h3>
<ul>
<li><strong>ElementAt</strong> Ø¹Ù†ØµØ± nØ§Ù… ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">int[] numbers  = { 1, 2, 3, 4, 5 };
int third      = numbers.ElementAt(2);          // 3
int tenthError = numbers.ElementAt(9);          // Exception
int tenth      = numbers.ElementAtOrDefault(9); // 0
</code></pre>
<ul>
<li>Ø§Ú¯Ø± ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ <strong>IList<T></strong> Ø¨Ø§Ø´Ø¯ØŒ <strong>ElementAt</strong> Ø§Ø² indexer Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯Ø› Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ n Ø¨Ø§Ø± Ø´Ù…Ø§Ø±Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø³Ù¾Ø³ Ø¹Ù†ØµØ± Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.</li>
<li><strong>ElementAt</strong> Ø¯Ø± <strong>EF Core</strong> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ MinBy Ùˆ MaxBy</h3>
<ul>
<li>Ù…Ø¹Ø±ÙÛŒâ€ŒØ´Ø¯Ù‡ Ø¯Ø± <strong>.NET 6</strong>ØŒ <strong>MinBy</strong> Ùˆ <strong>MaxBy</strong> Ø¹Ù†ØµØ±ÛŒ Ø¨Ø§ Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† ÛŒØ§ Ø¨Ø²Ø±Ú¯â€ŒØªØ±ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± (Ø¨Ø± Ø§Ø³Ø§Ø³ <strong>keySelector</strong>) Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">string[] names = { &quot;Tom&quot;, &quot;Dick&quot;, &quot;Harry&quot;, &quot;Mary&quot;, &quot;Jay&quot; };
Console.WriteLine(names.MaxBy(n =&gt; n.Length));   // Harry
</code></pre>
<ul>
<li>Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ØŒ <strong>Min</strong> Ùˆ <strong>Max</strong> Ø®ÙˆØ¯ <strong>Ù…Ù‚Ø¯Ø§Ø± Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† ÛŒØ§ Ø¨Ø²Ø±Ú¯â€ŒØªØ±ÛŒÙ†</strong> Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">Console.WriteLine(names.Max(n =&gt; n.Length));    // 5
</code></pre>
<ul>
<li>Ø§Ú¯Ø± Ø¯Ùˆ ÛŒØ§ Ú†Ù†Ø¯ Ø¹Ù†ØµØ± Ù…Ù‚Ø¯Ø§Ø± Ø­Ø¯Ø§Ù‚Ù„/Ø­Ø¯Ø§Ú©Ø«Ø± ÛŒÚ©Ø³Ø§Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯ØŒ <strong>MinBy/MaxBy</strong> Ø§ÙˆÙ„ÛŒÙ† Ø¹Ù†ØµØ± Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">Console.WriteLine(names.MinBy(n =&gt; n.Length));  // Tom
</code></pre>
<ul>
<li>Ø§Ú¯Ø± ØªÙˆØ§Ù„ÛŒ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯ØŒ <strong>MinBy</strong> Ùˆ <strong>MaxBy</strong> Ù…Ù‚Ø¯Ø§Ø± <strong>null</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯ Ø§Ú¯Ø± Ù†ÙˆØ¹ Ø¹Ù†ØµØ± nullable Ø¨Ø§Ø´Ø¯Ø› Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø±Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ DefaultIfEmpty</h3>
<ul>
<li><strong>DefaultIfEmpty</strong> ØªÙˆØ§Ù„ÛŒâ€ŒØ§ÛŒ Ø¨Ø§ ÛŒÚ© Ø¹Ù†ØµØ± Ø´Ø§Ù…Ù„ <strong>default(TSource)</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ø§Ú¯Ø± ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯Ø› Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.</li>
<li>Ø§ÛŒÙ† Ù…ØªØ¯ Ø¯Ø± Ù†ÙˆØ´ØªÙ† <strong>flat outer joins</strong> Ú©Ø§Ø±Ø¨Ø±Ø¯ Ø¯Ø§Ø±Ø¯: Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ â€œOuter joins with SelectManyâ€ ØµÙØ­Ù‡ Û´Û¹Û± Ùˆ â€œFlat outer joinsâ€ ØµÙØ­Ù‡ Û´Û¹Û·.</li>
</ul>
<hr>
<h3>ğŸ”¹ Aggregation Methods</h3>
<pre><code>IEnumerable&lt;TSource&gt; â†’ scalar
</code></pre>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-25.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ Count Ùˆ LongCount</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-26.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<ul>
<li><strong>Count</strong> Ø¨Ù‡ Ø³Ø§Ø¯Ú¯ÛŒ ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø´Ù…Ø§Ø±Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">int fullCount = new int[] { 5, 6, 7 }.Count();   // 3
</code></pre>
<ul>
<li>
<p>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø®Ù„ÛŒ <strong>Enumerable.Count</strong> Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¢ÛŒØ§ ØªÙˆØ§Ù„ÛŒ ÙˆØ±ÙˆØ¯ÛŒ <strong>ICollection<T></strong> Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª ÛŒØ§ Ø®ÛŒØ±.</p>
<ul>
<li>Ø§Ú¯Ø± Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø§Ø² <strong>ICollection<T>.Count</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
<li>Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ Ù‡Ø± Ø¹Ù†ØµØ± Ø±Ø§ Ø´Ù…Ø§Ø±Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ÛŒÚ© Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</li>
</ul>
</li>
<li>
<p>Ù…ÛŒâ€ŒØªÙˆØ§Ù† ÛŒÚ© <strong>predicate</strong> Ù‡Ù… Ø§Ø±Ø§Ø¦Ù‡ Ø¯Ø§Ø¯ ØªØ§ ÙÙ‚Ø· Ø¹Ù†Ø§ØµØ± Ù…Ø·Ø§Ø¨Ù‚ Ø´Ø±Ø· Ø´Ù…Ø§Ø±Ø´ Ø´ÙˆÙ†Ø¯:</p>
</li>
</ul>
<pre><code class="language-csharp">int digitCount = &quot;pa55w0rd&quot;.Count(c =&gt; char.IsDigit(c));   // 3
</code></pre>
<ul>
<li><strong>LongCount</strong> Ù‡Ù…Ø§Ù† Ú©Ø§Ø± <strong>Count</strong> Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ø§Ù…Ø§ Ù†ØªÛŒØ¬Ù‡ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª <strong>int64 (long)</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ùˆ Ù…Ù†Ø§Ø³Ø¨ ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø§ Ø¨ÛŒØ´ Ø§Ø² Ø¯Ùˆ Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ Ø¹Ù†ØµØ± Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Min Ùˆ Max</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-27.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<ul>
<li><strong>Min</strong> Ùˆ <strong>Max</strong> Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† ÛŒØ§ Ø¨Ø²Ø±Ú¯â€ŒØªØ±ÛŒÙ† Ø¹Ù†ØµØ± ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 28, 32, 14 };
int smallest = numbers.Min();  // 14
int largest  = numbers.Max();  // 32
</code></pre>
<ul>
<li>Ø§Ú¯Ø± ÛŒÚ© <strong>selector</strong> Ø§Ø±Ø§Ø¦Ù‡ Ø¯Ù‡ÛŒØ¯ØŒ Ù‡Ø± Ø¹Ù†ØµØ± Ø§Ø¨ØªØ¯Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ù„Ø®ÙˆØ§Ù‡ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø³Ù¾Ø³ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯:</li>
</ul>
<pre><code class="language-csharp">int smallestMod = numbers.Max(n =&gt; n % 10);  // 8
</code></pre>
<ul>
<li>Ø§Ú¯Ø± Ø¹Ù†Ø§ØµØ± Ø®ÙˆØ¯Ø´Ø§Ù† Ù‚Ø§Ø¨Ù„ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù†Ø¨Ø§Ø´Ù†Ø¯ (<strong>IComparable<T></strong> Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ù†Ø¯)ØŒ Ø§Ø±Ø§Ø¦Ù‡ <strong>selector</strong> Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª:</li>
</ul>
<pre><code class="language-csharp">Purchase runtimeError = dbContext.Purchases.Min();             // Ø®Ø·Ø§
decimal? lowestPrice = dbContext.Purchases.Min(p =&gt; p.Price);  // ØµØ­ÛŒØ­
</code></pre>
<ul>
<li><strong>Selector</strong> ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ú†Ú¯ÙˆÙ†Ù‡ Ø¹Ù†Ø§ØµØ± Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø´ÙˆÙ†Ø¯ Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ù†ÙˆØ¹ Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ Ú†ÛŒØ³Øª. Ø¯Ø± Ù…Ø«Ø§Ù„ Ø¨Ø§Ù„Ø§ØŒ Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ <strong>decimal</strong> Ø§Ø³Øª Ù†Ù‡ Ø´ÛŒØ¡ <strong>Purchase</strong>.</li>
<li>Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯Ù† Ø§Ø±Ø²Ø§Ù†â€ŒØªØ±ÛŒÙ† Ø®Ø±ÛŒØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ø§Ø² <strong>subquery</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</li>
</ul>
<pre><code class="language-csharp">Purchase cheapest = dbContext.Purchases
    .Where(p =&gt; p.Price == dbContext.Purchases.Min(p2 =&gt; p2.Price))
    .FirstOrDefault();
</code></pre>
<ul>
<li>Ø¯Ø± Ø§ÛŒÙ† Ø­Ø§Ù„Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ø¯ÙˆÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ¬Ù…ÛŒØ¹ (<strong>aggregation</strong>) Ù†ÛŒØ² Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ Ø±Ø§ Ø¨Ø§ <strong>OrderBy</strong> Ùˆ Ø³Ù¾Ø³ <strong>FirstOrDefault</strong> Ù†ÙˆØ´Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Sum Ùˆ Average</h3>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-28.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<ul>
<li><strong>Sum</strong> Ùˆ <strong>Average</strong> Ø§Ù¾Ø±Ø§ØªÙˆØ±Ù‡Ø§ÛŒ ØªØ¬Ù…ÛŒØ¹ÛŒ (<strong>aggregation</strong>) Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¨Ù‡ Ø´Ú©Ù„ÛŒ Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§ <strong>Min</strong> Ùˆ <strong>Max</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:</li>
</ul>
<pre><code class="language-csharp">decimal[] numbers  = { 3, 4, 8 };
decimal sumTotal   = numbers.Sum();     // 15
decimal average    = numbers.Average(); // 5  (Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†)
</code></pre>
<ul>
<li>Ù…Ø«Ø§Ù„ Ø¯ÛŒÚ¯Ø±: Ù…Ø¬Ù…ÙˆØ¹ Ø·ÙˆÙ„ Ø±Ø´ØªÙ‡â€ŒÙ‡Ø§ Ø¯Ø± Ø¢Ø±Ø§ÛŒÙ‡ <strong>names</strong>:</li>
</ul>
<pre><code class="language-csharp">int combinedLength = names.Sum(s =&gt; s.Length);   // 19
</code></pre>
<ul>
<li><strong>Sum</strong> Ùˆ <strong>Average</strong> Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ø¯Ø± Ù†ÙˆØ¹ Ø¯Ø§Ø¯Ù‡ Ø¯Ø§Ø±Ù†Ø¯ Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ù†ÙˆØ§Ø¹ Ø¹Ø¯Ø¯ÛŒ (int, long, float, double, decimal Ùˆ Ù†Ø³Ø®Ù‡ nullable Ø¢Ù†Ù‡Ø§) ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.</li>
<li>Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ØŒ <strong>Min</strong> Ùˆ <strong>Max</strong> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø±ÙˆÛŒ Ù‡Ø± Ú†ÛŒØ²ÛŒ Ú©Ù‡ <strong>IComparable<T></strong> Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ù…Ø§Ù†Ù†Ø¯ Ø±Ø´ØªÙ‡â€ŒÙ‡Ø§ØŒ Ø¹Ù…Ù„ Ú©Ù†Ù†Ø¯.</li>
<li>Ù‡Ù…Ú†Ù†ÛŒÙ†ØŒ <strong>Average</strong> Ù‡Ù…ÛŒØ´Ù‡ Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ø§Ø² Ù†ÙˆØ¹ <strong>decimal</strong>ØŒ <strong>float</strong> ÛŒØ§ <strong>double</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ØŒ Ù…Ø·Ø§Ø¨Ù‚ Ø¬Ø¯ÙˆÙ„ Ø²ÛŒØ±:</li>
</ul>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-29.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ Aggregate Ùˆ Ù…Ø³Ø§Ø¦Ù„ Ù…Ø±ØªØ¨Ø·</h3>
<ul>
<li><strong>Average</strong> Ø¨Ù‡â€ŒØ·ÙˆØ± Ø¶Ù…Ù†ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø§Ø±ØªÙ‚Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ Ø§Ø² Ø¯Ø³Øª Ø±ÙØªÙ† Ø¯Ù‚Øª Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø´ÙˆØ¯. Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ù…Ø«Ø§Ù„ Ø²ÛŒØ± Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯:</li>
</ul>
<pre><code class="language-csharp">int avg = new int[] { 3, 4 }.Average(); // Ø®Ø·Ø§: cannot convert double to int
</code></pre>
<ul>
<li>Ø§Ù…Ø§ Ø§ÛŒÙ† Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</li>
</ul>
<pre><code class="language-csharp">double avg = new int[] { 3, 4 }.Average(); // 3.5
</code></pre>
<ul>
<li>Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ø¨Ø§Ø´Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø¹Ù†ØµØ± ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø¨Ù‡ ØµØ±Ø§Ø­Øª ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†ÛŒÙ…:</li>
</ul>
<pre><code class="language-csharp">double avg = numbers.Average(n =&gt; (double)n);
</code></pre>
<ul>
<li>Ù‡Ù†Ú¯Ø§Ù… Ú©ÙˆØ¦Ø±ÛŒ Ø²Ø¯Ù† Ø¨Ù‡ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ØŒ <strong>Sum</strong> Ùˆ <strong>Average</strong> Ø¨Ù‡ Ø¹Ù…Ù„ÛŒØ§Øª ØªØ¬Ù…ÛŒØ¹ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ SQL ØªØ±Ø¬Ù…Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. Ù…Ø«Ø§Ù„:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
where c.Purchases.Average(p =&gt; p.Price) &gt; 500
select c.Name;
</code></pre>
<hr>
<h3>ğŸ”¹ Aggregate</h3>
<ul>
<li><strong>Aggregate</strong> Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… ØªØ¬Ù…ÛŒØ¹ Ø³ÙØ§Ø±Ø´ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯. Ø§ÛŒÙ† Ù…ØªØ¯ Ø¯Ø± EF Core Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ Ø¢Ù† Ø¯Ø± Ù…ÙˆØ§Ø±Ø¯ Ø®Ø§Øµ Ø§Ø³Øª. Ù…Ø«Ø§Ù„ Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§ <strong>Sum</strong>:</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 1, 2, 3 };
int sum = numbers.Aggregate(0, (total, n) =&gt; total + n); // 6
</code></pre>
<ul>
<li>
<p>Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø§ÙˆÙ„ (<strong>seed</strong>) Ù†Ù‚Ø·Ù‡ Ø´Ø±ÙˆØ¹ ØªØ¬Ù…ÛŒØ¹ Ø§Ø³Øª Ùˆ Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¯ÙˆÙ… Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù‚Ø¯Ø§Ø± ØªØ¬Ù…Ø¹ÛŒ Ø¨Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù‡Ø± Ø¹Ù†ØµØ± Ø¬Ø¯ÛŒØ¯ Ø§Ø³Øª.</p>
</li>
<li>
<p>Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø³ÙˆÙ… Ø±Ø§ Ù‡Ù… Ø§Ø±Ø§Ø¦Ù‡ Ø¯Ø§Ø¯ ØªØ§ Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ Ø§Ø² Ù…Ù‚Ø¯Ø§Ø± ØªØ¬Ù…Ø¹ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´ÙˆØ¯.</p>
</li>
<li>
<p>Ø§Ú©Ø«Ø± Ù…ÙˆØ§Ø±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ <strong>Aggregate</strong> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ø§ ÛŒÚ© Ø­Ù„Ù‚Ù‡ <strong>foreach</strong> Ø³Ø§Ø¯Ù‡ Ø­Ù„ Ø´ÙˆÙ†Ø¯ØŒ Ø§Ù…Ø§ Ù…Ø²ÛŒØª <strong>Aggregate</strong> Ø¯Ø± Ø¹Ù…Ù„ÛŒØ§Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ ÛŒØ§ Ø¨Ø²Ø±Ú¯ Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ <strong>PLINQ</strong> Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡â€ŒØµÙˆØ±Øª Ù…ÙˆØ§Ø²ÛŒ Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯.</p>
</li>
</ul>
<hr>
<h3>ğŸ”¹ ØªØ¬Ù…ÛŒØ¹ Ø¨Ø¯ÙˆÙ† Seed</h3>
<ul>
<li>Ù…ÛŒâ€ŒØªÙˆØ§Ù† <strong>seed</strong> Ø±Ø§ Ø­Ø°Ù Ú©Ø±Ø¯. Ø¯Ø± Ø§ÛŒÙ† Ø­Ø§Ù„ØªØŒ Ø¹Ù†ØµØ± Ø§ÙˆÙ„ Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø¶Ù…Ù†ÛŒ <strong>seed</strong> Ø´Ø¯Ù‡ Ùˆ ØªØ¬Ù…ÛŒØ¹ Ø§Ø² Ø¹Ù†ØµØ± Ø¯ÙˆÙ… Ø¢ØºØ§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯:</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 1, 2, 3 };
int sum = numbers.Aggregate((total, n) =&gt; total + n); // 6
</code></pre>
<ul>
<li>Ù…Ø«Ø§Ù„ Ø¯ÛŒÚ¯Ø± Ø¨Ø§ Ø¶Ø±Ø¨:</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 1, 2, 3 };
int x = numbers.Aggregate(0, (prod, n) =&gt; prod * n); // 0*1*2*3 = 0
int y = numbers.Aggregate((prod, n) =&gt; prod * n);   // 1*2*3 = 6
</code></pre>
<ul>
<li>ØªØ¬Ù…ÛŒØ¹ Ø¨Ø¯ÙˆÙ† <strong>seed</strong> Ù…Ø²ÛŒØª Ø§Ø¬Ø±Ø§ÛŒ Ù…ÙˆØ§Ø²ÛŒ Ø¨Ø¯ÙˆÙ† overload Ø®Ø§Øµ Ø±Ø§ Ø¯Ø§Ø±Ø¯ØŒ Ø§Ù…Ø§ Ù†Ú©Ø§Øª Ø®Ø·Ø±Ù†Ø§Ú©ÛŒ Ù†ÛŒØ² Ø¯Ø§Ø±Ø¯.</li>
</ul>
<hr>
<h3>âš ï¸ Ù…Ø´Ú©Ù„Ø§Øª ØªØ¬Ù…ÛŒØ¹ Ø¨Ø¯ÙˆÙ† Seed</h3>
<ul>
<li>ØªÙˆØ§Ø¨Ø¹ ØºÛŒØ± Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ùˆ ØºÛŒØ± ØªØ±Ú©ÛŒØ¨ÛŒ (<strong>non-commutative / non-associative</strong>) Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ù†ØªØ§ÛŒØ¬ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ ÛŒØ§ ØºÛŒØ±Ù‚Ø·Ø¹ÛŒ ØªÙˆÙ„ÛŒØ¯ Ú©Ù†Ù†Ø¯.</li>
<li>Ù…Ø«Ø§Ù„:</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 2, 3, 4 };
int sum = numbers.Aggregate((total, n) =&gt; total + n * n); // 27
</code></pre>
<ul>
<li>
<p>Ø¨Ù‡ Ø¬Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ ØµØ­ÛŒØ­ Û²<em>Û² + Û³</em>Û³ + Û´*Û´ = Û²Û¹ØŒ Ù…Ù‚Ø¯Ø§Ø± Û²Û· Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø¯.</p>
</li>
<li>
<p>Ø±Ø§Ù‡ Ø­Ù„â€ŒÙ‡Ø§:</p>
<ol>
<li>ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ØªØ¬Ù…ÛŒØ¹ Ø¨Ø§ <strong>seed</strong>:</li>
</ol>
</li>
</ul>
<pre><code class="language-csharp">int[] numbers = { 0, 2, 3, 4 };
</code></pre>
<ol start="2">
<li>Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ ØªØ§Ø¨Ø¹ ØªØ¬Ù…ÛŒØ¹ Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ùˆ ØªØ±Ú©ÛŒØ¨ÛŒ:</li>
</ol>
<pre><code class="language-csharp">int sum = numbers.Select(n =&gt; n * n).Aggregate((total, n) =&gt; total + n);
</code></pre>
<ul>
<li>Ø¯Ø± Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ØŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø§Ø² <strong>Sum</strong> Ùˆ <strong>Average</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯. Ù…Ø«Ø§Ù„ Ù…Ø­Ø§Ø³Ø¨Ù‡ <strong>Root-Mean-Square</strong>:</li>
</ul>
<pre><code class="language-csharp">Math.Sqrt(numbers.Average(n =&gt; n * n));
</code></pre>
<ul>
<li>Ù…Ø«Ø§Ù„ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù†Ø­Ø±Ø§Ù Ù…Ø¹ÛŒØ§Ø±:</li>
</ul>
<pre><code class="language-csharp">double mean = numbers.Average();
double sdev = Math.Sqrt(numbers.Average(n =&gt; {
    double dif = n - mean;
    return dif * dif;
}));
</code></pre>
<ul>
<li>Ø§ÛŒÙ† Ø±ÙˆØ´â€ŒÙ‡Ø§ Ø§ÛŒÙ…Ù†ØŒ Ú©Ø§Ø±Ø¢Ù…Ø¯ Ùˆ Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…ÙˆØ§Ø²ÛŒâ€ŒÙ¾Ø°ÛŒØ± Ù‡Ø³ØªÙ†Ø¯.</li>
</ul>
<hr>
<h3>ğŸ”¹ Quantifiers</h3>
<p><code>IEnumerable&lt;TSource&gt;</code> â†’ <code>bool</code></p>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-30.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ Contains Ùˆ Any</h3>
<ul>
<li>Ù…ØªØ¯ <strong>Contains</strong> ÛŒÚ© Ø¹Ù†ØµØ± Ø§Ø² Ù†ÙˆØ¹ <code>TSource</code> Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ø¯ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¢ÛŒØ§ Ø¢Ù† Ø¹Ù†ØµØ± Ø¯Ø± ØªÙˆØ§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ ÛŒØ§ Ø®ÛŒØ±.</li>
<li>Ù…ØªØ¯ <strong>Any</strong> ÛŒÚ© Ø´Ø±Ø· Ø§Ø®ØªÛŒØ§Ø±ÛŒ (<strong>predicate</strong>) Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¢ÛŒØ§ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¹Ù†ØµØ± Ø¨Ø§ Ø´Ø±Ø· Ø¯Ø§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ ÛŒØ§ Ø®ÛŒØ±.</li>
</ul>
<p>Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§:</p>
<pre><code class="language-csharp">bool hasAThree = new int[] { 2, 3, 4 }.Contains(3);       // true
bool hasAThree = new int[] { 2, 3, 4 }.Any(n =&gt; n == 3);  // true
</code></pre>
<ul>
<li><strong>Any</strong> Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù‡Ù…Ù‡â€ŒÛŒ Ú©Ø§Ø±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ <strong>Contains</strong> Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ Ùˆ Ø­ØªÛŒ Ø¨ÛŒØ´ØªØ±:</li>
</ul>
<pre><code class="language-csharp">bool hasABigNumber = new int[] { 2, 3, 4 }.Any(n =&gt; n &gt; 10); // false
</code></pre>
<ul>
<li>ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ <strong>Any</strong> Ø¨Ø¯ÙˆÙ† Ø´Ø±Ø·ØŒ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¢ÛŒØ§ ØªÙˆØ§Ù„ÛŒ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¹Ù†ØµØ± Ø¯Ø§Ø±Ø¯ ÛŒØ§ Ø®ÛŒØ±:</li>
</ul>
<pre><code class="language-csharp">bool hasABigNumber = new int[] { 2, 3, 4 }.Where(n =&gt; n &gt; 10).Any();
</code></pre>
<ul>
<li><strong>Any</strong> Ø¯Ø± Ø²ÛŒØ±Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ Ùˆ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¨Ø³ÛŒØ§Ø± Ù…ÙÛŒØ¯ Ø§Ø³Øª. Ù…Ø«Ø§Ù„:</li>
</ul>
<pre><code class="language-csharp">from c in dbContext.Customers
where c.Purchases.Any(p =&gt; p.Price &gt; 1000)
select c
</code></pre>
<hr>
<h3>ğŸ”¹ All Ùˆ SequenceEqual</h3>
<ul>
<li><strong>All</strong> Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¢ÛŒØ§ Ù‡Ù…Ù‡ Ø¹Ù†Ø§ØµØ± Ø´Ø±Ø· Ø¯Ø§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ Ø±Ø§ Ø±Ø¹Ø§ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ ÛŒØ§ Ø®ÛŒØ±. Ù…Ø«Ø§Ù„:</li>
</ul>
<pre><code class="language-csharp">dbContext.Customers.Where(c =&gt; c.Purchases.All(p =&gt; p.Price &lt; 100));
</code></pre>
<ul>
<li><strong>SequenceEqual</strong> Ø¯Ùˆ ØªÙˆØ§Ù„ÛŒ Ø±Ø§ Ø¨Ø§ Ù‡Ù… Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† <code>true</code>ØŒ Ù‡Ø± Ø¯Ùˆ ØªÙˆØ§Ù„ÛŒ Ø¨Ø§ÛŒØ¯ Ø¹Ù†Ø§ØµØ± ÛŒÚ©Ø³Ø§Ù† Ùˆ Ø¨Ø§ Ù‡Ù…Ø§Ù† ØªØ±ØªÛŒØ¨ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§Ø² <strong>equality comparer</strong> Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯Ø› Ù¾ÛŒØ´â€ŒÙØ±Ø¶ <code>EqualityComparer&lt;T&gt;.Default</code> Ø§Ø³Øª.</li>
</ul>
<hr>
<h3>ğŸ”¹ Generation Methods</h3>
<p><code>void</code> â†’ <code>IEnumerable&lt;TResult&gt;</code></p>
<div align="center">
<p><img src="../../../assets/image/09/Table-9-31.jpeg" alt="Conventions-UsedThis-Book"></p>
</div>
<h3>ğŸ”¹ Empty, Repeat Ùˆ Range</h3>
<p>Ù…ØªØ¯Ù‡Ø§ÛŒ <strong>Empty</strong>ØŒ <strong>Repeat</strong> Ùˆ <strong>Range</strong> Ù…ØªØ¯Ù‡Ø§ÛŒ Ø§ÛŒØ³ØªØ§ (<strong>static</strong>) Ù‡Ø³ØªÙ†Ø¯ Ùˆ ØªÙˆØ§Ù„ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ Ù…Ø­Ù„ÛŒ Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</p>
<hr>
<h4>ğŸ”¹ Empty</h4>
<p>Ù…ØªØ¯ <strong>Empty</strong> ÛŒÚ© ØªÙˆØ§Ù„ÛŒ Ø®Ø§Ù„ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ØªÙ†Ù‡Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ÙˆØ¹ Ø¯Ø§Ø¯Ù‡ Ø¯Ø§Ø±Ø¯:</p>
<pre><code class="language-csharp">foreach (string s in Enumerable.Empty&lt;string&gt;())
    Console.Write(s);   // &lt;Ú†ÛŒØ²ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯&gt;
</code></pre>
<p>Ø¯Ø± ØªØ±Ú©ÛŒØ¨ Ø¨Ø§ Ø¹Ù…Ù„Ú¯Ø± <code>??</code>ØŒ <strong>Empty</strong> Ø¹Ú©Ø³ <strong>DefaultIfEmpty</strong> Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
<p>Ù…Ø«Ø§Ù„: ÙØ±Ø¶ Ú©Ù†ÛŒØ¯ ÛŒÚ© Ø¢Ø±Ø§ÛŒÙ‡â€ŒÛŒ jagged Ø§Ø² Ø§Ø¹Ø¯Ø§Ø¯ ØµØ­ÛŒØ­ Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ù‡Ù…Ù‡â€ŒÛŒ Ø§Ø¹Ø¯Ø§Ø¯ Ø±Ø§ Ø¯Ø± ÛŒÚ© Ù„ÛŒØ³Øª ØµØ§Ù Ø¬Ù…Ø¹ Ú©Ù†ÛŒÙ…. Ú©ÙˆØ¦Ø±ÛŒ <strong>SelectMany</strong> Ø²ÛŒØ± Ø¯Ø± ØµÙˆØ±Øª ÙˆØ¬ÙˆØ¯ Ø¢Ø±Ø§ÛŒÙ‡â€ŒÛŒ null Ø¯Ø§Ø®Ù„ÛŒ Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
<pre><code class="language-csharp">int[][] numbers =
{
    new int[] { 1, 2, 3 },
    new int[] { 4, 5, 6 },
    null                     // Ø§ÛŒÙ† null Ø¨Ø§Ø¹Ø« Ø´Ú©Ø³Øª Ú©ÙˆØ¦Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
};

IEnumerable&lt;int&gt; flat = numbers.SelectMany(innerArray =&gt; innerArray);
</code></pre>
<p>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>Empty</strong> Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ <code>??</code> Ù…Ø´Ú©Ù„ Ø±Ø§ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:</p>
<pre><code class="language-csharp">IEnumerable&lt;int&gt; flat = numbers
    .SelectMany(innerArray =&gt; innerArray ?? Enumerable.Empty&lt;int&gt;());

foreach (int i in flat)
    Console.Write(i + &quot; &quot;);     // 1 2 3 4 5 6
</code></pre>
<hr>
<h4>ğŸ”¹ Range Ùˆ Repeat</h4>
<ul>
<li><strong>Range</strong>: ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ø´Ø±ÙˆØ¹ Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± (Ù‡Ø± Ø¯Ùˆ Ø§Ø² Ù†ÙˆØ¹ <code>int</code>) Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ùˆ ØªÙˆØ§Ù„ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:</li>
</ul>
<pre><code class="language-csharp">foreach (int i in Enumerable.Range(5, 3))
    Console.Write(i + &quot; &quot;);    // 5 6 7
</code></pre>
<ul>
<li><strong>Repeat</strong>: Ø¹Ù†ØµØ±ÛŒ Ø¨Ø±Ø§ÛŒ ØªÚ©Ø±Ø§Ø± Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ø¯ÙØ¹Ø§Øª ØªÚ©Ø±Ø§Ø± Ø¢Ù† Ø±Ø§ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯:</li>
</ul>
<pre><code class="language-csharp">foreach (bool x in Enumerable.Repeat(true, 3))
    Console.Write(x + &quot; &quot;);    // True True True
</code></pre>

  </main>

  <!-- ÙÙˆØªØ± Ù…Ø´ØªØ±Ú© -->
  <footer class="footer">
    <div class="container">
      <p>
        <img src="/icone/copyright.svg" alt="Ú©Ù¾ÛŒâ€ŒØ±Ø§ÛŒØª" width="14" height="14"
             style="vertical-align:middle;margin-inline:4px">
        <span id="y"></span> Gitab â€” Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†
      </p>
    </div>
  </footer>

  <!-- Ø³Ø§Ù„ + Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ØªÙ… -->
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    (() => {
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');
      const KEY = 'gitab-theme';
      const media = window.matchMedia('(prefers-color-scheme: dark)');
      const getEffective = s => s === 'auto' ? (media.matches ? 'dark' : 'light') : s;
      function updateTheme(s) {
        root.setAttribute('data-theme', s);
        const mode = getEffective(s);
        root.dataset.colorMode = mode;
        btn.dataset.icon = mode === 'dark' ? 'moon' : 'sun';
      }
      const saved = localStorage.getItem(KEY) || 'auto';
      updateTheme(saved);
      btn.addEventListener('click', () => {
        const curr = localStorage.getItem(KEY) || 'auto';
        const next = curr === 'auto' ? 'dark' : curr === 'dark' ? 'light' : 'auto';
        localStorage.setItem(KEY, next);
        updateTheme(next);
      });
      media.addEventListener('change', () => {
        if ((localStorage.getItem(KEY) || 'auto') === 'auto') updateTheme('auto');
      });
      window.addEventListener('DOMContentLoaded', () => updateTheme(saved));
    })();
  </script>
</body>
</html>
