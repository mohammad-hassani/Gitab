---
layout: layout.njk
title: ูุจุงู .NET
---
# ูุตู ุดุดู: ูุจุงู .NET

ุจุณุงุฑ ุงุฒ ุงูฺฉุงูุงุช ุงุตู ฺฉู ููฺฏุงู ุจุฑูุงููโููุณ ุจู ุขูโูุง ูุงุฒ ุฏุงุฑุฏุ ุชูุณุท ุฎูุฏ ุฒุจุงู **C#** ูุฑุงูู ููโุดููุฏุ ุจูฺฉู ุชูุณุท **ุงููุงุน (Types)** ููุฌูุฏ ุฏุฑ **BCL** ุง ููุงู **.NET Base Class Library** ุงุฑุงุฆู ูโุดููุฏ.

ุฏุฑ ุงู ูุตูุ ุจุง ุงููุงุน ุขุดูุง ูโุดูุฏ ฺฉู ุฏุฑ ุงูุฌุงู ฺฉุงุฑูุง ูพุงูโุง ุจุฑูุงููโููุณ ุจู ุดูุง ฺฉูฺฉ ูโฺฉููุฏุ ูุงููุฏ:

* ููุงุณู ุจุฑุงุจุฑ ูุฌุงุฒ (Virtual Equality Comparison)
* ููุงุณู ุชุฑุชุจ (Order Comparison)
* ุชุจุฏู ููุน (Type Conversion)

ููฺูู ุจุง ุงููุงุน ูพุงูโุง **.NET** ูุงููุฏ **String**ุ **DateTime** ู **Enum** ูุฒ ุขุดูุง ุฎูุงูุฏ ุดุฏ.

ุงููุงุน ฺฉู ุฏุฑ ุงู ุจุฎุด ูพูุดุด ุฏุงุฏู ูโุดููุฏุ ุจุดุชุฑ ุฏุฑ ูุถุง ูุงู (**Namespace**) **System** ูุฑุงุฑ ุฏุงุฑูุฏุ ุจู ุฌุฒ ููุงุฑุฏ ุฒุฑ:

* **StringBuilder** ู ุงููุงุน ูุฑุจูุท ุจู **ฺฉุฏฺฏุฐุงุฑ ูุชู (Text Encodings)** ุฏุฑ ูุถุง ูุงู **System.Text** ูุฑุงุฑ ุฏุงุฑูุฏ.
* **CultureInfo** ู ุงููุงุน ูุฑุชุจุท ุจุง ุขู ุฏุฑ **System.Globalization** ูุฑุงุฑ ุฏุงุฑูุฏ.
* **XmlConvert** ุฏุฑ **System.Xml** ุชุนุฑู ุดุฏู ุงุณุช.

---

### ูุฏุฑุช ุฑุดุชู ู ูุชู ๐

#### **Char**

ฺฉ **char** ุฏุฑ ุฒุจุงู **C#** ูุดุงูโุฏููุฏู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ููฺฉุฏ (Unicode Character) ูุงุญุฏ ุงุณุช ู ุฏุฑ ูุงูุน ูุนุงุฏู ุณุงุฎุชุงุฑ (**struct**) **System.Char** ุงุณุช.

ุฏุฑ ูุตู ฒ ุชูุถุญ ุฏุงุฏู ฺฉู ฺฺฏููู **ูุชุฑุงูโูุง char** ุฑุง ุจุงู ฺฉูุฏ:

```csharp
char c = 'A';
char newLine = '\n';
```

ุณุงุฎุชุงุฑ **System.Char** ูุฌููุนูโุง ุงุฒ ูุชุฏูุง **static** ุจุฑุง ฺฉุงุฑ ุจุง ฺฉุงุฑุงฺฉุชุฑูุง ุงุฑุงุฆู ูโุฏูุฏุ ูุงููุฏ **ToUpper**ุ **ToLower** ู **IsWhiteSpace**. ุดูุง ูโุชูุงูุฏ ุงู ูุชุฏูุง ุฑุง ูู ุงุฒ ุทุฑู **System.Char** ู ูู ุงุฒ ุทุฑู **char** ูุฑุงุฎูุงู ฺฉูุฏ:

```csharp
Console.WriteLine (System.Char.ToUpper ('c'));    // C
Console.WriteLine (char.IsWhiteSpace ('\t'));     // True
```

ูุชุฏูุง **ToUpper** ู **ToLower** ุจู **ูุญูโุณุงุฒ (Locale)** ฺฉุงุฑุจุฑ ููุง ุงุญุชุฑุงู ูโฺฏุฐุงุฑูุฏ ู ุงู ูโุชูุงูุฏ ฺฏุงู ููุฌุฑ ุจู ุจุฑูุฒ ุฎุทุงูุง ุธุฑู ุดูุฏ. ุจู ุนููุงู ูุซุงูุ ุนุจุงุฑุช ุฒุฑ ุฏุฑ ฺฉุดูุฑ ุชุฑฺฉู ููุฏุงุฑ **false** ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ:

```csharp
char.ToUpper ('i') == 'I'
```

ุฏูู ุงู ููุถูุน ุงู ุงุณุช ฺฉู ุฏุฑ ุชุฑฺฉูุ ูุชุฌูโ **char.ToUpper ('i')** ุจุฑุงุจุฑ ุจุง **'ฤฐ'** ุงุณุช (ุจู ููุทู ุฑู ุญุฑู ุชูุฌู ฺฉูุฏ!).

ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงู ูุดฺฉูุ **System.Char** (ู ููฺูู **System.String**) ูุณุฎูโูุง **culture-invariant** ุงุฒ ูุชุฏูุง **ToUpper** ู **ToLower** ุฑุง ุงุฑุงุฆู ูโุฏููุฏ ฺฉู ุจุง ูพุณููุฏ **Invariant** ูุดุฎุต ูโุดููุฏ. ุงู ูุชุฏูุง ููุดู ุงุฒ ููุงูู ูุฑููฺฏ ุงูฺฏูุณ ุงุณุชูุงุฏู ูโฺฉููุฏ:

```csharp
Console.WriteLine (char.ToUpperInvariant ('i'));    // I
```

ุงู ุฏุฑ ูุงูุน ฺฉ ูุงูุจุฑ ุจุฑุง ฺฉุฏ ุฒุฑ ุงุณุช:

```csharp
Console.WriteLine (char.ToUpper ('i', CultureInfo.InvariantCulture))
```

ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู **locale**โูุง ู ูุฑููฺฏโูุงุ ุจู ุจุฎุด **Formatting and Parsing** ุฏุฑ ุตูุญู **317** ูุฑุงุฌุนู ฺฉูุฏ.

ุจุดุชุฑ ูุชุฏูุง **static** ุฏฺฏุฑ ุฏุฑ **char** ูุฑุจูุท ุจู **ุฏุณุชูโุจูุฏ ฺฉุงุฑุงฺฉุชุฑูุง** ูุณุชูุฏ. **ุฌุฏูู 6-1** ุงู ูุชุฏูุง ุฑุง ูุดุงู ูโุฏูุฏ.
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-1.jpeg)
</div>

### ุฏุณุชูโุจูุฏ ุฏููโุชุฑ ฺฉุงุฑุงฺฉุชุฑูุง ๐

ุจุฑุง ุฏุณุชูโุจูุฏ ุฏููโุชุฑุ ููุน **char** ูุชุฏ **static** ุจู ูุงู **GetUnicodeCategory** ุงุฑุงุฆู ูโุฏูุฏุ ุงู ูุชุฏ ฺฉ ููุฏุงุฑ ุงุฒ ููุน ุดูุงุฑุด (**Enumeration**) **UnicodeCategory** ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุงุนุถุง ุขู ุฏุฑ ุณุชูู ุณูุช ุฑุงุณุช **ุฌุฏูู 6-1** ูุดุงู ุฏุงุฏู ุดุฏูโุงูุฏ.

ุจุง **Casting** ุตุฑุญ ุงุฒ ฺฉ ุนุฏุฏ ุตุญุญ (**int**) ูโุชูุงู ฺฉ **char** ุชููุฏ ฺฉุฑุฏ ฺฉู ุฎุงุฑุฌ ุงุฒ ูุฌููุนู ุชุฎุตุตโุฏุงุฏูโุดุฏูโ ููฺฉุฏ ุจุงุดุฏ. ุจุฑุง ุขุฒูุงุด ุงุนุชุจุงุฑ ฺฉ ฺฉุงุฑุงฺฉุชุฑุ ูุชุฏ **char.GetUnicodeCategory** ุฑุง ูุฑุงุฎูุงู ฺฉูุฏุ ุงฺฏุฑ ูุชุฌู ุจุฑุงุจุฑ ุจุง **UnicodeCategory.OtherNotAssigned** ุจุงุดุฏุ ุขู ฺฉุงุฑุงฺฉุชุฑ ูุงูุนุชุจุฑ ุงุณุช.

ฺฉ **char** ุฏุงุฑุง ูพููุง **16 ุจุช** ุงุณุชโุจู ุงูุฏุงุฒูโุง ฺฉู ุจุชูุงูุฏ ูุฑ ฺฉุงุฑุงฺฉุชุฑ ููฺฉุฏ ุฑุง ุฏุฑ **Basic Multilingual Plane (BMP)** ููุงุด ุฏูุฏ. ุจุฑุง ูุฑุงุชุฑ ุฑูุชู ุงุฒ ุงู ูุญุฏูุฏูุ ุจุงุฏ ุงุฒ **Surrogate Pairs** ุงุณุชูุงุฏู ฺฉูุฏุ ุฑูุดโูุง ุงูุฌุงู ุงู ฺฉุงุฑ ุฏุฑ ุจุฎุด **โText Encodings and Unicodeโ** ุฏุฑ ุตูุญู **301** ุชูุถุญ ุฏุงุฏู ุดุฏูโุงูุฏ.

---

### **String**

ฺฉ **string** ุฏุฑ ุฒุจุงู **C#** (ุง ููุงู **System.String**) ุฏูุจุงููโุง ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุงุณุช ฺฉู **ุชุบุฑูุงูพุฐุฑ (Immutable)** ุงุณุชุ ุนู ูพุณ ุงุฒ ุงุฌุงุฏุ ูุงุจู ุชุบุฑ ูุณุช. ุฏุฑ ูุตู ฒ ูุญููโ ููุดุชู **ูุชุฑุงูโูุง ุฑุดุชูโุง (String Literals)**ุ ุงูุฌุงู **ููุงุณู ุจุฑุงุจุฑ (Equality Comparisons)** ู **ุงุชุตุงู ุฏู ุฑุดุชู (Concatenation)** ุฑุง ุชูุถุญ ุฏุงุฏู.

ุฏุฑ ุงู ุจุฎุดุ ุจู ุณุงุฑ ูุงุจูุชโูุง ฺฉุงุฑ ุจุง ุฑุดุชูโูุง ูโูพุฑุฏุงุฒู ฺฉู ุงุฒ ุทุฑู ุงุนุถุง **static** ู **instance** ฺฉูุงุณ **System.String** ุงุฑุงุฆู ุดุฏูโุงูุฏ.

---

### ุณุงุฎุช ุฑุดุชูโูุง ๐๏ธ

ุณุงุฏูโุชุฑู ุฑูุด ุณุงุฎุช ฺฉ ุฑุดุชูุ ุงูุชุณุงุจ ฺฉ **ูุชุฑุงู** ุงุณุช (ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุตู ฒ ุฏุฏู):

```csharp
string s1 = "Hello";
string s2 = "First Line\r\nSecond Line";
string s3 = @"\\server\fileshare\helloworld.cs";
```

ุจุฑุง ุณุงุฎุช ฺฉ ุชูุงู ุชฺฉุฑุงุฑ ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุงุ ูโุชูุงูุฏ ุงุฒ **ุณุงุฒูุฏู (Constructor)** ุฑุดุชู ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
Console.Write (new string ('*', 10));      // **********
```

ููฺูู ูโุชูุงูุฏ ฺฉ ุฑุดุชู ุฑุง ุงุฒ ฺฉ **ุขุฑุงูโ char** ุจุณุงุฒุฏ. ูุชุฏ **ToCharArray** ุจุฑุนฺฉุณ ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ:

```csharp
char[] ca = "Hello".ToCharArray();
string s = new string (ca);              // s = "Hello"
```

ุณุงุฒูุฏูโูุง ุฑุดุชู ููฺูู **Overload** ุดุฏูโุงูุฏ ุชุง ุงููุงุน ูุฎุชูู ุงุฒ **Pointer**โูุง ูุงุงูู (**unsafe**) ูุงููุฏ **char**\* ุฑุง ูุฒ ุจูพุฐุฑูุฏ ู ุฑุดุชูโูุง ุงุฒ ุงู ุงููุงุน ุจุณุงุฒูุฏ.

---

### ุฑุดุชูโูุง ุชู ู ุฎุงู โ๏ธ

ฺฉ ุฑุดุชูโ ุฎุงู (**Empty String**) ุทูู ุจุฑุงุจุฑ ุจุง ุตูุฑ ุฏุงุฑุฏ. ุจุฑุง ุณุงุฎุช ุฑุดุชูโ ุฎุงู ูโุชูุงูุฏ ุงุฒ ฺฉ **ูุชุฑุงู** ุง ููุฏ **static** ุจู ูุงู **string.Empty** ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ุจุฑุฑุณ ุฎุงู ุจูุฏู ฺฉ ุฑุดุชู ูโุชูุงูุฏ ุงุฒ ููุงุณูโ ุจุฑุงุจุฑ ุง ุจุฑุฑุณ ูฺฺฏ **Length** ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
string empty = "";
Console.WriteLine (empty == "");              // True
Console.WriteLine (empty == string.Empty);    // True
Console.WriteLine (empty.Length == 0);        // True
```

ุงุฒ ุขูโุฌุง ฺฉู ุฑุดุชูโูุง **Reference Type** ูุณุชูุฏุ ูโุชูุงููุฏ ููุฏุงุฑ **null** ูุฒ ุฏุงุดุชู ุจุงุดูุฏ:

```csharp
string nullString = null;
Console.WriteLine (nullString == null);        // True
Console.WriteLine (nullString == "");          // False
Console.WriteLine (nullString.Length == 0);    // NullReferenceException
```

ูุชุฏ **static string.IsNullOrEmpty** ูุงูุจุฑ ููุฏ ุจุฑุง ุจุฑุฑุณ ุงู ุงุณุช ฺฉู ุขุง ฺฉ ุฑุดุชู **null** ุง **ุฎุงู** ุงุณุช ุง ุฎุฑ.

---

### ุฏุณุชุฑุณ ุจู ฺฉุงุฑุงฺฉุชุฑูุง ุฏุงุฎู ฺฉ ุฑุดุชู ๐

**Indexer** ุฑุดุชู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุฑุง ุฏุฑ ุดุงุฎุต ูุดุฎุตโุดุฏู ุจุฑูโฺฏุฑุฏุงูุฏ. ููุงููุฏ ุณุงุฑ ุนููุงุช ุฑู ุฑุดุชูโูุงุ ุดุงุฎุตโฺฏุฐุงุฑ ุงุฒ **ุตูุฑ** ุดุฑูุน ูโุดูุฏ:

```csharp
string str  = "abcde";
char letter = str[1];        // letter == 'b'
```

ููุน **string** ุฑุงุจุท **IEnumerable<char>** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ุจุง ุฏุณุชูุฑ **foreach** ุฑู ฺฉุงุฑุงฺฉุชุฑูุง ุขู ุญููู ุจุฒูุฏ:

```csharp
foreach (char c in "123") Console.Write (c + ",");    // 1,2,3,
```

---

### ุฌุณุชุฌู ุฏุฑ ุฑุดุชูโูุง ๐

ุณุงุฏูโุชุฑู ูุชุฏูุง ุฌุณุชุฌู ุฏุฑ ุฑุดุชูโูุง ุนุจุงุฑุชูุฏ ุงุฒ **StartsWith**ุ **EndsWith** ู **Contains**. ูุฑ ุณู ููุฏุงุฑ **true** ุง **false** ุจุฑูโฺฏุฑุฏุงููุฏ:

```csharp
Console.WriteLine ("quick brown fox".EndsWith ("fox"));      // True
Console.WriteLine ("quick brown fox".Contains ("brown"));    // True
```

ุงู ูุชุฏูุง **Overload** ุดุฏูโุงูุฏ ุชุง ุจุชูุงูุฏ ฺฉ **StringComparison enum** ูุดุฎุต ฺฉูุฏ ู ุญุณุงุณุช ูุณุจุช ุจู **ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ** ู **ูุฑููฺฏ (Culture)** ุฑุง ฺฉูุชุฑู ฺฉูุฏ (ุจู ุจุฎุด **โOrdinal versus culture comparisonโ** ุฏุฑ ุตูุญู **297** ูุฑุงุฌุนู ฺฉูุฏ). ุญุงูุช ูพุดโูุฑุถุ ฺฉ ููุงุณูโ **ุญุณุงุณ ุจู ุญุฑูู ุจุฒุฑฺฏ ู ฺฉูฺฺฉ** ุจุง ุงุณุชูุงุฏู ุงุฒ ููุงูู ูุฑููฺฏ ุฌุงุฑ (ูุญูโุณุงุฒ ุดุฏู) ุงุณุช. ฺฉุฏ ุฒุฑ ฺฉ ุฌุณุชุฌู **ุบุฑุญุณุงุณ ุจู ุญุฑูู ุจุฒุฑฺฏ ู ฺฉูฺฺฉ** ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุงูู ูุฑููฺฏ **Invariant** ุงูุฌุงู ูโุฏูุฏ:

```csharp
"abcdef".StartsWith ("aBc", StringComparison.InvariantCultureIgnoreCase)
```

ูุชุฏ **IndexOf** ูููุนุช ุงููู ูููุน ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุง ุฒุฑุฑุดุชู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ (ุง **โ1** ุงฺฏุฑ ุฒุฑุฑุดุชู ุงูุช ูุดูุฏ):

```csharp
Console.WriteLine ("abcde".IndexOf ("cd"));   // 2
```

**IndexOf** ููฺูู **Overload** ุดุฏู ุชุง ฺฉ **startPosition** (ุดุงุฎุต ุดุฑูุน ุฌุณุชุฌู) ู ููฺูู ฺฉ **StringComparison enum** ุฑุง ุจูพุฐุฑุฏ:

```csharp
Console.WriteLine ("abcde abcde".IndexOf ("CD", 6,
                  StringComparison.CurrentCultureIgnoreCase));    // 8
```

ูุชุฏ **LastIndexOf** ูุดุงุจู **IndexOf** ุงุณุชุ ุจุง ุงู ุชูุงูุช ฺฉู ุงุฒ ุงูุชูุง ุฑุดุชู ุจู ุงุจุชุฏุง ุฌุณุชุฌู ูโฺฉูุฏ.

ูุชุฏ **IndexOfAny** ุงููู ูููุนุช ฺฉ ุง ฺูุฏ ฺฉุงุฑุงฺฉุชุฑ ูุดุฎุต ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ:

```csharp
Console.Write ("ab,cd ef".IndexOfAny (new char[] {' ', ','} ));       // 2
Console.Write ("pas5w0rd".IndexOfAny ("0123456789".ToCharArray() ));  // 3
```

**LastIndexOfAny** ูุฒ ููู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ ุงูุง ุฏุฑ ุฌูุช ูุนฺฉูุณ.

---

### ุฏุณุชฺฉุงุฑ ุฑุดุชูโูุง โ๏ธ

ุงุฒ ุขูโุฌุง ฺฉู **String** ุชุบุฑูุงูพุฐุฑ (**Immutable**) ุงุณุชุ ุชูุงู ูุชุฏูุง ฺฉู ุฑุดุชู ุฑุง ยซุฏุณุชฺฉุงุฑยป ูโฺฉููุฏุ ุฏุฑ ูุงูุน ฺฉ ุฑุดุชูโ ุฌุฏุฏ ุจุฑูโฺฏุฑุฏุงููุฏ ู ุฑุดุชูโ ุงุตู ุฑุง ุจุฏูู ุชุบุฑ ุจุงู ูโฺฏุฐุงุฑูุฏ (ุงู ููุถูุน ุฒูุงู ูู ฺฉู ฺฉ ูุชุบุฑ ุฑุดุชู ุฑุง ุฏูุจุงุฑู ููุฏุงุฑุฏู ูโฺฉูุฏ ุตุงุฏู ุงุณุช).

---

#### **ูุชุฏ Substring** โ ุฌุฏุง ฺฉุฑุฏู ุจุฎุด ุงุฒ ุฑุดุชู

```csharp
string left3 = "12345".Substring (0, 3);     // left3 = "123";
string mid3  = "12345".Substring (1, 3);     // mid3 = "234";
```

ุงฺฏุฑ ุทูู (**length**) ุฑุง ูุดุฎุต ูฺฉูุฏุ ุจุงูโูุงูุฏูโ ุฑุดุชู ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ:

```csharp
string end3  = "12345".Substring (2);        // end3 = "345";
```

---

#### **ูุชุฏูุง Insert ู Remove** โ ุฏุฑุฌ ุง ุญุฐู ฺฉุงุฑุงฺฉุชุฑ

```csharp
string s1 = "helloworld".Insert (5, ", ");    // s1 = "hello, world"
string s2 = s1.Remove (5, 2);                 // s2 = "helloworld";
```

---

#### **PadLeft ู PadRight** โ ูพุฑ ฺฉุฑุฏู ุฑุดุชู

ุงู ูุชุฏูุง ุฑุดุชู ุฑุง ุชุง ุทูู ูุดุฎุต ุจุง ฺฉุงุฑุงฺฉุชุฑ ุฏูุฎูุงู (ุง ุงฺฏุฑ ูุดุฎุต ูุดูุฏุ ุจุง ูุงุตูู) ูพุฑ ูโฺฉููุฏ:

```csharp
Console.WriteLine ("12345".PadLeft (9, '*'));  // ****12345
Console.WriteLine ("12345".PadLeft (9));       //     12345
```

ุงฺฏุฑ ุทูู ูุดุฎุตโุดุฏู ฺฉูุชุงูโุชุฑ ุงุฒ ุทูู ุฑุดุชู ุจุงุดุฏุ ุฑุดุชูโ ุงุตู ุจุฏูู ุชุบุฑ ุจุฑฺฏุฑุฏุงูุฏู ูโุดูุฏ.

---

#### **TrimStartุ TrimEnd ู Trim** โ ุญุฐู ฺฉุงุฑุงฺฉุชุฑูุง ุงุถุงู

ุงู ูุชุฏูุง ฺฉุงุฑุงฺฉุชุฑูุง ูุดุฎุตโุดุฏู ุฑุง ุงุฒ ุงุจุชุฏุง ุฑุดุชู (**TrimStart**) ุง ุงูุชูุง ุฑุดุชู (**TrimEnd**) ุญุฐู ูโฺฉููุฏุ **Trim** ูุฑ ุฏู ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุจูโุทูุฑ ูพุดโูุฑุถุ ุงู ูุชุฏูุง ูุงุตููโูุง ู ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงู (**Whitespace**) ูุงููุฏ ูุงุตููุ ุชุจุ ุฎุทูุท ุฌุฏุฏ ู ูุณุฎูโูุง ููฺฉุฏ ุงูโูุง ุฑุง ุญุฐู ูโฺฉููุฏ:

```csharp
Console.WriteLine ("  abc \t\r\n ".Trim().Length);   // 3
```

---

#### **Replace** โ ุฌุงฺฏุฒู ฺฉุงุฑุงฺฉุชุฑ ุง ุฒุฑุฑุดุชู

ุงู ูุชุฏ ุชูุงู (ุบุฑููโูพูุดุงู) ุฑุฎุฏุงุฏูุง ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุง ุฒุฑุฑุดุชู ุฑุง ุฌุงฺฏุฒู ูโฺฉูุฏ:

```csharp
Console.WriteLine ("to be done".Replace (" ", " | ") );  // to | be | done
Console.WriteLine ("to be done".Replace (" ", "")    );  // tobedone
```

---

#### **ToUpper ู ToLower** โ ุชุจุฏู ุจู ุญุฑูู ุจุฒุฑฺฏ ุง ฺฉูฺฺฉ

ุงู ูุชุฏูุง ูุณุฎูโ ุญุฑูู ุจุฒุฑฺฏ ู ฺฉูฺฺฉ ุฑุดุชู ุฑุง ุจุฑูโฺฏุฑุฏุงููุฏ. ุจูโุทูุฑ ูพุดโูุฑุถุ ุจู **ุชูุธูุงุช ุฒุจุงู ุฌุงุฑ ฺฉุงุฑุจุฑ** ุงุญุชุฑุงู ูโฺฏุฐุงุฑูุฏุ ุฏุฑ ุญุงู ฺฉู **ToUpperInvariant** ู **ToLowerInvariant** ููุดู ุงุฒ ููุงูู ุญุฑูู ุงููุจุง ุงูฺฏูุณ ุงุณุชูุงุฏู ูโฺฉููุฏ.

---

### ุชูุณู ู ุงุชุตุงู ุฑุดุชูโูุง ๐

#### **Split** โ ุชูุณู ุฑุดุชู

ูุชุฏ **Split** ฺฉ ุฑุดุชู ุฑุง ุจู ุจุฎุดโูุง ุชูุณู ูโฺฉูุฏ:

```csharp
string[] words = "The quick brown fox".Split();
foreach (string word in words)
    Console.Write (word + "|");    // The|quick|brown|fox|
```

ุจูโุทูุฑ ูพุดโูุฑุถุ **Split** ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ูุงุตูู ุจูโุนููุงู ุฌุฏุงฺฉููุฏู ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ูุชุฏ ููฺูู **Overload** ุดุฏู ุชุง ฺฉ ุขุฑุงูโ **params** ุงุฒ **char** ุง **string**โูุง ุฌุฏุงฺฉููุฏู ุจูพุฐุฑุฏ. ููฺูู ูโุชูุงูุฏ ฺฉ **StringSplitOptions enum** ุฏุฑุงูุช ฺฉูุฏ ฺฉู ฺฏุฒููโุง ุจุฑุง ุญุฐู ูุฑูุฏโูุง ุฎุงู ุฏุงุฑุฏุ ุงู ูุงุจูุช ุฒูุงู ููุฏ ุงุณุช ฺฉู ฺฉููุงุช ุจุง ฺูุฏู ุฌุฏุงฺฉููุฏูโ ูพุดุชโุณุฑูู ุงุฒ ูู ุฌุฏุง ุดุฏู ุจุงุดูุฏ.

---

#### **Join ู Concat** โ ุงุชุตุงู ุฑุดุชูโูุง

ูุชุฏ **Join** ุนฺฉุณ **Split** ุนูู ูโฺฉูุฏ. ุงู ูุชุฏ ุจู ฺฉ ุฌุฏุงฺฉููุฏู ู ฺฉ ุขุฑุงูโ ุฑุดุชู ูุงุฒ ุฏุงุฑุฏ:

```csharp
string[] words = "The quick brown fox".Split();
string together = string.Join (" ", words);      // The quick brown fox
```

ูุชุฏ **Concat** ูุดุงุจู **Join** ุงุณุช ุงูุง ุชููุง ฺฉ ุขุฑุงูโ ุฑุดุชู ุจูโุตูุฑุช **params** ูโูพุฐุฑุฏ ู ุฌุฏุงฺฉููุฏูโุง ุงุนูุงู ููโฺฉูุฏ. **Concat** ุฏููุงู ูุนุงุฏู ุนููฺฏุฑ **+** ุงุณุช (ุฏุฑ ูุงูุน ฺฉุงููพุงูุฑ **+** ุฑุง ุจู **Concat** ุชุจุฏู ูโฺฉูุฏ):

```csharp
string sentence     = string.Concat ("The", " quick", " brown", " fox");
string sameSentence = "The" + " quick" + " brown" + " fox";
```

---

### **String.Format** ู ุฑุดุชูโูุง ุชุฑฺฉุจ

ูุชุฏ **static Format** ุฑุงู ุฑุงุญุช ุจุฑุง ุณุงุฎุช ุฑุดุชูโูุง ุงุณุช ฺฉู ุฏุฑ ุขูโูุง ููุงุฏุฑ ูุชุบุฑูุง ฺฏูุฌุงูุฏู ูโุดููุฏ. ุงู ููุงุฏุฑ ูโุชูุงููุฏ ุงุฒ ูุฑ ููุน ุจุงุดูุฏุ **Format** ุชููุง ูุชุฏ **ToString** ุฑุง ุฑู ุขูโูุง ุตุฏุง ูโุฒูุฏ.

ุฑุดุชูโุง ฺฉู ุดุงูู ูุชุบุฑูุง ุฌุงุณุงุฒโุดุฏู ุงุณุชุ **ุฑุดุชูโ ูุงูุจ ุชุฑฺฉุจ (Composite Format String)** ูุงู ุฏุงุฑุฏ. ููฺฏุงู ูุฑุงุฎูุงู **String.Format**ุ ุดูุง ุฑุดุชูโ ูุงูุจ ุชุฑฺฉุจ ุฑุง ุจู ููุฑุงู ูุฑ ฺฉ ุงุฒ ูุชุบุฑูุง ุงุฑุณุงู ูโฺฉูุฏ:

```csharp
string composite = "It's {0} degrees in {1} on this {2} morning";
string s = string.Format (composite, 35, "Perth", DateTime.Now.DayOfWeek);
// s == "It's 35 degrees in Perth on this Friday morning"
```

(ู ุงู ุฏูุง **ุณูุณูุณ** ุงุณุช!)

ูุง ูโุชูุงูู ุงุฒ **ุฑุดุชูโูุง ุฏุฑููโุงุจโุดุฏู (Interpolated String Literals)** ูู ุจุฑุง ููู ฺฉุงุฑ ุงุณุชูุงุฏู ฺฉูู (ุจู ุจุฎุด **โString Typeโ** ุฏุฑ ุตูุญู **58** ูุฑุงุฌุนู ฺฉูุฏ). ฺฉุงู ุงุณุช ุฑุดุชู ุฑุง ุจุง ุนูุงูุช **\$** ุดุฑูุน ฺฉุฑุฏู ู ุนุจุงุฑุงุช ุฑุง ุฏุงุฎู ุขฺฉููุงุฏ ูุฑุงุฑ ุฏูุฏ:

```csharp
string s = $"It's hot this {DateTime.Now.DayOfWeek} morning";
```

---

ูุฑ ุนุฏุฏ ุฏุงุฎู ุขฺฉููุงุฏ **ุขุชู ูุงูุจ (Format Item)** ูุงูุฏู ูโุดูุฏ. ุงู ุนุฏุฏ ุจู **ูููุนุช ุขุฑฺฏููุงู** ูุฑุจูุท ุงุณุช ู ูโุชูุงูุฏ ุจูโุตูุฑุช ุงุฎุชุงุฑ ููุงุฑุฏ ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:

* **ูุฑฺฏูู ู ุญุฏุงูู ุนุฑุถ (Minimum Width)**
* **ุฏูโููุทู ู ฺฉ ุฑุดุชูโ ูุงูุจ (Format String)**

ุญุฏุงูู ุนุฑุถ ุจุฑุง **ุชุฑุงุฒ ฺฉุฑุฏู ุณุชููโูุง** ููุฏ ุงุณุช. ุงฺฏุฑ ููุฏุงุฑ **ููู** ุจุงุดุฏุ ุฏุงุฏู ุจูโุตูุฑุช **ฺูพโฺู** ูุฑุงุฑ ูโฺฏุฑุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช **ุฑุงุณุชโฺู** ุฎูุงูุฏ ุดุฏ:

```csharp
string composite = "Name={0,-20} Credit Limit={1,15:C}";
Console.WriteLine (string.Format (composite, "Mary", 500));
Console.WriteLine (string.Format (composite, "Elizabeth", 20000));
```

ูุชุฌู:

```
Name=Mary                 Credit Limit=        $500.00
Name=Elizabeth            Credit Limit=     $20,000.00
```

ูุนุงุฏู ููู ุจุฏูู ุงุณุชูุงุฏู ุงุฒ **string.Format**:

```csharp
string s = "Name=" + "Mary".PadRight (20) +
           " Credit Limit=" + 500.ToString ("C").PadLeft (15);
```

ูุญุฏูุฏุช ุงุนุชุจุงุฑ (**Credit Limit**) ุจูโูุงุณุทูโ ุฑุดุชูโ ูุงูุจ **"C"** ุจูโุตูุฑุช ูุงุญุฏ ูพูู ูุฑูุช ุดุฏู ุงุณุช. ุฌุฒุฆุงุช ุฑุดุชูโูุง ูุงูุจ ุฑุง ุฏุฑ ุจุฎุด **โFormatting and Parsingโ** ุฏุฑ ุตูุญู **317** ุดุฑุญ ุฏุงุฏูโุงู.

---

### ููุงุณูโ ุฑุดุชูโูุง ๐

ููฺฏุงู ููุงุณูโ ุฏู ููุฏุงุฑุ โ.NET ุจู ุฏู ููููู **ููุงุณูโ ุจุฑุงุจุฑ (Equality Comparison)** ู **ููุงุณูโ ุชุฑุชุจ (Order Comparison)** ุชูุงูุช ูุงุฆู ูโุดูุฏ.

* **ููุงุณูโ ุจุฑุงุจุฑ** ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ุฏู ููููู ุงุฒ ูุธุฑ ูุนูุง ฺฉุณุงู ูุณุชูุฏ ุง ูู.
* **ููุงุณูโ ุชุฑุชุจ** ูุดุฎุต ูโฺฉูุฏ ฺฉุฏุงูโฺฉ ุงุฒ ุฏู ููููู (ุฏุฑ ุตูุฑุช ูุฌูุฏ ุชูุงูุช) ุฏุฑ ููฺฏุงู ูุฑุชุจโุณุงุฒ ุจู ุชุฑุชุจ ุตุนูุฏ ุง ูุฒููุ ุฒูุฏุชุฑ ุง ุฏุฑุชุฑ ูุฑุงุฑ ูโฺฏุฑุฏ.

ูฺฉุชูโ ููู ุงู ุงุณุช ฺฉู **ููุงุณูโ ุจุฑุงุจุฑ ุฒุฑูุฌููุนูโุง ุงุฒ ููุงุณูโ ุชุฑุชุจ ูุณุช**ุ ูุฑ ฺฉุฏุงู ูุฏู ูุชูุงูุช ุฏุงุฑูุฏ. ุจุฑุง ูุซุงูุ ุงูฺฉุงู ุฏุงุฑุฏ ุฏู ููุฏุงุฑ ูุงุจุฑุงุจุฑ ุฏุฑ ฺฉ ูููุนุช ุชุฑุชุจโุฏู ูุดุงุจู ูุฑุงุฑ ุจฺฏุฑูุฏ. ุฏุฑ ุจุฎุด **โEquality Comparisonโ ุฏุฑ ุตูุญูโ 226** ุฏูุจุงุฑู ุจู ุงู ููุถูุน ุจุงุฒูโฺฏุฑุฏู.

ุจุฑุง ููุงุณูโ ุจุฑุงุจุฑ ุฑุดุชูโูุง ูโุชูุงูุฏ ุงุฒ **ุนููฺฏุฑ ==** ุง ฺฉ ุงุฒ **ูุชุฏูุง Equals** ุฏุฑ ููุน ุฑุดุชู ุงุณุชูุงุฏู ฺฉูุฏ. ูุชุฏูุง Equals ุงูุนุทุงูโูพุฐุฑุชุฑ ูุณุชูุฏ ุฒุฑุง ุงุฌุงุฒู ูโุฏููุฏ ฺฏุฒููโูุง ูุงููุฏ **ุจโุชูุงูุช ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ (Case Insensitivity)** ุฑุง ูุดุฎุต ฺฉูุฏ.

ฺฉ ุชูุงูุช ุฏฺฏุฑ ุงู ุงุณุช ฺฉู **ุนููฺฏุฑ ==** ุฑู ุฑุดุชูโูุง ุฒูุงู ฺฉู ูุชุบุฑูุง ุจู ููุน **object** ุชุจุฏู (Cast) ุดููุฏ ุจูโุทูุฑ ูุงุจูโุงุนุชูุงุฏ ุนูู ููโฺฉูุฏ. ุฏูู ุงู ููุถูุน ุฑุง ุฏุฑ **โEquality Comparisonโ ุตูุญูโ 226** ุชูุถุญ ุฎูุงูู ุฏุงุฏ.

ุจุฑุง ููุงุณูโ ุชุฑุชุจ ุฑุดุชูโูุง ูโุชูุงูุฏ ุงุฒ **ูุชุฏ CompareTo** (ูููููโุง ุง Instance) ุง ูุชุฏูุง ุงุณุชุงุชฺฉ **Compare** ู **CompareOrdinal** ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ูุชุฏูุง ฺฉ ุนุฏุฏ ูุซุจุชุ ููู ุง ุตูุฑ ุจุฑูโฺฏุฑุฏุงููุฏ ฺฉู ูุดุงู ูโุฏูุฏ ููุฏุงุฑ ุงูู ุจุนุฏ ุงุฒุ ูุจู ุงุฒ ุง ููโุชุฑุงุฒ ููุฏุงุฑ ุฏูู ูุฑุงุฑ ูโฺฏุฑุฏ.

ูุจู ุงุฒ ุจุฑุฑุณ ุฌุฒุฆุงุช ูุฑฺฉุฏุงูุ ูุงุฒู ุงุณุช ุจุง ุงูฺฏูุฑุชูโูุง ููุงุณูโ ุฑุดุชูโุง โ.NET ุขุดูุง ุดูู.

---

### ููุงุณูโ ุชุฑุชุจ (Ordinal) ุฏุฑ ุจุฑุงุจุฑ ููุงุณูโ ูุจุชู ุจุฑ ูุฑููฺฏ (Culture) ๐

ุฏู ุงูฺฏูุฑุชู ุงุตู ุจุฑุง ููุงุณูโ ุฑุดุชูโูุง ูุฌูุฏ ุฏุงุฑุฏ:

1. **Ordinal (ุชุฑุชุจ)**: ฺฉุงุฑุงฺฉุชุฑูุง ุฑุง ุตุฑูุงู ุจูโุนููุงู ุนุฏุฏ (ุจุฑ ุงุณุงุณ ููุฏุงุฑ ุนุฏุฏ ููฺฉุฏ ุขูโูุง) ุชูุณุฑ ูโฺฉูุฏ.
2. **Culture-Sensitive (ุญุณุงุณ ุจู ูุฑููฺฏ)**: ฺฉุงุฑุงฺฉุชุฑูุง ุฑุง ุจุง ุชูุฌู ุจู ุงููุจุง ฺฉ ูุฑููฺฏ ุฎุงุต ุชูุณุฑ ูโฺฉูุฏ.

ุฏู ูุฑููฺฏ ุฎุงุต ุฏุฑ โ.NET ูุฌูุฏ ุฏุงุฑุฏ:

* **Current Culture (ูุฑููฺฏ ูุนู)**: ุจุฑุงุณุงุณ ุชูุธูุงุช ุฒุจุงู ู ููุทููโุง ฺฉู ุงุฒ **Control Panel** ุฑุงุงูู ฺฏุฑูุชู ุดุฏู ุงุณุช.
* **Invariant Culture (ูุฑููฺฏ ุซุงุจุช)**: ุฏุฑ ูููโ ุฑุงุงููโูุง ฺฉุณุงู ุงุณุช (ู ุชูุฑุจุงู ูุนุงุฏู ูุฑููฺฏ ุงูฺฏูุณ ุขูุฑฺฉุง ุงุณุช).

ุจุฑุง **ููุงุณูโ ุจุฑุงุจุฑ**ุ ูุฑ ุฏู ุงูฺฏูุฑุชู ุชุฑุชุจ ู ุญุณุงุณ ุจู ูุฑููฺฏ ฺฉุงุฑุจุฑุฏ ุฏุงุฑูุฏ.
ุงูุง ุจุฑุง **ูุฑุชุจโุณุงุฒ** ุชูุฑุจุงู ููุดู ููุงุณูโ ุญุณุงุณ ุจู ูุฑููฺฏ ุชุฑุฌุญ ุฏุงุฏู ูโุดูุฏุ ฺูู ุจุฑุง ูุฑุชุจโุณุงุฒ ุงููุจุง ุจู ฺฉ ุงููุจุง ูุงุฒ ุงุณุช. ุงูฺฏูุฑุชู ุชุฑุชุจ ุตุฑูุงู ุจู ููุงุฏุฑ ููฺฉุฏ ุชฺฉู ุฏุงุฑุฏุ ฺฉู ุญุฑูู ุงูฺฏูุณ ุฑุง ุจู ุชุฑุชุจ ุงููุจุง ูุฑุงุฑ ูโุฏูุฏุ ูู ุฏููุงู ููุงูโุทูุฑ ฺฉู ุงูุชุธุงุฑ ุฏุงุฑุฏ ูุณุช.

ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ุญุณุงุณุช ุจู ุจุฒุฑฺฏ ู ฺฉูฺฺฉ ุญุฑูู ูุนุงู ุงุณุช ู ุฑุดุชูโูุง ุฒุฑ ุฑุง ุฏุงุฑู:

* `"Atom"`
* `"atom"`
* `"Zamia"`

ูุฑููฺฏ ุซุงุจุช (Invariant) ุขูโูุง ุฑุง ุจู ุงู ุชุฑุชุจ ูุฑุชุจ ูโฺฉูุฏ:

```
"atom", "Atom", "Zamia"
```

ุงูุง ุงูฺฏูุฑุชู ุชุฑุชุจ (Ordinal) ูุชุฌูโ ุฒุฑ ุฑุง ุชููุฏ ูโฺฉูุฏ:

```
"Atom", "Zamia", "atom"
```

ุฏูู ุงู ุชูุงูุช ุงู ุงุณุช ฺฉู ูุฑููฺฏ ุซุงุจุช ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุฑุง ุฏุฑ ฺฉูุงุฑ ูู ูุฑุงุฑ ูโุฏูุฏ (aA bB cC ...)ุ ูู ุงูฺฏูุฑุชู ุชุฑุชุจ ูููโ ุญุฑูู ุจุฒุฑฺฏ ุฑุง ุงุจุชุฏุง ู ุณูพุณ ูููโ ุญุฑูู ฺฉูฺฺฉ ุฑุง ูุฑุงุฑ ูโุฏูุฏ (A...Z, a...z). ุงู ุฑูุชุงุฑ ุฏุฑ ูุงูุน ุจุฑฺฏุฑูุชู ุงุฒ **ูุฌููุนูโฺฉุงุฑุงฺฉุชุฑ ASCII** ุงุณุช ฺฉู ุฏุฑ ุฏููโ 1960 ุณุงุฎุชู ุดุฏู ุจูุฏ.

---

### ููุงุณูโ ุจุฑุงุจุฑ ุฑุดุชูโูุง โ๏ธ

ุจุง ูุฌูุฏ ูุญุฏูุฏุชโูุง ุงูฺฏูุฑุชู ุชุฑุชุจุ **ุนููฺฏุฑ == ุฏุฑ ุฑุดุชูโูุง ููุดู ุงุฒ ููุงุณูโ ุชุฑุชุจ ุญุณุงุณ ุจู ุจุฒุฑฺฏ ุญุฑูู ุงุณุชูุงุฏู ูโฺฉูุฏ**. ูููโุทูุฑุ ูุชุฏ ูููููโุง **string.Equals** ููุช ุจุฏูู ุขุฑฺฏููุงู ูุฑุงุฎูุงู ุดูุฏ ูุฒ ููู ุฑูุชุงุฑ ูพุดโูุฑุถ ุฑุง ุฏุงุฑุฏ.

ุงู ุงูฺฏูุฑุชู ุจุฑุง == ู Equals ุงูุชุฎุงุจ ุดุฏู ุฒุฑุง:

* ุจุณุงุฑ ุณุฑุน ู ฺฉุงุฑุขูุฏ ุงุณุช.
* ูุชุฌูโ ูุทุน ู ูุงุจู ูพุดโุจู ุฏุงุฑุฏ.
* ููุงุณูโ ุจุฑุงุจุฑ ฺฉ ุนููุงุช ุจูุงุฏ ุงุณุช ู ุจุณุงุฑ ุจุดุชุฑ ุงุฒ ููุงุณูโ ุชุฑุชุจ ุงุณุชูุงุฏู ูโุดูุฏ.
* ุงุณุชูุงุฏู ุงุฒ == ุจูโุทูุฑ ฺฉู ุจุง ููููู ุจุฑุงุจุฑ ุฏูู ููโุฎูุงู ุฏุงุฑุฏ.

ุจุฑุง ููุงุณูโูุง ุขฺฏุงู ุจู ูุฑููฺฏ ุง ุจโุชูุงูุช ุจู ุจุฒุฑฺฏ ุญุฑููุ ูุชุฏูุง ุฒุฑ ูุฌูุฏ ุฏุงุฑูุฏ:

```csharp
public bool Equals (string value, StringComparison comparisonType);
public static bool Equals (string a, string b, StringComparison comparisonType);
```

ูุณุฎูโ ุงุณุชุงุชฺฉ ุญุช ุฒูุงู ฺฉู ฺฉ ุง ูุฑ ุฏู ุฑุดุชู null ุจุงุดูุฏ ูุฒ ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.
**StringComparison** ฺฉ **Enum** ุงุณุช ฺฉู ุจูโุตูุฑุช ุฒุฑ ุชุนุฑู ุดุฏู ุงุณุช:

```csharp
public enum StringComparison
{
    CurrentCulture,               // ุญุณุงุณ ุจู ุจุฒุฑฺฏ ุญุฑูู
    CurrentCultureIgnoreCase,
    InvariantCulture,             // ุญุณุงุณ ุจู ุจุฒุฑฺฏ ุญุฑูู
    InvariantCultureIgnoreCase,
    Ordinal,                      // ุญุณุงุณ ุจู ุจุฒุฑฺฏ ุญุฑูู
    OrdinalIgnoreCase
}
```

ูุซุงูโูุง:

```csharp
Console.WriteLine (string.Equals ("foo", "FOO",
                   StringComparison.OrdinalIgnoreCase));   // True

Console.WriteLine ("แนป" == "ว");                            // False

Console.WriteLine (string.Equals ("แนป", "ว",
                   StringComparison.CurrentCulture));      // ?
```

(ูุชุฌูโ ูุซุงู ุณูู ุจุณุชฺฏ ุจู ุชูุธูุงุช ุฒุจุงู ูุนู ุฑุงุงูู ุฏุงุฑุฏ.)

---

### ููุงุณูโ ุชุฑุชุจ ุฑุดุชูโูุง ๐

ูุชุฏ **CompareTo** (ูููููโุง) ุฑู ุฑุดุชูโูุง ฺฉ **ููุงุณูโ ุญุณุงุณ ุจู ูุฑููฺฏ ู ุญุณุงุณ ุจู ุจุฒุฑฺฏ ุญุฑูู** ุงูุฌุงู ูโุฏูุฏ. ุจุฑุฎูุงู ุนููฺฏุฑ ==ุ ุงู ูุชุฏ ุงุฒ ููุงุณูโ ุชุฑุชุจ ุงุณุชูุงุฏู ููโฺฉูุฏุ ฺูู ุจุฑุง ูุฑุชุจโุณุงุฒุ ููุงุณูโ ุญุณุงุณ ุจู ูุฑููฺฏ ููุฏุชุฑ ุงุณุช.

ุชุนุฑู ูุชุฏ:

```csharp
public int CompareTo (string strB);
```

ุงู ูุชุฏ ุฑุงุจุท **IComparable** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ฺฉู ฺฉ ูพุฑูุชฺฉู ุงุณุชุงูุฏุงุฑุฏ ููุงุณู ุฏุฑ ฺฉุชุงุจุฎุงููโูุง โ.NET ุงุณุช. ุจูุงุจุฑุงู ูุชุฏ CompareTo **ุฑูุชุงุฑ ูพุดโูุฑุถ ูุฑุชุจโุณุงุฒ ุฑุดุชูโูุง** ุฑุง ุฏุฑ ฺฉุงุฑุจุฑุฏูุง ูุซู ูุฌููุนูโูุง ูุฑุชุจโุดุฏู ุชุนุฑู ูโฺฉูุฏ.
ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑูโ **IComparable** ุจู ุจุฎุด **โOrder Comparisonโ ุฏุฑ ุตูุญูโ 355** ูุฑุงุฌุนู ฺฉูุฏ.

ุจุฑุง ุณุงุฑ ุงููุงุน ููุงุณูุ ูุชุฏูุง ุงุณุชุงุชฺฉ ุฒุฑ ูุฒ ูุฌูุฏ ุฏุงุฑูุฏ:

```csharp
public static int Compare (string strA, string strB,
                           StringComparison comparisonType);

public static int Compare (string strA, string strB, bool ignoreCase,
                           CultureInfo culture);

public static int Compare (string strA, string strB, bool ignoreCase);

public static int CompareOrdinal (string strA, string strB);
```

ุฏู ูุชุฏ ุขุฎุฑ ุฏุฑ ูุงูุน ูุงูโุจุฑ ุจุฑุง ูุฑุงุฎูุงู ุฏู ูุชุฏ ุงูู ูุณุชูุฏ.

ุชูุงู ูุชุฏูุง ููุงุณูโ ุชุฑุชุจุ ุนุฏุฏ **ูุซุจุช**ุ **ููู** ุง **ุตูุฑ** ุจุฑูโฺฏุฑุฏุงููุฏ ฺฉู ูุดุงูโุฏููุฏูโ ุชุฑุชุจ ุฏู ููุฏุงุฑ ุงุณุช:

```csharp
Console.WriteLine ("Boston".CompareTo ("Austin"));    // 1
Console.WriteLine ("Boston".CompareTo ("Boston"));    // 0
Console.WriteLine ("Boston".CompareTo ("Chicago"));   // -1
Console.WriteLine ("แนป".CompareTo ("ว"));              // 1
Console.WriteLine ("foo".CompareTo ("FOO"));          // -1
```

ุจุฑุง ุงูุฌุงู ฺฉ ููุงุณูโ ุจโุชูุงูุช ุจู ุจุฒุฑฺฏ ุญุฑูู ุจุง ูุฑููฺฏ ูุนู:

```csharp
Console.WriteLine (string.Compare ("foo", "FOO", true));   // 0
```

ุจุง ุงุฑุงุฆูโ ฺฉ ุดุก **CultureInfo**ุ ูโุชูุงูุฏ ูุฑ ุงููุจุง ุฏูุฎูุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ:

```csharp
// CultureInfo ุฏุฑ ูุถุง ูุงู System.Globalization ุชุนุฑู ุดุฏู ุงุณุช
CultureInfo german = CultureInfo.GetCultureInfo ("de-DE");
int i = string.Compare ("Mรผller", "Muller", false, german);
```

---

### ๐ **StringBuilder (ุฑุดุชูโุณุงุฒ)**

ฺฉูุงุณ **StringBuilder** ุฏุฑ ูุถุง ูุงู **System.Text** ูุดุงูโุฏููุฏูโ ฺฉ ุฑุดุชูโ **ูุงุจูโุชุบุฑ (Mutable)** ุงุณุช. ุนู ูโุชูุงู ุขู ุฑุง ูุฑุงุด ฺฉุฑุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ **StringBuilder** ูโุชูุงูุฏ ุจุฎุดโูุง ุงุฒ ูุชู ุฑุง **ุงุถุงูู (Append)**ุ **ุฏุฑุฌ (Insert)**ุ **ุญุฐู (Remove)** ุง **ุฌุงฺฏุฒู (Replace)** ฺฉูุฏุ ุจุฏูู ุงูโฺฉู ูุงุฒ ุจุงุดุฏ ฺฉู ุฑุดุชู ุฑุง ุฏูุจุงุฑู ุจุณุงุฒุฏ.

ุณุงุฒูุฏูโ **StringBuilder** (Constructor) ูโุชูุงูุฏ ุจูโุตูุฑุช ุงุฎุชุงุฑ ฺฉ ููุฏุงุฑ ุงูููโ ุฑุดุชู ู ููฺูู ุงูุฏุงุฒูโ ุดุฑูุน ุธุฑูุช ุฏุงุฎู ุฑุง ุฏุฑุงูุช ฺฉูุฏ (ุธุฑูุช ูพุดโูุฑุถ ุจุฑุงุจุฑ ุจุง **ฑถ ฺฉุงุฑุงฺฉุชุฑ** ุงุณุช). ุงฺฏุฑ ุงูุฏุงุฒูโ ุฑุดุชู ุงุฒ ุงู ุธุฑูุช ูุฑุงุชุฑ ุฑูุฏุ **StringBuilder** ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุณุงุฎุชุงุฑ ุฏุงุฎู ุฎูุฏ ุฑุง ุจุฑุง ุฌุง ุฏุงุฏู ุฏุงุฏูโูุง ุฌุฏุฏ ุชุบุฑ ุงูุฏุงุฒู ูโุฏูุฏ (ุจุง ุงูุฏฺฉ ฺฉุงูุด ฺฉุงุฑุง) ุชุง ุฒูุงู ฺฉู ุจู ุญุฏุงฺฉุซุฑ ุธุฑูุช ุฎูุฏ ุจุฑุณุฏ (ูพุดโูุฑุถ ุจุฑุงุจุฑ ุจุง **int.MaxValue** ุงุณุช).

ฺฉ ุงุฒ ุงุณุชูุงุฏูโูุง ุฑุงุฌ **StringBuilder**ุ ุณุงุฎุช ฺฉ ุฑุดุชูโ ุทููุงู ุจุง ุงุถุงููโฺฉุฑุฏู ูุฏุงูู ุจุฎุดโูุง ุฌุฏุฏ ุงุณุช. ุงู ุฑูุด **ุจุณุงุฑ ุณุฑุนโุชุฑ ู ุจูููโุชุฑ** ุงุฒ ฺุณุจุงูุฏู (Concatenate) ุฑุดุชูโูุง ูุนููู ุงุณุช:

```csharp
StringBuilder sb = new StringBuilder();
for (int i = 0; i < 50; i++) sb.Append(i).Append(",");
Console.WriteLine(sb.ToString());
```

ุฎุฑูุฌ:

```
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,
27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,
```

ุจุฑุง ฺฏุฑูุชู ูุชุฌูโ ููุงุ ุงุฒ ูุชุฏ **ToString()** ุงุณุชูุงุฏู ูโฺฉูู.

* **AppendLine** ููุงููุฏ Append ุนูู ูโฺฉูุฏุ ุจุง ุงู ุชูุงูุช ฺฉู ุฏุฑ ุงูุชูุง ฺฉ ุฎุท ุฌุฏุฏ (`"\r\n"` ุฏุฑ ููุฏูุฒ) ุงุถุงูู ูโฺฉูุฏ.
* **AppendFormat** ฺฉ ุฑุดุชูโ ูุงูุจโุจูุฏ ุดุฏู ุฑุง ูุดุงุจู **String.Format** ุงุถุงูู ูโฺฉูุฏ.

ุนูุงูู ุจุฑ ูุชุฏูุง **Insert**ุ **Remove** ู **Replace** (ฺฉู Replace ูุดุงุจู Replace ุฏุฑ ฺฉูุงุณ string ุนูู ูโฺฉูุฏ)ุ ฺฉูุงุณ **StringBuilder** ูฺฺฏโูุง ุฒุฑ ุฑุง ุฏุงุฑุฏ:

* ูฺฺฏ **Length** ุจุฑุง ฺฏุฑูุชู ุง ุชูุธู ุทูู ุฑุดุชู.
* ฺฉ **ุงูุฏฺฉุณุฑ ูุงุจูโููุดุชู** ุจุฑุง ฺฏุฑูุชู ุง ุชุบุฑ ฺฉุงุฑุงฺฉุชุฑูุง ุฌุฏุงฺฏุงูู.

ุจุฑุง ูพุงฺฉโฺฉุฑุฏู ูุญุชูุง ฺฉ **StringBuilder**ุ ูโุชูุงูุฏ ฺฉ ุงุฒ ุฏู ุฑูุด ุฒุฑ ุฑุง ุงุณุชูุงุฏู ฺฉูุฏ:

1. ุงุฌุงุฏ ฺฉ ูููููโ ุฌุฏุฏ.
2. ูุฑุงุฑ ุฏุงุฏู ููุฏุงุฑ **Length** ุจุฑุงุจุฑ ุจุง ุตูุฑ.

> โ๏ธ ุชูุฌู: ุชูุธู **Length = 0** ุธุฑูุช ุฏุงุฎู ุฑุง ฺฉุงูุด ููโุฏูุฏ. ุนู ุงฺฏุฑ ุฑุดุชูโ ุดูุง ูุจูุงู ฺฉ ูููู ฺฉุงุฑุงฺฉุชุฑ ุฏุงุดุชู ุจุงุดุฏุ ูพุณ ุงุฒ ุตูุฑ ฺฉุฑุฏู ุทููุ ููฺูุงู ุญุฏูุฏ **ฒ ูฺฏุงุจุงุช ุญุงูุธู** ุงุดุบุงู ุฎูุงูุฏ ฺฉุฑุฏ. ุจุฑุง ุขุฒุงุฏุณุงุฒ ุญุงูุธู ุจุงุฏ ฺฉ **StringBuilder** ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ ู ูููููโ ูุจู ุฑุง ุงุฒ ูุญุฏูุฏูโ ุงุณุชูุงุฏู ุฎุงุฑุฌ ฺฉูุฏ (ุชุง ุชูุณุท **Garbage Collector** ุญุฐู ุดูุฏ).

---

### ๐ **ฺฉุฏฺฏุฐุงุฑ ูุชู ู ููฺฉุฏ (Text Encodings and Unicode)**

**ูุฌููุนูโฺฉุงุฑุงฺฉุชุฑ (Character Set)** ูุฌููุนูโุง ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุงุณุช ฺฉู ูุฑ ฺฉุฏุงู ฺฉ **ฺฉุฏ ุนุฏุฏ (Code Point)** ุฏุงุฑูุฏ. ุฏู ูุฌููุนูโฺฉุงุฑุงฺฉุชุฑ ุฑุงุฌ ุนุจุงุฑุชโุงูุฏ ุงุฒ:

* **Unicode (ููฺฉุฏ)**: ุฏุงุฑุง ูุถุง ุขุฏุฑุณโุฏู ุญุฏูุฏ **ฑ ูููู ฺฉุงุฑุงฺฉุชุฑ** ุงุณุช ฺฉู ุชูุฑุจุงู **ฑฐฐูฌฐฐฐ ฺฉุงุฑุงฺฉุชุฑ** ุชุงฺฉููู ุชุฎุตุต ุงูุชูโุงูุฏ. ุงู ูุฌููุนู ุดุงูู ุงฺฉุซุฑ ุฒุจุงูโูุง ฺฏูุชุงุฑ ุฏูุงุ ุจุฑุฎ ุฒุจุงูโูุง ุชุงุฑุฎ ู ููุงุฏูุง ุฎุงุต ุงุณุช.
* **ASCII (ุงูุณฺฉ)**: ุดุงูู **ฑฒธ ฺฉุงุฑุงฺฉุชุฑ ุงูู** ูุฌููุนูโ ููฺฉุฏ ุงุณุช ฺฉู ุนูุฏุชุงู ฺฉุงุฑุงฺฉุชุฑูุง ููุฌูุฏ ุฑู ุตูุญูโฺฉูุฏูุง ุขูุฑฺฉุง ุฑุง ูพูุดุด ูโุฏูุฏ. ASCII ุญุฏูุฏ **ณฐ ุณุงู** ูุจู ุงุฒ ููฺฉุฏ ูุนุฑู ุดุฏู ู ูููุฒ ูู ุจูโุฏูู ุณุงุฏฺฏ ู ฺฉุงุฑุง ุงุณุชูุงุฏู ูโุดูุฏ (ูุฑ ฺฉุงุฑุงฺฉุชุฑ ฺฉ **ุจุงุช** ุงุณุช).

ุณุณุชู ุชุงูพ ุฏุฑ **.NET** ุจุฑุง ฺฉุงุฑ ุจุง **ููฺฉุฏ** ุทุฑุงุญ ุดุฏู ุงุณุช. ุจุง ุงู ุญุงูุ ฺูู ASCII ุฒุฑูุฌููุนูโุง ุงุฒ ููฺฉุฏ ุงุณุชุ ุจูโุตูุฑุช ุถูู ูพุดุชุจุงู ูโุดูุฏ.

**ฺฉุฏฺฏุฐุงุฑ ูุชู (Text Encoding)** ูุธูู ุฏุงุฑุฏ ฺฉุงุฑุงฺฉุชุฑูุง ุฑุง ุงุฒ **ฺฉุฏ ุนุฏุฏ (Code Point)** ุจู **ููุงุด ุฏูุฏู (Binary)** ู ุจุงูุนฺฉุณ ุชุจุฏู ฺฉูุฏ. ุฏุฑ **.NET**ุ ฺฉุฏฺฏุฐุงุฑโูุง ุจุดุชุฑ ููฺฏุงู ฺฉุงุฑ ุจุง ูุงูโูุง ูุชู ุง ุฌุฑุงูโูุง ุฏุงุฏู (Streams) ุงุณุชูุงุฏู ูโุดููุฏ. ุจุฑุง ูุซุงูุ ููุช ฺฉ ูุงู ูุชู ุฑุง ุจู ุฑุดุชู ุชุจุฏู ูโฺฉูุฏุ **Encoder** ุฏุงุฏูโูุง ุจุงูุฑ ุฑุง ุจู ููุงุด ุฏุงุฎู ููฺฉุฏ ฺฉู ุงููุงุน **char** ู **string** ูุงุฒ ุฏุงุฑูุฏุ ุชุจุฏู ูโฺฉูุฏ.

ฺฉุฏฺฏุฐุงุฑโูุง ูโุชูุงููุฏ ุชุนู ฺฉููุฏ:

* ฺู ฺฉุงุฑุงฺฉุชุฑูุง ูุงุจู ููุงุด ูุณุชูุฏ.
* ฺูุฏุฑ ูุถุง ุจุฑุง ุฐุฎุฑูโุณุงุฒ ูุงุฒ ุงุณุช.

ุฏุฑ .NET ุฏู ุฏุณุชู ุงุตู ุงุฒ ฺฉุฏฺฏุฐุงุฑโูุง ูุฌูุฏ ุฏุงุฑุฏ:

1. **ฺฉุฏฺฏุฐุงุฑโูุง ฺฉู ฺฉุงุฑุงฺฉุชุฑูุง ููฺฉุฏ ุฑุง ุจู ฺฉ ูุฌููุนูโฺฉุงุฑุงฺฉุชุฑ ุฏฺฏุฑ ูฺฏุงุดุช ูโฺฉููุฏ**

   * ุดุงูู ฺฉุฏฺฏุฐุงุฑโูุง ูุฏู ูุซู **EBCDIC** ุดุฑฺฉุช IBM ู ูุฌููุนูโูุง ธ ุจุช ฺฉู ูุจู ุงุฒ ููฺฉุฏ ุฑุงุฌ ุจูุฏูุฏ (ุดูุงุฎุชูโุดุฏู ุจูโูุณููโ **Code Page**).
   * **ASCII** ูุฒ ุฏุฑ ุงู ุฏุณุชู ูุฑุงุฑ ูโฺฏุฑุฏ: ุชููุง ฑฒธ ฺฉุงุฑุงฺฉุชุฑ ุงูู ุฑุง ูพุดุชุจุงู ูโฺฉูุฏ ู ุจุงู ุฑุง ุญุฐู ูโฺฉูุฏ.
   * **GB18030** ูุฒ ุฏุฑ ุงู ุฏุณุชู ุงุณุช ู ุงุฒ ุณุงู ฒฐฐฐ ุจูโุนููุงู ุงุณุชุงูุฏุงุฑุฏ ุงุฌุจุงุฑ ุจุฑุง ูุฑูโุงูุฒุงุฑูุง ููุฑุฏ ุงุณุชูุงุฏู ุง ูุฑูุฎุชูโุดุฏู ุฏุฑ ฺู ูุนุฑู ุดุฏ.

2. **ฺฉุฏฺฏุฐุงุฑโูุง ฺฉู ุงุฒ ุทุฑุญโูุง ุงุณุชุงูุฏุงุฑุฏ ููฺฉุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ**

   * ุดุงูู **UTF-8**ุ **UTF-16** ู **UTF-32** (ู **UTF-7** ูุฏู).
   * ูุฑ ฺฉุฏุงู ุงุฒ ูุธุฑ ูุถุง ุฐุฎุฑูโุณุงุฒ ูุชูุงูุชโุงูุฏ:

     * **UTF-8**: ุจู ฑ ุชุง ด ุจุงุช ุจุฑุง ูุฑ ฺฉุงุฑุงฺฉุชุฑ. ฑฒธ ฺฉุงุฑุงฺฉุชุฑ ุงูู ููุท ฑ ุจุงุช ูโฺฏุฑูุฏ (ุณุงุฒฺฏุงุฑ ุจุง ASCII). ูพุฑฺฉุงุฑุจุฑุฏุชุฑู ฺฉุฏฺฏุฐุงุฑุ ูุฎุตูุตุงู ุฏุฑ ุงูุชุฑูุชุ ู ูพุดโูุฑุถ ุจุณุงุฑ ุงุฒ ุนููุงุช **I/O** ุฏุฑ .NET ุงุณุช.
     * **UTF-16**: ุงุฒ ฺฉ ุง ุฏู ูุงฺูโ ฑถ ุจุช ุจุฑุง ูุฑ ฺฉุงุฑุงฺฉุชุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงู ููุงู ูุงูุจ ุฏุงุฎู .NET ุจุฑุง ููุงุด ุฑุดุชูโูุง ู ฺฉุงุฑุงฺฉุชุฑูุงุณุช.
     * **UTF-32**: ูุงฺฉุงุฑุขูุฏุชุฑู ุงุฒ ูุธุฑ ูุถุงุ ูุฑ ฺฉุงุฑุงฺฉุชุฑ ุฏููุงู **ด ุจุงุช** ูโฺฏุฑุฏ. ุจูโูุฏุฑุช ุงุณุชูุงุฏู ูโุดูุฏ ุงูุง ุจุฑุง ุฏุณุชุฑุณ ุชุตุงุฏู ุจู ฺฉุงุฑุงฺฉุชุฑูุง ุจุณุงุฑ ุณุงุฏู ุงุณุช.

---

### ๐ **ุฏุฑุงูุช ฺฉ ุดุก Encoding**

ฺฉูุงุณ **Encoding** ุฏุฑ ูุถุง ูุงู **System.Text**ุ ูพุงูโ ูุดุชุฑฺฉ ุชูุงู ฺฉูุงุณโูุง ูุฑุชุจุท ุจุง ฺฉุฏฺฏุฐุงุฑ ุงุณุช. ุงู ฺฉูุงุณ ฺูุฏ ุฒุฑฺฉูุงุณ ุฏุงุฑุฏ ฺฉู ุฎุงููุงุฏูโูุง ูุฎุชูู ฺฉุฏฺฏุฐุงุฑ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ. ุฑุงุฌโุชุฑู ฺฉุฏฺฏุฐุงุฑโูุง ุงุฒ ุทุฑู ูฺฺฏโูุง **ุงุณุชุงุชฺฉ (Static Properties)** ฺฉูุงุณ **Encoding** ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ.
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-2.jpeg)
</div>

### ุจูโุฏุณุช ุขูุฑุฏู ุณุงุฑ Encodingูุง ๐๏ธ

ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ **Encoding.GetEncoding** ู ูุงุฑุฏ ฺฉุฑุฏู ฺฉ ูุงู ุงุณุชุงูุฏุงุฑุฏ ฺฉุงุฑุงฺฉุชุฑุณุช ุงุฒ **Internet Assigned Numbers Authority (IANA)** ุณุงุฑ Encodingูุง ุฑุง ุจูโุฏุณุช ุขูุฑุฏ:

```csharp
// ุฏุฑ .NET 5+ ู .NET Coreุ ุงุจุชุฏุง ุจุงุฏ RegisterProvider ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ:
Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);
Encoding chinese = Encoding.GetEncoding("GB18030");
```

ูุชุฏ ุงุณุชุง **GetEncodings** ููุฑุณุช ุงุฒ ุชูุงู Encodingูุง ูพุดุชุจุงูโุดุฏู ุฑุง ููุฑุงู ุจุง ูุงูโูุง ุงุณุชุงูุฏุงุฑุฏ IANA ุจุฑูโฺฏุฑุฏุงูุฏ:

```csharp
foreach (EncodingInfo info in Encoding.GetEncodings())
    Console.WriteLine(info.Name);
```

ุฑูุด ุฏฺฏุฑ ุจุฑุง ุจูโุฏุณุช ุขูุฑุฏู ฺฉ Encoding ุงู ุงุณุช ฺฉู ูุณุชููุงู ฺฉ ฺฉูุงุณ Encoding ุฑุง ูููููโุณุงุฒ ฺฉูุฏ. ุงู ฺฉุงุฑ ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฏุฒููโูุง ูุฎุชูู ุฑุง ุงุฒ ุทุฑู ุขุฑฺฏููุงูโูุง ุณุงุฒูุฏู ูุดุฎุต ฺฉูุฏุ ุงุฒ ุฌููู:

* ุขุง ุฏุฑ ุตูุฑุช ููุงุฌูู ุจุง ุฏูุจุงูู ุจุงุช ูุงูุนุชุจุฑ ุฏุฑ ููฺฏุงู Decode ฺฉุฑุฏูุ ุงุณุชุซูุง (Exception) ูพุฑุชุงุจ ุดูุฏ ุง ุฎุฑ. ููุฏุงุฑ ูพุดโูุฑุถ **false** ุงุณุช.
* ุขุง UTF-16/UTF-32 ุจุง ุจุงุชโูุง ูพุฑุงุฑุฒุดโุชุฑ ุฏุฑ ุงุจุชุฏุง (**big endian**) ุง ุจุงุชโูุง ฺฉูโุงุฑุฒุดโุชุฑ ุฏุฑ ุงุจุชุฏุง (**little endian**) ุฑูุฒฺฏุฐุงุฑ/ุฑูุฒฺฏุดุง ุดููุฏ. ููุฏุงุฑ ูพุดโูุฑุถ **little endian** ุงุณุช ฺฉู ุงุณุชุงูุฏุงุฑุฏ ุณุณุชูโุนุงูู ููุฏูุฒ ูุญุณูุจ ูโุดูุฏ.
* ุขุง ฺฉ **Byte-Order Mark (BOM)** ุง ููุงู ูพุดููุฏ ูุดุงูโุฏููุฏู ููุน Endianness ุตุงุฏุฑ ุดูุฏ ุง ุฎุฑ.

---

### Encoding ุจุฑุง ูุงูโูุง ู ุฌุฑุงูโูุง (File ู Stream I/O) ๐

ุฑุงุฌโุชุฑู ฺฉุงุฑุจุฑุฏ ฺฉ ุดุก Encoding ฺฉูุชุฑู ูุญูู ุฎูุงูุฏู ู ููุดุชู ูุชู ุฏุฑ ูุงู ุง ุฌุฑุงู ุงุณุช. ุจุฑุง ูุซุงูุ ฺฉุฏ ุฒุฑ ุฑุดุชู `"Testing..."` ุฑุง ุฏุฑ ูุงู ุจู ูุงู **data.txt** ุจุง Encoding **UTF-16** ูโููุณุฏ:

```csharp
System.IO.File.WriteAllText("data.txt", "Testing...", Encoding.Unicode);
```

ุงฺฏุฑ ุขุฑฺฏููุงู ููุง ุฑุง ุญุฐู ฺฉูุฏุ **WriteAllText** ุงุฒ **UTF-8** ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุฑุงุฌโุชุฑู ู ูพุดโูุฑุถ Encoding ุจุฑุง ุชูุงู ุนููุงุช ูุงู ู ุฌุฑุงู ุงุณุช.

ูุง ุฏุฑ ูุตู ฑตุ ุฏุฑ ุจุฎุด **โStream Adaptersโ** ุฏุฑ ุตูุญู 709 ุฏูุจุงุฑู ุจู ุงู ููุถูุน ุจุงุฒุฎูุงูู ฺฏุดุช.

---

### Encoding ุจุฑุง ุขุฑุงูโูุง ุจุงุช ๐พ

ูโุชูุงูุฏ ุงุฒ ฺฉ ุดุก Encoding ุจุฑุง ุชุจุฏู ุจู **string** ู **byte\[]** ุงุณุชูุงุฏู ฺฉูุฏ.

* ูุชุฏ **GetBytes** ุงุฒ string ุจู byte\[] ุชุจุฏู ูโฺฉูุฏ.
* ูุชุฏ **GetString** ุจุฑุนฺฉุณ ุนูู ูโฺฉูุฏ:

```csharp
byte[] utf8Bytes  = System.Text.Encoding.UTF8.GetBytes("0123456789");
byte[] utf16Bytes = System.Text.Encoding.Unicode.GetBytes("0123456789");
byte[] utf32Bytes = System.Text.Encoding.UTF32.GetBytes("0123456789");

Console.WriteLine(utf8Bytes.Length);   // 10
Console.WriteLine(utf16Bytes.Length);  // 20
Console.WriteLine(utf32Bytes.Length);  // 40

string original1 = System.Text.Encoding.UTF8.GetString(utf8Bytes);
string original2 = System.Text.Encoding.Unicode.GetString(utf16Bytes);
string original3 = System.Text.Encoding.UTF32.GetString(utf32Bytes);

Console.WriteLine(original1);   // 0123456789
Console.WriteLine(original2);   // 0123456789
Console.WriteLine(original3);   // 0123456789
```

---

### UTF-16 ู ุฌูุชโูุง ุฌุงฺฏุฒู (Surrogate Pairs) ๐งฉ

ุงุฏุชุงู ุจุงุดุฏ ฺฉู .NET ฺฉุงุฑุงฺฉุชุฑูุง ู ุฑุดุชูโูุง ุฑุง ุฏุฑ **UTF-16** ุฐุฎุฑู ูโฺฉูุฏ. ฺูู UTF-16 ุจุฑุง ูุฑ ฺฉุงุฑุงฺฉุชุฑ ุจู ฺฉ ุง ุฏู ฺฉููู ฑถ ุจุช ูุงุฒ ุฏุงุฑุฏ ู ููุน **char** ููุท ฑถ ุจุช ุทูู ุฏุงุฑุฏุ ุจุฑุฎ ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง Unicode ูุงุฒ ุจู ุฏู char ุฏุงุฑูุฏ. ูพุงูุฏูุง ุงู ููุถูุน:

* ูฺฺฏ **Length** ฺฉ ุฑุดุชู ููฺฉู ุงุณุช ุจุฒุฑฺฏโุชุฑ ุงุฒ ุชุนุฏุงุฏ ูุงูุน ฺฉุงุฑุงฺฉุชุฑูุง ุจุงุดุฏ.
* ฺฉ **char** ููุดู ุจูโุชููุง ููโุชูุงูุฏ ฺฉ ฺฉุงุฑุงฺฉุชุฑ Unicode ุฑุง ุจูโุทูุฑ ฺฉุงูู ูุดุงู ุฏูุฏ.

ุงฺฉุซุฑ ุจุฑูุงููโูุง ุงู ููุถูุน ุฑุง ูุงุฏุฏู ูโฺฏุฑูุฏ ุฒุฑุง ุชูุฑุจุงู ููู ฺฉุงุฑุงฺฉุชุฑูุง ุฑุงุฌ ุฏุฑ **Basic Multilingual Plane (BMP)** ุฌุง ูโฺฏุฑูุฏ ฺฉู ุชููุง ุจู ฺฉ ฺฉููู ฑถ ุจุช ูุงุฒ ุฏุงุฑุฏ. BMP ุดุงูู ฺูุฏู ุฒุจุงู ุฌูุงู ู ุจุด ุงุฒ ณฐ,ฐฐฐ ฺฉุงุฑุงฺฉุชุฑ ฺู ุงุณุช.

ุงูุง ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุฑุฌ ุงุฒ BMP ุดุงูู ุฒุจุงูโูุง ุจุงุณุชุงูุ ููุงุฏูุง ูุชโููุณ ููุณูุ ุจุฑุฎ ฺฉุงุฑุงฺฉุชุฑูุง ูุงุฏุฑ ฺู ู ุจุดุชุฑ ุงููุฌโูุง ูุณุชูุฏ.

ุจุฑุง ูพุดุชุจุงู ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุฏูฺฉูููโุง ูโุชูุงูุฏ ุงุฒ ูุชุฏูุง ุงุณุชุง **char** ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
string ConvertFromUtf32(int utf32)
int    ConvertToUtf32(char highSurrogate, char lowSurrogate)
```

ฺฉุงุฑุงฺฉุชุฑูุง ุฏูฺฉูููโุง **Surrogate** ูุงูุฏู ูโุดููุฏ ู ุจูโุฑุงุญุช ูุงุจู ุชุดุฎุตโุงูุฏ ฺูู ูุฑ ฺฉููู ุฏุฑ ุจุงุฒู **0xD800 ุชุง 0xDFFF** ูุฑุงุฑ ุฏุงุฑุฏ. ูุชุฏูุง ููุฏ:

```csharp
bool IsSurrogate(char c)
bool IsHighSurrogate(char c)
bool IsLowSurrogate(char c)
bool IsSurrogatePair(char highSurrogate, char lowSurrogate)
```

ฺฉูุงุณ **StringInfo** ุฏุฑ ูุถุง ูุงู **System.Globalization** ูุฒ ูุชุฏูุง ู ูฺฺฏโูุง ุจุฑุง ฺฉุงุฑ ุจุง ฺฉุงุฑุงฺฉุชุฑูุง ุฏูฺฉูููโุง ูุฑุงูู ูโฺฉูุฏ.

ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุฑุฌ ุงุฒ BMP ูุนูููุงู ุจู ูููุชโูุง ุฎุงุต ูุงุฒ ุฏุงุฑูุฏ ู ูพุดุชุจุงู ูุญุฏูุฏ ุฏุฑ ุณุณุชูโุนุงูู ุฏุงุฑูุฏ.

---

### ุชุงุฑุฎโูุง ู ุฒูุงูโูุง โฐ

ุณุงุฎุชุงุฑูุง (Struct) ุชุบุฑูุงูพุฐุฑ (Immutable) ุฒุฑ ุฏุฑ ูุถุง ูุงู **System** ุจุฑุง ููุงุด ุชุงุฑุฎ ู ุฒูุงู ุจู ฺฉุงุฑ ูโุฑููุฏ:

```
DateTime, DateTimeOffset, TimeSpan, DateOnly, TimeOnly
```

ุฒุจุงู C# ูฺ ฺฉูุฏูุงฺู ุฎุงุต ุจุฑุง ุงู ุงููุงุน ุชุนุฑู ูฺฉุฑุฏู ุงุณุช.

---

### TimeSpan

**TimeSpan** ฺฉ ุจุงุฒู ุฒูุงู ุง ุฒูุงู ุฑูุฒ ุฑุง ููุงุด ูโุฏูุฏ. ุฏุฑ ููุด ุฏููุ ุงู ุฒูุงู ููุงู ุฒูุงู ุณุงุนุช (ุจุฏูู ุชุงุฑุฎ) ุงุณุช ฺฉู ูุนุงุฏู ูุฏุชโุฒูุงู ุณูพุฑโุดุฏู ุงุฒ ูููโุดุจ ุงุณุชุ ูุฑุถ ุจุฑ ุงูโฺฉู ุชุบุฑ ุณุงุนุช ุชุงุจุณุชุงู ูุฌูุฏ ูุฏุงุฑุฏ.

* ุฏูุช: **100 ูุงููุซุงูู**
* ุจุดุชุฑู ููุฏุงุฑ: ุญุฏูุฏ **ฑฐ ูููู ุฑูุฒ**
* ูโุชูุงูุฏ ูุซุจุช ุง ููู ุจุงุดุฏ

ุณู ุฑูุด ุจุฑุง ุณุงุฎุช ฺฉ TimeSpan ูุฌูุฏ ุฏุงุฑุฏ:

* ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงุฒ ุณุงุฒูุฏูโูุง (Constructors)
* ูุฑุงุฎูุงู ฺฉ ุงุฒ ูุชุฏูุง ุงุณุชุง **Fromโฆ**
* ฺฉู ฺฉุฑุฏู ฺฉ **DateTime** ุงุฒ ุฏฺฏุฑ

ููููู ุณุงุฒูุฏูโูุง:

```csharp
public TimeSpan(int hours, int minutes, int seconds);
public TimeSpan(int days, int hours, int minutes, int seconds);
public TimeSpan(int days, int hours, int minutes, int seconds, int milliseconds);
public TimeSpan(int days, int hours, int minutes, int seconds, int milliseconds, int microseconds);
public TimeSpan(long ticks);   // ูุฑ tick = 100ns
```

ููููู ูุชุฏูุง **Fromโฆ**:

```csharp
public static TimeSpan FromDays(double value);
public static TimeSpan FromHours(double value);
public static TimeSpan FromMinutes(double value);
public static TimeSpan FromSeconds(double value);
public static TimeSpan FromMilliseconds(double value);
public static TimeSpan FromMicroseconds(double value);
```

ููููู ุงุณุชูุงุฏู:

```csharp
Console.WriteLine(new TimeSpan(2, 30, 0));     // 02:30:00
Console.WriteLine(TimeSpan.FromHours(2.5));    // 02:30:00
Console.WriteLine(TimeSpan.FromHours(-2.5));   // -02:30:00
```

ุนููฺฏุฑูุง `<` ู `>` ู ููฺูู `+` ู `-` ุจุฑุง TimeSpan ุณุฑุจุงุฑฺฏุฐุงุฑ ุดุฏูโุงูุฏ:

```csharp
TimeSpan.FromHours(2) + TimeSpan.FromMinutes(30); // 2.5 ุณุงุนุช
TimeSpan.FromDays(10) - TimeSpan.FromSeconds(1);  // 9.23:59:59
```

ูฺฺฏโูุง ุนุฏุฏ:

```csharp
TimeSpan nearlyTenDays = TimeSpan.FromDays(10) - TimeSpan.FromSeconds(1);

Console.WriteLine(nearlyTenDays.Days);         // 9
Console.WriteLine(nearlyTenDays.Hours);        // 23
Console.WriteLine(nearlyTenDays.Minutes);      // 59
Console.WriteLine(nearlyTenDays.Seconds);      // 59
Console.WriteLine(nearlyTenDays.Milliseconds); // 0
```

ูฺฺฏโูุง **Totalโฆ** ููุงุฏุฑ ุงุนุดุงุฑ (double) ุฑุง ุจุฑุง ฺฉู ุจุงุฒู ุจุฑูโฺฏุฑุฏุงููุฏ:

```csharp
Console.WriteLine(nearlyTenDays.TotalDays);         // 9.99998842592593
Console.WriteLine(nearlyTenDays.TotalHours);        // 239.999722222222
Console.WriteLine(nearlyTenDays.TotalMinutes);      // 14399.9833333333
Console.WriteLine(nearlyTenDays.TotalSeconds);      // 863999
Console.WriteLine(nearlyTenDays.TotalMilliseconds); // 863999000
```

ูุชุฏ ุงุณุชุง **Parse** ุฑุดุชู ุฑุง ุจู TimeSpan ุชุจุฏู ูโฺฉูุฏ (ุจุฑุนฺฉุณ **ToString**). ูุชุฏ **TryParse** ูุดุงุจู ุงุณุช ูู ุจูโุฌุง ูพุฑุชุงุจ ุงุณุชุซูุง ุฏุฑ ุตูุฑุช ุฎุทุงุ **false** ุจุฑูโฺฏุฑุฏุงูุฏ.

ฺฉูุงุณ **XmlConvert** ูุฒ ูุชุฏูุง ุจุฑุง ุชุจุฏู TimeSpan/ุฑุดุชู ุทุจู ูพุฑูุชฺฉูโูุง ุงุณุชุงูุฏุงุฑุฏ XML ุฏุงุฑุฏ.

ููุฏุงุฑ ูพุดโูุฑุถ TimeSpan ุจุฑุงุจุฑ ุจุง **TimeSpan.Zero** ุงุณุช.

ุจุฑุง ููุงุด ุฒูุงู ุฑูุฒ (ูุฏุชโุฒูุงู ุณูพุฑโุดุฏู ุงุฒ ูููโุดุจ)ุ ูโุชูุงูุฏ ุงุฒ ูฺฺฏ **DateTime.Now\.TimeOfDay** ุงุณุชูุงุฏู ฺฉูุฏ.

---

### DateTime ู DateTimeOffset โฐ

`DateTime` ู `DateTimeOffset` ุฏู **struct** ุชุบุฑูุงูพุฐุฑ (**immutable**) ุจุฑุง ููุงุด ฺฉ ุชุงุฑุฎ ู ุฏุฑ ุตูุฑุช ูุงุฒุ ุฒูุงู ูุณุชูุฏ. ุงู ุฏู ุฏุงุฑุง **ุฏูุช ูุนุงุฏู 100 ูุงููุซุงูู** ุจูุฏู ู ูุญุฏูุฏูโุง ุงุฒ ุณุงู **0001** ุชุง **9999** ุฑุง ูพูุดุด ูโุฏููุฏ.

`DateTimeOffset` ุงุฒ ูุธุฑ ฺฉุงุฑฺฉุฑุฏ ุดุจู `DateTime` ุงุณุช. ุชูุงูุช ุงุตู ุขู ุฏุฑ ุงู ุงุณุช ฺฉู **ฺฉ ุงุฎุชูุงู ุฒูุงู (offset) ูุณุจุช ุจู ุฒูุงู ููุงููฺฏ ุฌูุงู (UTC)** ุฑุง ูู ุฐุฎุฑู ูโฺฉูุฏุ ุงู ููุถูุน ุจุงุนุซ ูโุดูุฏ ููุงุณู ููุงุฏุฑ ุฏุฑ ููุงุทู ุฒูุงู ูุฎุชูู ุฏููโุชุฑ ุงูุฌุงู ุดูุฏ.

---

### ุงูุชุฎุงุจ ุจู DateTime ู DateTimeOffset ๐ค

ุชูุงูุช ุงุตู ุงู ุฏู ุฏุฑ **ูุญูู ูุฏุฑุช ููุงุทู ุฒูุงู (Time Zone)** ุงุณุช:

* `DateTime` ุฏุงุฑุง ฺฉ **ูพุฑฺู ุณูโุญุงูุชู** ุงุณุช ฺฉู ูุดุฎุต ูโฺฉูุฏ ุชุงุฑุฎ ู ุฒูุงู ูุณุจุช ุจู ฺฉุฏุงู ฺฏุฒูู ุงุณุช:

  * ุฒูุงู ูุญู ุฑู ฺฉุงููพูุชุฑ ูุนู
  * `UTC` (ูุนุงุฏู ูุฏุฑู ุฒูุงู ฺฏุฑููฺ)
  * **ูุงูุดุฎุต (Unspecified)**

* ุงูุง `DateTimeOffset` ุฏููโุชุฑ ุงุณุชุ ุงู ููุน **ุงุฎุชูุงู ุฒูุงู ูุณุจุช ุจู UTC ุฑุง ุจูโุตูุฑุช ฺฉ ุดุก ุงุฒ ููุน TimeSpan ุฐุฎุฑู ูโฺฉูุฏ**:
  **July 01 2019 03:00:00 -06:00**

ุงู ููุถูุน ุฏุฑ **ููุงุณูโ ุจุฑุงุจุฑ (Equality)** ุงููุช ุฏุงุฑุฏ ู ูุนุงุฑ ุงูุชุฎุงุจ ฺฉ ุงุฒ ุงู ุฏู ุงุณุช:

* `DateTime` ูพุฑฺู ุณูโุญุงูุชู ุฑุง ุฏุฑ ููุงุณูโูุง ูุงุฏุฏู ูโฺฏุฑุฏ ู ุฏู ููุฏุงุฑ ุฑุง **ุจุฑุงุจุฑ** ูโุฏุงูุฏ ุงฺฏุฑ ุณุงูุ ูุงูุ ุฑูุฒุ ุณุงุนุชุ ุฏููู ู ... ุขููุง ฺฉ ุจุงุดุฏ.
* `DateTimeOffset` ุฏู ููุฏุงุฑ ุฑุง **ุจุฑุงุจุฑ** ูโุฏุงูุฏ ุงฺฏุฑ ุจู **ฺฉ ููุทู ุฒูุงู ฺฉุณุงู** ุงุดุงุฑู ฺฉููุฏ.

ูุซุงู ููู: **ุณุงุนุช ุชุงุจุณุชุงู (Daylight Saving Time)** ูโุชูุงูุฏ ุงู ุชูุงูุช ุฑุง ุญุช ุงฺฏุฑ ุจุฑูุงูู ุดูุง ูุงุฒ ุจู ูพุดุชุจุงู ุงุฒ ููุงุทู ุฒูุงู ูุฎุชูู ูุฏุงุดุชู ุจุงุดุฏุ ููู ฺฉูุฏ.

**ููููู:**
`DateTime` ููุงุฏุฑ ุฒุฑ ุฑุง **ูุชูุงูุช** ูโุฏุงูุฏุ ุฏุฑ ุญุงู ฺฉู `DateTimeOffset` ุขููุง ุฑุง **ุจุฑุงุจุฑ** ูโุฏุงูุฏ:

* July 01 2019 09:00:00 +00:00 (GMT)
* July 01 2019 03:00:00 -06:00 (ูุญูุ ุขูุฑฺฉุง ูุฑฺฉุฒ)

---

### ูุฒุช DateTimeOffset ุฏุฑ ุจุดุชุฑ ููุงุฑุฏ ๐

ุฏุฑ ุงฺฉุซุฑ ุณูุงุฑููุงุ **ููุทู ุจุฑุงุจุฑ DateTimeOffset ุจูุชุฑ ุงุณุช**.
ูุซูุงู ุจุฑุง **ููุงุณู ุฒูุงู ุฏู ุฑูุฏุงุฏ ุจูโุงูููู**ุ `DateTimeOffset` ุจูโุตูุฑุช ูพุดโูุฑุถ ูพุงุณุฎ ุฏุฑุณุช ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.
ุญุช ฺฉ **ูฺฉุฑ** ฺฉู ูุตุฏ ุงุฌุฑุง ฺฉ ุญูููโ **Distributed Denial of Service** ุฏุงุดุชู ุจุงุดุฏ ูุฒ ุงุฒ `DateTimeOffset` ุงุณุชูุงุฏู ูโฺฉูุฏ!

ุงูุง ุฏุฑ `DateTime` ุจุฑุง ุฏุณุชุงุจ ุจู ููู ุฏูุช ุจุงุฏ ูููโฺุฒ ุฑุง ุฏุฑ **ฺฉ ููุทูู ุฒูุงู ูุงุญุฏ (ูุนูููุงู UTC)** ุงุณุชุงูุฏุงุฑุฏ ฺฉูุฏ ฺฉู ุงู ุฏู ูุดฺฉู ุฏุงุฑุฏ:

* ุจุฑุง ฺฉุงุฑุจุฑูพุณูุฏ ุจูุฏูุ ูุงุฒ ุจู **ุชุจุฏู ุตุฑุญ UTC ุจู ุฒูุงู ูุญู** ูุจู ุงุฒ ููุงุด ุฏุงุฑุฏ.
* ููฺฉู ุงุณุช **ูุฑุงููุด ฺฉูุฏ ู ุฒูุงู ูุญู ุฑุง ุจูโุตูุฑุช ุชุตุงุฏู ูุงุฑุฏ ฺฉูุฏ**.

---

### ูุฒุช DateTime ุฏุฑ ุฒูุงูโูุง ูุญู ๐ฅ๏ธ

ุจุง ุงู ุญุงูุ `DateTime` ุฏุฑ ูุดุฎุต ฺฉุฑุฏู ุฒูุงู **ูุณุจุช ุจู ุณุงุนุช ูุญู ุณุณุชู ุงุฌุฑุง** ููุงุณุจโุชุฑ ุงุณุช.
ูุซูุงู ุงฺฏุฑ ุจุฎูุงูุฏ ุจุฑุง ูุฑ ุฏูุชุฑ ุจูโุงูููู ุฎูุฏ ฺฉ **ุขุฑุดู ููุชฺฏ** ุฏุฑ **ุณุงุนุช ณ ุตุจุญ ุจู ููุช ูุญู** ุงูุฌุงู ุฏูุฏุ `DateTime` ุจูุชุฑ ุงุณุช ฺูู ุจู ุฒูุงู ูุญู ูุฑ ุณุงุช ุงุญุชุฑุงู ูโฺฏุฐุงุฑุฏ.

> **ูฺฉุชู:**
> `DateTimeOffset` ุจุฑุง ุฐุฎุฑูโ ุงุฎุชูุงู ุฒูุงู ุงุฒ ฺฉ ุนุฏุฏ ุตุญุญ ฺฉูุชุงู (short) ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุงู ุงุฎุชูุงู ุฑุง ุจุฑุญุณุจ **ุฏููู** ุฐุฎุฑู ูโฺฉูุฏ.
> ุงูุง **ุงุทูุงุนุงุช ููุทูู ุฒูุงู (Region)** ุฑุง ุฐุฎุฑู ููโฺฉูุฏ. ุนู ููโุฏุงูู ุงุฎุชูุงู **+08:00** ุจู **ุฒูุงู ุณูฺฏุงูพูุฑ** ุงุดุงุฑู ุฏุงุฑุฏ ุง **ูพุฑุช**.

ูุง ุฏุฑ ุจุฎุด **โDates and Time Zonesโ ุตูุญู 312** ุฏูุจุงุฑู ุจู ููุถูุน ููุงุทู ุฒูุงู ู ููุงุณูโ ุจุฑุงุจุฑ ุจุงุฒูโฺฏุฑุฏู.

ููฺูู **SQL Server 2008** ูพุดุชุจุงู ูุณุชูู ุงุฒ `DateTimeOffset` ุฑุง ุจุง ูุนุฑู ฺฉ **ููุน ุฏุงุฏูโ ุฌุฏุฏ ุจุง ููู ูุงู** ุงุถุงูู ฺฉุฑุฏู ุงุณุช.

---

### ุณุงุฎุช ฺฉ DateTime ๐๏ธ

`DateTime` ฺูุฏู **ุณุงุฒูุฏู (Constructor)** ุฏุงุฑุฏ ฺฉู ููุงุฏุฑ ุณุงูุ ูุงู ู ุฑูุฒ ุฑุง ุจูโุตูุฑุช ุงุนุฏุงุฏ ุตุญุญ ุฏุฑุงูุช ูโฺฉููุฏ ู ุฏุฑ ุตูุฑุช ูุงุฒ ูโุชูุงู **ุณุงุนุชุ ุฏูููุ ุซุงููุ ููโุซุงูู (ู ุงุฒ .NET 7 ูฺฉุฑูุซุงูู)** ุฑุง ูู ูุดุฎุต ฺฉุฑุฏ:

```csharp
public DateTime (int year, int month, int day);
public DateTime (int year, int month, int day,
                 int hour, int minute, int second, int millisecond);
```

* ุงฺฏุฑ ููุท ุชุงุฑุฎ ูุดุฎุต ุดูุฏุ ุฒูุงู ุจูโุตูุฑุช ูพุดโูุฑุถ **ูููโุดุจ (0:00)** ุชูุธู ูโุดูุฏ.

---

### ูุดุฎุต ฺฉุฑุฏู DateTimeKind ๐งญ

ุณุงุฒูุฏูโูุง `DateTime` ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ **ฺฉ ููุฏุงุฑ ุงุฒ ููุน enum ุจู ูุงู DateTimeKind** ูู ูุดุฎุต ฺฉูุฏ ฺฉู ุดุงูู ุงู ููุงุฏุฑ ุงุณุช:

* `Unspecified`
* `Local`
* `Utc`

ุงู ููุฏุงุฑ ููุงู ูพุฑฺู ุณูโุญุงูุชูโุง ุงุณุช ฺฉู ุฏุฑ ุจุฎุด ูุจู ุชูุถุญ ุฏุงุฏู ุดุฏ.

* `Unspecified` ูพุดโูุฑุถ ุงุณุช ู ุจู ุงู ูุนู ุงุณุช ฺฉู ุฒูุงู ุจู ููุทูู ุฒูุงู ุฎุงุต ูุงุจุณุชู ูุณุช.
* `Local` ุนู ุฒูุงู ูุณุจุช ุจู **ููุทูู ุฒูุงู ุณุณุชู ูุนู** ุงุณุช.

**ุชูุฌู:** `DateTime` ุจุฑุฎูุงู `DateTimeOffset` **ุงุทูุงุนุงุช ุฏูู ููุทูู ุฒูุงู ุง ุงุฎุชูุงู ุนุฏุฏ ุงุฒ UTC ุฑุง ุฐุฎุฑู ููโฺฉูุฏ**.

> ููุฏุงุฑ **Kind** ุฏุฑ ฺฉ ุดุก DateTime ูุดุงูโุฏููุฏูโ ููู ุญุงูุช ุงุณุช.

---

### ุงุณุชูุงุฏู ุงุฒ ุชูููโูุง ูุฎุชูู ๐

ุณุงุฒูุฏูโูุง `DateTime` ูุงุจูุช ุฏุฑุงูุช ฺฉ ุดุก **Calendar** ุฑุง ูู ุฏุงุฑูุฏ.
ุงู ุงูฺฉุงู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ **ุงุฒ ูุฑ ุฒุฑฺฉูุงุณ ุงุฒ Calendar ุฏุฑ System.Globalization** ุจุฑุง ุงุฌุงุฏ ุชุงุฑุฎ ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
DateTime d = new DateTime (5767, 1, 1,
                          new System.Globalization.HebrewCalendar());
Console.WriteLine (d);    // 12/12/2006 12:00:00 AM
```

> ููุงุด ุชุงุฑุฎ ุจู ุชูุธูุงุช ฺฉูุชุฑู ูพูู ุณุณุชู ุดูุง ุจุณุชฺฏ ุฏุงุฑุฏ.
> ุฏุฑ ููุงุชุ `DateTime` ููุดู ุงุฒ ุชููู **ููุงุฏ (Gregorian)** ุจุฑุง ุฐุฎุฑู ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุงู ุชุจุฏู ููุท ุฏุฑ ุฒูุงู ุณุงุฎุช ุดุก ุงูุฌุงู ูโุดูุฏ.

ุงฺฏุฑ ุจุฎูุงูุฏ ูุญุงุณุจุงุช ุจุง ฺฉ ุชููู ุฎุงุต ุงูุฌุงู ุฏูุฏุ ุจุงุฏ **ูุณุชููุงู ูุชุฏูุง ููุงู ุฒุฑฺฉูุงุณ Calendar** ุฑุง ุจูโฺฉุงุฑ ุจุจุฑุฏ.

---

### ุณุงุฎุช DateTime ุจุง Ticks ุง ุฒูุงูโูุง ุฎุงุต โณ

* ูโุชูุงูุฏ ฺฉ `DateTime` ุฑุง ุจุง ููุฏุงุฑ `ticks` ุจุณุงุฒุฏ ฺฉู ฺฉ ุนุฏุฏ ุงุฒ ููุน **long** ุงุณุช.
* ูุฑ tick ุจุฑุงุจุฑ ุงุณุช ุจุง **ฺฉ ุจุงุฒูโ 100 ูุงููุซุงูู ุงุฒ ูููโุดุจ 01/01/0001**.

ููฺูู ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ุณุณุชูโูุง ุฏฺฏุฑุ ูุชุฏูุง ุงุณุชุงุชฺฉ ุฒุฑ ูุฌูุฏ ุฏุงุฑูุฏ:

* **FromFileTime** ู **FromFileTimeUtc**: ุชุจุฏู ุฒูุงู ูุงูโูุง ููุฏูุฒ (long) ุจู DateTime.
* **FromOADate**: ุชุจุฏู ุฒูุงู **OLE Automation** (double) ุจู DateTime.

---

### ุณุงุฎุช DateTime ุงุฒ ุฑุดุชูโูุง ูุชู ๐ค

ุจุฑุง ุณุงุฎุช ฺฉ `DateTime` ุงุฒ ุฑุดุชูโูุงุ ูโุชูุงูุฏ ุงุฒ ูุชุฏูุง ุงุณุชุงุชฺฉ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:

* `Parse`
* `ParseExact`

ูุฑ ุฏู ูุชุฏ **ูพุงุฑุงูุชุฑูุง ุงุฎุชุงุฑ** ุจุฑุง ูุดุฎุต ฺฉุฑุฏู **ูพุฑฺูโูุง (flags)** ู **ูุฑูุชโุฏููุฏูโูุง (format providers)** ุฏุงุฑูุฏุ ููฺูู `ParseExact` ฺฉ **ุฑุดุชูโ ูุฑูุช** ูู ุฏุฑุงูุช ูโฺฉูุฏ.

ุชูุถุญุงุช ฺฉุงููโุชุฑ ุฏุฑ ุจุฎุด **โFormatting and Parsingโ ุตูุญู 317** ุขูุฏู ุงุณุช.

---

### ุณุงุฎุช DateTimeOffset ู ฺฉุงุฑ ุจุง ุขู โฐ

`DateTimeOffset` ูุดุงุจู `DateTime` ุนูู ูโฺฉูุฏุ ุงูุง **ุงุถุงูู ุจุฑ ุชุงุฑุฎ ู ุฒูุงูุ ฺฉ ุงุฎุชูุงู ุฒูุงู ูุณุจุช ุจู UTC** ูู ุฏุฑุงูุช ูโฺฉูุฏ.

#### ุณุงุฒูุฏูโูุง (Constructors)

```csharp
public DateTimeOffset (int year, int month, int day,
                       int hour, int minute, int second,
                       TimeSpan offset);

public DateTimeOffset (int year, int month, int day,
                       int hour, int minute, int second, int millisecond,
                       TimeSpan offset);
```

* **ูุญุฏูุฏุช:** TimeSpan ุจุงุฏ **ุจู ุฏููู ฺฉุงูู** ุจุงุดุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช Exception ุฑุฎ ูโุฏูุฏ.
* ุณุงุฒูุฏูโูุง ููฺูู ูุณุฎูโูุง ุฏุงุฑูุฏ ฺฉู **Calendarุ ticksุ ุง ุฑุดุชู** ุฏุฑุงูุช ูโฺฉููุฏ (`Parse` ู `ParseExact`).

---

#### ุณุงุฎุช ุงุฒ ฺฉ DateTime ููุฌูุฏ

ูโุชูุงูุฏ ฺฉ `DateTimeOffset` ุฑุง ุงุฒ ฺฉ ุดุก `DateTime` ุจุณุงุฒุฏ:

```csharp
public DateTimeOffset (DateTime dateTime);
public DateTimeOffset (DateTime dateTime, TimeSpan offset);
```

ููฺูู ุงูฺฉุงู **ุชุจุฏู ุถูู (implicit cast)** ุงุฒ `DateTime` ุจู `DateTimeOffset` ูุฌูุฏ ุฏุงุฑุฏ:

```csharp
DateTimeOffset dt = new DateTime(2000, 2, 3);
```

> ุงู ฺฉุงุฑ ููุฏ ุงุณุช ฺูู ุงฺฉุซุฑ ฺฉุชุงุจุฎุงููโูุง BCL .NET ูููุฒ `DateTime` ุฑุง ูพุดุชุจุงู ูโฺฉููุฏุ ูู `DateTimeOffset`.

#### ููุงูู ูพุดโูุฑุถ ุจุฑุง offset

* ุงฺฏุฑ `DateTime.Kind == Utc` โ offset = 0
* ุงฺฏุฑ `DateTime.Kind == Local` ุง `Unspecified` โ offset ุงุฒ **ููุทูู ุฒูุงู ูุญู ุณุณุชู** ฺฏุฑูุชู ูโุดูุฏ.

---

### ุชุจุฏู DateTimeOffset ุจู DateTime

ุณู ูฺฺฏ (`property`) ุจุฑุง ุชุจุฏู ูุฌูุฏ ุฏุงุฑุฏ:

* `UtcDateTime` โ DateTime ุจู ุฒูุงู UTC
* `LocalDateTime` โ DateTime ุจู ุฒูุงู ูุญู ุณุณุชู
* `DateTime` โ DateTime ุจุง ููุงู ููุทูู ุฒูุงู ฺฉู ููุฏุงุฑ original ุฏุงุดุชุ ุจุง `Kind = Unspecified`

---

### ุฒูุงู ูุนู (Now, Today, UtcNow)

| ููุน                     | ูฺฺฏ    | ุชูุถุญ                         |
| ----------------------- | -------- | ----------------------------- |
| DateTime                | `Now`    | ุชุงุฑุฎ ู ุฒูุงู ูุญู             |
| DateTimeOffset          | `Now`    | ุชุงุฑุฎ ู ุฒูุงู ูุญู + offset    |
| DateTime                | `Today`  | ููุท ุชุงุฑุฎุ ุฒูุงู ุตูุฑ (ูููโุดุจ) |
| DateTime/DateTimeOffset | `UtcNow` | ุชุงุฑุฎ ู ุฒูุงู ุฏุฑ UTC           |

```csharp
Console.WriteLine(DateTime.Now);         // 11/11/2019 1:23:45 PM
Console.WriteLine(DateTimeOffset.Now);   // 11/11/2019 1:23:45 PM -06:00
Console.WriteLine(DateTime.Today);       // 11/11/2019 12:00:00 AM
Console.WriteLine(DateTime.UtcNow);      // 11/11/2019 7:23:45 AM
Console.WriteLine(DateTimeOffset.UtcNow);// 11/11/2019 7:23:45 AM +00:00
```

> ุฏูุช ุงู ููุงุฏุฑ ูุนูููุงู ุจู **ฑฐ ุชุง ฒฐ ููโุซุงูู** ุงุณุช ู ุจู ุณุณุชู ุนุงูู ุจุณุชฺฏ ุฏุงุฑุฏ.

---

### ุฏุณุชุฑุณ ุจู ุงุฌุฒุง ุชุงุฑุฎ ู ุฒูุงู

```csharp
DateTime dt = new DateTime(2000, 2, 3, 10, 20, 30);

Console.WriteLine(dt.Year);         // 2000
Console.WriteLine(dt.Month);        // 2
Console.WriteLine(dt.Day);          // 3
Console.WriteLine(dt.DayOfWeek);    // Thursday
Console.WriteLine(dt.DayOfYear);    // 34
Console.WriteLine(dt.Hour);         // 10
Console.WriteLine(dt.Minute);       // 20
Console.WriteLine(dt.Second);       // 30
Console.WriteLine(dt.Millisecond);  // 0
Console.WriteLine(dt.Ticks);        // 630851700300000000
Console.WriteLine(dt.TimeOfDay);    // 10:20:30  (TimeSpan)
```

* `DateTimeOffset` ุนูุงูู ุจุฑ ุงูโูุงุ ูฺฺฏ **Offset** ุงุฒ ููุน TimeSpan ุฏุงุฑุฏ.

---

### ูุญุงุณุจุงุช ุฑู ุชุงุฑุฎ ู ุฒูุงู

ูุชุฏูุง ููููู ุจุฑุง ุชุบุฑ ููุงุฏุฑ ุชุงุฑุฎ/ุฒูุงู (ุจุฑูโฺฏุฑุฏุงููุฏ ฺฉ **ุดุก ุฌุฏุฏ**):

```csharp
AddYears, AddMonths, AddDays,
AddHours, AddMinutes, AddSeconds,
AddMilliseconds, AddTicks
```

* ูุฑูุฏ ูโุชูุงูุฏ ููู ุจุงุดุฏ ุชุง **ฺฉู ฺฉุฑุฏู ุฒูุงู** ุฑุง ุงูุฌุงู ุฏูุฏ.
* `Add` ฺฉ TimeSpan ุจู ุชุงุฑุฎ ุงุถุงูู ูโฺฉูุฏุ ุนููฺฏุฑ `+` ูุฒ ูุดุงุจู ุนูู ูโฺฉูุฏ:

```csharp
TimeSpan ts = TimeSpan.FromMinutes(90);
Console.WriteLine(dt.Add(ts));
Console.WriteLine(dt + ts); // ูุดุงุจู ุจุงูุง
```

* ูโุชูุงู TimeSpan ุฑุง ฺฉู ฺฉุฑุฏ ุง ุฏู DateTime/DateTimeOffset ุฑุง ุงุฒ ูู ฺฉู ฺฉุฑุฏ ุชุง ฺฉ TimeSpan ุญุงุตู ุดูุฏ:

```csharp
DateTime thisYear = new DateTime(2015, 1, 1);
DateTime nextYear = thisYear.AddYears(1);
TimeSpan oneYear = nextYear - thisYear;
```

---

### ูุงูุจโุจูุฏ ู ูพุงุฑุณ ฺฉุฑุฏู (Formatting & Parsing)

* `ToString()` ุฏุฑ DateTime โ ุชุงุฑุฎ ฺฉูุชุงู + ุฒูุงู ุทููุงู (ุดุงูู ุซุงููโูุง)
  ูุซุงู: `11/11/2019 11:50:30 AM`
* `ToString()` ุฏุฑ DateTimeOffset โ ููุงูุ ุงูุง **offset ูุฒ ููุงุด ุฏุงุฏู ูโุดูุฏ**: `11/11/2019 11:50:30 AM -06:00`
* `ToShortDateString`, `ToLongDateString` โ ููุท ุชุงุฑุฎ
* `ToShortTimeString`, `ToLongTimeString` โ ููุท ุฒูุงู

> ุงู ูุชุฏูุง ุฏุฑ ูุงูุน **ูุงูุจุฑูุง ุจุฑุง ูุงูุจโูุง ุงุณุชุงูุฏุงุฑุฏ** ูุณุชูุฏ. `ToString` ูโุชูุงูุฏ **ูุฑูุช ุณูุงุฑุด ู provider** ูุฒ ุฏุฑุงูุช ฺฉูุฏ.

#### ุฌููฺฏุฑ ุงุฒ ูพุงุฑุณ ุงุดุชุจุงู

ุงฺฏุฑ ุชูุธูุงุช Culture ููฺฏุงู parse ุจุง ุฒูุงู ูุฑูุช ุดุฏู ูุชูุงูุช ุจุงุดุฏุ ููฺฉู ุงุณุช parse ุงุดุชุจุงู ุดูุฏ.
ุฑุงู ุญู: ุงุฒ **ูุฑูุช culture-agnostic** ุงุณุชูุงุฏู ฺฉูุฏุ ูุซูุงู `"o"`:

```csharp
DateTime dt1 = DateTime.Now;
string cannotBeMisparsed = dt1.ToString("o");
DateTime dt2 = DateTime.Parse(cannotBeMisparsed);
```

* ูุชุฏูุง ุงุณุชุงุชฺฉ `Parse`, `TryParse`, `ParseExact`, `TryParseExact` ุฑุดุชู ุฑุง ุจู DateTime ุง DateTimeOffset ุชุจุฏู ูโฺฉููุฏ.
* ูุณุฎูโูุง `Try*` ุจู ุฌุง ูพุฑุชุงุจ Exceptionุ `false` ุจุฑูโฺฏุฑุฏุงููุฏ.

---
**TimeZoneInfo** โฐ๐

ฺฉูุงุณ **TimeZoneInfo** ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ูุงู ููุงุทู ุฒูุงูุ ุงูุณุชโูุง UTC ู ููุงูู **Daylight Saving Time** ุงุฑุงุฆู ูโุฏูุฏ.

---

### TimeZone

ูุชุฏ ุงุณุชุง **TimeZone.CurrentTimeZone** ฺฉ ุดุก **TimeZone** ุจุฑูโฺฏุฑุฏุงูุฏ:

```csharp
TimeZone zone = TimeZone.CurrentTimeZone;
Console.WriteLine (zone.StandardName);      // Pacific Standard Time
Console.WriteLine (zone.DaylightName);      // Pacific Daylight Time
```

ูุชุฏ **GetDaylightChanges** ุงุทูุงุนุงุช ุฎุงุต ูุฑุจูุท ุจู **Daylight Saving Time** ุจุฑุง ฺฉ ุณุงู ูุดุฎุต ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ:

```csharp
DaylightTime day = zone.GetDaylightChanges (2019);
Console.WriteLine (day.Start.ToString ("M"));       // 10 March
Console.WriteLine (day.End.ToString ("M"));         // 03 November
Console.WriteLine (day.Delta);                      // 01:00:00
```

---

### TimeZoneInfo

ูุชุฏ ุงุณุชุง **TimeZoneInfo.Local** ฺฉ ุดุก **TimeZoneInfo** ุจุฑ ุงุณุงุณ ุชูุธูุงุช ูุญู ุฌุงุฑ ุจุฑูโฺฏุฑุฏุงูุฏ. ูุซุงู ุฒุฑ ูุชุฌู ุงุฌุฑุง ุขู ุฏุฑ ฺฉุงููุฑูุง ุฑุง ูุดุงู ูโุฏูุฏ:

```csharp
TimeZoneInfo zone = TimeZoneInfo.Local;
Console.WriteLine (zone.StandardName);      // Pacific Standard Time
Console.WriteLine (zone.DaylightName);      // Pacific Daylight Time
```

ูุชุฏูุง **IsDaylightSavingTime** ู **GetUtcOffset** ุจู ุดฺฉู ุฒุฑ ฺฉุงุฑ ูโฺฉููุฏ:

```csharp
DateTime dt1 = new DateTime (2019, 1, 1);   // DateTimeOffset ูู ฺฉุงุฑ ูโฺฉูุฏ
DateTime dt2 = new DateTime (2019, 6, 1);
Console.WriteLine (zone.IsDaylightSavingTime (dt1));     // True
Console.WriteLine (zone.IsDaylightSavingTime (dt2));     // False
Console.WriteLine (zone.GetUtcOffset (dt1));             // -08:00:00
Console.WriteLine (zone.GetUtcOffset (dt2));             // -07:00:00
```

ุจุฑุง ุฏุฑุงูุช **TimeZoneInfo** ูุฑ ููุทูู ุฒูุงู ุฌูุงูุ ุงุฒ ูุชุฏ **FindSystemTimeZoneById** ุงุณุชูุงุฏู ูโฺฉูู. ุฏุฑ ุงูุฌุง ุจู ููุทูู ุบุฑุจ ุงุณุชุฑุงูุง ูโุฑูู:

```csharp
TimeZoneInfo wa = TimeZoneInfo.FindSystemTimeZoneById
                  ("W. Australia Standard Time");
Console.WriteLine (wa.Id);                   // W. Australia Standard Time
Console.WriteLine (wa.DisplayName);          // (GMT+08:00) Perth
Console.WriteLine (wa.BaseUtcOffset);        // 08:00:00
Console.WriteLine (wa.SupportsDaylightSavingTime);     // True
```

ูฺฺฏ **Id** ููุงู ููุฏุงุฑ ุงุณุช ฺฉู ุจู **FindSystemTimeZoneById** ูพุงุณ ุฏุงุฏู ุดุฏู ุงุณุช.
ูุชุฏ ุงุณุชุง **GetSystemTimeZones** ุชูุงู ููุงุทู ุฒูุงู ุฌูุงู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ู ูโุชูุงู ุชูุงู ุดูุงุณูโูุง ูุนุชุจุฑ ุฑุง ูุณุช ฺฉุฑุฏ:

```csharp
foreach (TimeZoneInfo z in TimeZoneInfo.GetSystemTimeZones())
    Console.WriteLine (z.Id);
```

ูโุชูุงู ฺฉ ููุทูู ุฒูุงู ุณูุงุฑุด ุงุฌุงุฏ ฺฉุฑุฏ ุจุง **TimeZoneInfo.CreateCustomTimeZone**.
ฺูู **TimeZoneInfo** ุบุฑูุงุจู ุชุบุฑ ุงุณุชุ ููู ุงุทูุงุนุงุช ูุงุฒู ุจุงุฏ ููฺฏุงู ุงุฌุงุฏ ุจู ูุชุฏ ุฏุงุฏู ุดููุฏ.

ููฺูู ูโุชูุงู ฺฉ ููุทูู ุฒูุงู ุงุฒ ูพุด ุชุนุฑูโุดุฏู ุง ุณูุงุฑุด ุฑุง ุจุง **ToSerializedString** ุจู ุฑุดุชูโุง ูููโูุงุจูโุฎูุงูุฏู ุจุฑุง ุงูุณุงู ุชุจุฏู ฺฉุฑุฏ ู ุจุง **TimeZoneInfo.FromSerializedString** ุฏูุจุงุฑู ุจุงุฒุงุจ ูููุฏ.

---

ูุชุฏ ุงุณุชุง **ConvertTime** ฺฉ **DateTime** ุง **DateTimeOffset** ุฑุง ุงุฒ ฺฉ ููุทูู ุฒูุงู ุจู ููุทููโุง ุฏฺฏุฑ ุชุจุฏู ูโฺฉูุฏ. ูโุชูุงู ุชููุง ููุทูู ููุตุฏ ุฑุง ูุดุฎุต ฺฉุฑุฏ ุง ูุฑ ุฏู ููุทูู ูุจุฏุฃ ู ููุตุฏ ุฑุง ูุงุฑุฏ ูููุฏ. ุชุจุฏู ูุณุชูู ุงุฒ/ุจู UTC ูุฒ ุจุง ูุชุฏูุง **ConvertTimeFromUtc** ู **ConvertTimeToUtc** ููฺฉู ุงุณุช.

---

ุจุฑุง ฺฉุงุฑ ุจุง **Daylight Saving Time**ุ **TimeZoneInfo** ูุชุฏูุง ุงุถุงู ุฒุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ:

* **IsInvalidTime**: true ุจุฑูโฺฏุฑุฏุงูุฏ ุงฺฏุฑ ฺฉ **DateTime** ุฏุฑ ุณุงุนุช ุจุงุดุฏ ฺฉู ุฏุฑ ุฌูู ุจุฑุฏู ุณุงุนุชโูุง ุญุฐู ุดุฏู ุงุณุช.
* **IsAmbiguousTime**: true ุจุฑูโฺฏุฑุฏุงูุฏ ุงฺฏุฑ ฺฉ **DateTime** ุง **DateTimeOffset** ุฏุฑ ุณุงุนุช ุจุงุดุฏ ฺฉู ุฏุฑ ุนูุจ ุจุฑุฏู ุณุงุนุชโูุง ุชฺฉุฑุงุฑ ุดุฏู ุงุณุช.
* **GetAmbiguousTimeOffsets**: ุขุฑุงูโุง ุงุฒ **TimeSpan** ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุงูุชุฎุงุจโูุง ูุนุชุจุฑ ุงูุณุช ุจุฑุง ฺฉ ุฒูุงู ูุจูู ุฑุง ูุดุงู ูโุฏูุฏ.

---

ุจุฑุง ฺฏุฑูุชู ุชุงุฑุฎโูุง ุดุฑูุน ู ูพุงุงู **Daylight Saving Time** ุงุฒ ฺฉ **TimeZoneInfo**ุ ุจุงุฏ **GetAdjustmentRules** ุฑุง ุตุฏุง ุฒุฏ ฺฉู ุฎูุงุตู ููุงูู DST ุฑุง ุจุฑุง ููู ุณุงูโูุง ุจุฑูโฺฏุฑุฏุงูุฏ. ูุฑ ูุงููู ุฏุงุฑุง **DateStart** ู **DateEnd** ุงุณุช:

```csharp
foreach (TimeZoneInfo.AdjustmentRule rule in wa.GetAdjustmentRules())
    Console.WriteLine ("Rule: applies from " + rule.DateStart +
                                        " to " + rule.DateEnd);
```

ูุซุงู: ุบุฑุจ ุงุณุชุฑุงูุง ุงููู ุจุงุฑ **Daylight Saving Time** ุฑุง ุฏุฑ ฒฐฐถ ูุนุฑู ฺฉุฑุฏ ู ุณูพุณ ุฏุฑ ฒฐฐน ูุบู ูููุฏ. ุณุงู ุงูู ูุงุฒ ุจู ูุงููู ูฺู ุฏุงุดุชุ ุจูุงุจุฑุงู ุฏู ูุงููู ุฏุงุฑู:

```
Rule: applies from 1/01/2006 12:00:00 AM to 31/12/2006 12:00:00 AM
Rule: applies from 1/01/2007 12:00:00 AM to 31/12/2009 12:00:00 AM
```

ูุฑ **AdjustmentRule** ุฏุงุฑุง **DaylightDelta** ุงุฒ ููุน **TimeSpan** (ูุนูููุงู ฺฉ ุณุงุนุช) ู ูฺฺฏโูุง **DaylightTransitionStart** ู **DaylightTransitionEnd** ุงุณุช ฺฉู ุงุฒ ููุน **TimeZoneInfo.TransitionTime** ุจูุฏู ู ูฺฺฏโูุง ุฒุฑ ุฑุง ุฏุงุฑูุฏ:

```csharp
public bool IsFixedDateRule { get; }
public DayOfWeek DayOfWeek { get; }
public int Week { get; }
public int Day { get; }
public int Month { get; }
public DateTime TimeOfDay { get; }
```

---

ุฒูุงู ุงูุชูุงู (TransitionTime) ูโุชูุงูุฏ ูู ุชุงุฑุฎ ุซุงุจุช ู ูู ุดูุงูุฑ ุฑุง ูุดุงู ุฏูุฏ. ูุซุงู ุชุงุฑุฎ ุดูุงูุฑ: ยซุขุฎุฑู ฺฉโุดูุจู ูุงู ูุงุฑุณยป.
ููุงูู ุชูุณุฑ TransitionTime:

1๏ธโฃ ุงฺฏุฑ ุจุฑุง **End Transition**ุ **IsFixedDateRule=true**ุ **Day=1**ุ **Month=1** ู **TimeOfDay=DateTime.MinValue**ุ ุขู ุณุงู ูพุงุงู DST ูุฌูุฏ ูุฏุงุฑุฏ (ูุนูููุงู ุฏุฑ ููโฺฉุฑู ุฌููุจ).
2๏ธโฃ ุงฺฏุฑ **IsFixedDateRule=true**ุ **Month**ุ **Day** ู **TimeOfDay** ุชุนูโฺฉููุฏู ุดุฑูุน ุง ูพุงุงู ูุงููู ูุณุชูุฏ.
3๏ธโฃ ุงฺฏุฑ **IsFixedDateRule=false**ุ **Month**ุ **DayOfWeek**ุ **Week** ู **TimeOfDay** ุชุนูโฺฉููุฏู ุดุฑูุน ุง ูพุงุงู ูุงููู ูุณุชูุฏ.

ุฏุฑ ุญุงูุช ุขุฎุฑุ **Week** ุดูุงุฑู ููุชู ูุงู ุงุณุช ู ยซตยป ุนู ุขุฎุฑู ููุชู.

---

ูุซุงู ููุงูู ุงูุชูุงู **wa**:

```csharp
foreach (TimeZoneInfo.AdjustmentRule rule in wa.GetAdjustmentRules())
{
    Console.WriteLine ("Rule: applies from " + rule.DateStart +
                                        " to " + rule.DateEnd);
    Console.WriteLine ("   Delta: " + rule.DaylightDelta);
    Console.WriteLine ("   Start: " + FormatTransitionTime
                                   (rule.DaylightTransitionStart, false));
    Console.WriteLine ("   End:   " + FormatTransitionTime
                                   (rule.DaylightTransitionEnd, true));
    Console.WriteLine();
}
```

ุฏุฑ **FormatTransitionTime** ููุงูู ููู ุฑุนุงุช ูโุดููุฏ:

```csharp
static string FormatTransitionTime (TimeZoneInfo.TransitionTime tt,
                                    bool endTime)
{
    if (endTime && tt.IsFixedDateRule
                && tt.Day == 1 && tt.Month == 1
                && tt.TimeOfDay == DateTime.MinValue)
        return "-";
    string s;
    if (tt.IsFixedDateRule)
        s = tt.Day.ToString();
    else
        s = "The " +
            "first second third fourth last".Split()[tt.Week - 1] +
            " " + tt.DayOfWeek + " in";
    return s + " " + DateTimeFormatInfo.CurrentInfo.MonthNames [tt.Month-1]
             + " at " + tt.TimeOfDay.TimeOfDay;
}
```

### Daylight Saving Time ู DateTime ๐๐

ุงฺฏุฑ ุงุฒ **DateTimeOffset** ุง ฺฉ **UTC DateTime** ุงุณุชูุงุฏู ฺฉูุฏุ ููุงุณู ุจุฑุงุจุฑ ุชุญุช ุชุฃุซุฑ **Daylight Saving Time** ูุฑุงุฑ ููโฺฏุฑุฏ. ุงูุง ุจุง **DateTime**ูุง ูุญูุ **DST** ูโุชูุงูุฏ ูุดฺฉูโุณุงุฒ ุจุงุดุฏ.

ูโุชูุงู ููุงูู ุฑุง ุจูโุทูุฑ ุฎูุงุตู ุจู ุงู ุตูุฑุช ุจุงู ฺฉุฑุฏ:

* **Daylight Saving** ููุท ุจุฑ ุฒูุงู ูุญู ุชุฃุซุฑ ูโฺฏุฐุงุฑุฏุ ูู ุจุฑ ุฒูุงู UTC.
* ููุช ุณุงุนุชโูุง ุนูุจ ฺฉุดุฏู ูโุดููุฏุ ููุงุณูโูุง ฺฉู ุจู ุญุฑฺฉุช ุฒูุงู ุฑู ุจู ุฌูู ูุงุจุณุชูโุงูุฏุ ุฎุฑุงุจ ูโุดููุฏ **ููุท ุงฺฏุฑ** ุงุฒ **DateTime** ูุญู ุงุณุชูุงุฏู ฺฉููุฏ.
* ููุดู ูโุชูุงู ุจูโุตูุฑุช ูุงุจู ุงุนุชูุงุฏ ุจู ุฒูุงู UTC ู ูุญู ุฑูุช ู ุจุฑฺฏุดุช ฺฉุฑุฏ (ุฑู ููุงู ฺฉุงููพูุชุฑ) ุญุช ููุช ุณุงุนุชโูุง ุนูุจ ูโุฑููุฏ.

ูุชุฏ **IsDaylightSavingTime** ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฉ **DateTime** ูุญู ุชุญุช **DST** ูุฑุงุฑ ุฏุงุฑุฏ ุง ูู. ุฒูุงูโูุง UTC ููุดู false ุจุฑูโฺฏุฑุฏุงููุฏ:

```csharp
Console.Write (DateTime.Now.IsDaylightSavingTime());     // True ุง False
Console.Write (DateTime.UtcNow.IsDaylightSavingTime());  // ููุดู False
```

ุงฺฏุฑ **dto** ฺฉ **DateTimeOffset** ุจุงุดุฏุ ุนุจุงุฑุช ุฒุฑ ููุงู ุนููฺฉุฑุฏ ุฑุง ุฏุงุฑุฏ:

```csharp
dto.LocalDateTime.IsDaylightSavingTime
```

ูพุงุงู **Daylight Saving Time** ุจุฑุง ุงูฺฏูุฑุชูโูุง ฺฉู ุงุฒ ุฒูุงู ูุญู ุงุณุชูุงุฏู ูโฺฉููุฏุ ูพฺุฏฺฏ ุงุฌุงุฏ ูโฺฉูุฏุ ุฒุฑุง ููุช ุณุงุนุชโูุง ุนูุจ ฺฉุดุฏู ูโุดููุฏุ ููุงู ุณุงุนุช (ุง ุฏููโุชุฑุ **Delta**) ุฏูุจุงุฑู ุชฺฉุฑุงุฑ ูโุดูุฏ.

ููุงุณู ูุทูุฆู ุจู ูุฑ ุฏู **DateTime** ุจุง ุตุฏุง ุฒุฏู **ToUniversalTime** ุฑู ูุฑฺฉุฏุงู ุงูุฌุงู ูโุดูุฏ. ุงู ุฑูุด ุชููุง ุฏุฑ ุตูุฑุช ุดฺฉุณุช ูโุฎูุฑุฏ ฺฉู **ฺฉ ุงุฒ ุขูโูุง DateTimeKind.Unspecified** ุจุงุดุฏ.
ุงู ุงุญุชูุงู ุฎุทุง ุฏูู ุฏฺฏุฑ ุจุฑุง ุชุฑุฌุญ ุฏุงุฏู **DateTimeOffset** ุงุณุช.

---

### Formatting ู Parsing ๐

**Formatting** ุนู ุชุจุฏู ุจู ุฑุดุชูุ **Parsing** ุนู ุชุจุฏู ุงุฒ ุฑุดุชู.
ูุงุฒ ุจู **format** ุง **parse** ุฏุฑ ุจุฑูุงููโููุณ ุจุณุงุฑ ุฑุงุฌ ุงุณุชุ ู .NET ูฺฉุงูุฒูโูุง ูุชุนุฏุฏ ุจุฑุง ุขู ุงุฑุงุฆู ูโุฏูุฏ:

1๏ธโฃ **ToString ู Parse**
ุงู ูุชุฏูุง ุนููฺฉุฑุฏ ูพุดโูุฑุถ ุฑุง ุจุฑุง ุจุณุงุฑ ุงุฒ ุงููุงุน ูุฑุงูู ูโฺฉููุฏ.

2๏ธโฃ **Format Providers**
ุงูโูุง ุจู ุดฺฉู ูุชุฏูุง ุงุถุงู **ToString** ู **Parse** ุธุงูุฑ ูโุดููุฏ ู ุฑุดุชู ูุฑูุช ู/ุง ฺฉ **format provider** ูโฺฏุฑูุฏ. **Format Providers** ุจุณุงุฑ ููุนุทู ู ุขฺฏุงู ุจู ูุฑููฺฏ (culture-aware) ูุณุชูุฏ. .NET ุดุงูู **format provider** ุจุฑุง ุงููุงุน ุนุฏุฏ ู **DateTime/DateTimeOffset** ุงุณุช.

3๏ธโฃ **XmlConvert**
ฺฉ ฺฉูุงุณ ุงุณุชุง ฺฉู ูุฑูุช ู ูพุงุฑุณ ฺฉุฑุฏู ุฑุง ุจุง ุฑุนุงุช ุงุณุชุงูุฏุงุฑุฏูุง XML ุงูุฌุงู ูโุฏูุฏ. ููฺูู ุจุฑุง ุชุจุฏู ูุณุชูู ุงุฒ ูุฑููฺฏ ุง ุฌููฺฏุฑ ุงุฒ ุงุดุชุจุงู ุฏุฑ ูพุงุฑุณ ฺฉุฑุฏู ููุฏ ุงุณุช. ุงุฒ ุงููุงุน ุนุฏุฏุ **bool**ุ **DateTime**, **DateTimeOffset**, **TimeSpan** ู **Guid** ูพุดุชุจุงู ูโฺฉูุฏ.

4๏ธโฃ **Type Converters**
ุงูโูุง ูุฎุตูุต ุทุฑุงุญุงู ู **XAML parsers** ูุณุชูุฏ.

ุฏุฑ ุงู ุจุฎุดุ ูุง ุฑู ุฏู ูฺฉุงูุฒู ุงูู ุชูุฑฺฉุฒ ูโฺฉููุ ูุฎุตูุตุงู **Format Providers**ุ ุณูพุณ **XmlConvert** ู **Type Converters** ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.

---

### ToString ู Parse ๐

ุณุงุฏูโุชุฑู ูฺฉุงูุฒู ูุฑูุชูฺฏ **ูุชุฏ ToString** ุงุณุช. ุงู ูุชุฏ ุฎุฑูุฌ ูุนูุงุฏุงุฑ ุจุฑุง ุงููุงุน ุณุงุฏู (bool, DateTime, DateTimeOffset, TimeSpan, Guid ู ุงููุงุน ุนุฏุฏ) ุงุฑุงุฆู ูโุฏูุฏ.
ุจุฑุง ุนููุงุช ูุนฺฉูุณุ ูุฑฺฉุฏุงู ุงุฒ ุงู ุงููุงุน ูุชุฏ **Parse** ุงุณุชุง ุฏุงุฑูุฏ:

```csharp
string s = true.ToString();     // s = "True"
bool b = bool.Parse(s);         // b = true
```

ุงฺฏุฑ ูพุงุฑุณ ฺฉุฑุฏู ุดฺฉุณุช ุจุฎูุฑุฏุ **FormatException** ูพุฑุชุงุจ ูโุดูุฏ.
ุจุณุงุฑ ุงุฒ ุงููุงุน ููฺูู ูุชุฏ **TryParse** ุฏุงุฑูุฏ ฺฉู ุงฺฏุฑ ุชุจุฏู ุดฺฉุณุช ุจุฎูุฑุฏุ false ุจุฑูโฺฏุฑุฏุงูุฏ ุจูโุฌุง ูพุฑุชุงุจ ุงุณุชุซูุง:

```csharp
bool failure = int.TryParse("qwerty", out int i1);
bool success = int.TryParse("123", out int i2);
```

ุงฺฏุฑ ุจู ุฎุฑูุฌ ูุงุฒ ูุฏุงุฑุฏ ู ููุท ูโุฎูุงูุฏ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูพุงุฑุณ ูููู ูโุดูุฏ ุง ููุ ูโุชูุงูุฏ ุงุฒ **discard** ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
bool success = int.TryParse("123", out int _);
```

ุงฺฏุฑ ุงูุชุธุงุฑ ุฎุทุง ุฏุงุฑุฏุ **TryParse** ุณุฑุนโุชุฑ ู ุดฺฉโุชุฑ ุงุฒ ุงุณุชูุงุฏู ุงุฒ **Parse** ุฏุฑ ุจููฺฉ **try/catch** ุงุณุช.

---

### ูุฑููฺฏ ู Parse/ToString ๐

ูุชุฏูุง **Parse** ู **TryParse** ุจุฑุง **DateTime(Offset)** ู ุงููุงุน ุนุฏุฏ ุจู ุชูุธูุงุช ูุฑููฺฏ ูุญู ุงุญุชุฑุงู ูโฺฏุฐุงุฑูุฏ.
ูโุชูุงู ุจุง ูุดุฎุต ฺฉุฑุฏู ฺฉ ุดุก **CultureInfo** ุงู ุฑูุชุงุฑ ุฑุง ุชุบุฑ ุฏุงุฏ. ุงุณุชูุงุฏู ุงุฒ **InvariantCulture** ูุนูููุงู ุงุฏู ุฎูุจ ุงุณุช:

```csharp
Console.WriteLine(double.Parse("1.234"));  // 1234 ุฏุฑ ุขููุงู
double x = double.Parse("1.234", CultureInfo.InvariantCulture);
string y = 1.234.ToString(CultureInfo.InvariantCulture);
```

ุงุฒ .NET 8 ุจู ุจุนุฏุ ุงููุงุน ุนุฏุฏ ู ุชุงุฑุฎ/ุฒูุงู ุงูฺฉุงู ูุฑูุชูฺฏ ู ูพุงุฑุณ ูุณุชูู **UTF-8** ุฑุง ุฏุงุฑูุฏ ุจุง ูุชุฏูุง **TryFormat** ู **Parse/TryParse** ฺฉู ุฑู **byte array ุง Span<byte>** ฺฉุงุฑ ูโฺฉููุฏ. ุงู ุฏุฑ ุณูุงุฑููุง ุจุง ุนููฺฉุฑุฏ ุจุงูุง ูโุชูุงูุฏ ฺฉุงุฑุขูุฏุชุฑ ุงุฒ ฺฉุงุฑ ุจุง ุฑุดุชูโูุง UTF-16 ู ุชุจุฏู ุฌุฏุงฺฏุงูู ุจุงุดุฏ.

---

### Format Providers ู IFormattable ๐๏ธ

ฺฏุงู ูุงุฒ ุฏุงุฑุฏ ฺฉูุชุฑู ุจุดุชุฑ ุฑู ูุฑูุชูฺฏ ู ูพุงุฑุณ ุฏุงุดุชู ุจุงุดุฏ.
ุฏุฑ .NETุ ููู ุงููุงุน ุนุฏุฏ ู **DateTime(Offset)** ุงูุชุฑูุณ **IFormattable** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ:

```csharp
public interface IFormattable
{
    string ToString(string format, IFormatProvider formatProvider);
}
```

* ูพุงุฑุงูุชุฑ ุงูู: ุฑุดุชู ูุฑูุช
* ูพุงุฑุงูุชุฑ ุฏูู: **Format Provider**

ูุซุงู:

```csharp
NumberFormatInfo f = new NumberFormatInfo();
f.CurrencySymbol = "$$";
Console.WriteLine(3.ToString("C", f));  // $$ 3.00
```

ุงูุฌุง `"C"` ุฑุดุชู ูุฑูุช ุจุฑุง **Currency** ุงุณุช ู **NumberFormatInfo** ูุดุฎุต ูโฺฉูุฏ ฺฉู ูพูู ู ุณุงุฑ ููุงุดโูุง ุนุฏุฏ ฺฺฏููู ุฑูุฏุฑ ุดููุฏ.

---

ุงฺฏุฑ ุฑุดุชู ูุฑูุช ุง **provider** ุจุฑุงุจุฑ null ุจุงุดุฏุ ฺฉ ููุฏุงุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ูโุดูุฏ: **CultureInfo.CurrentCulture**ุ ฺฉู ุชูุธูุงุช ฺฉูุชุฑู ูพูู ุณุณุชู ุฑุง ููุนฺฉุณ ูโฺฉูุฏ:

```csharp
Console.WriteLine(10.3.ToString("C"));  // $10.30
Console.WriteLine(10.3.ToString("F4")); // 10.3000
```

---

### ุณู Format Provider ุงุตู

* **NumberFormatInfo**
* **DateTimeFormatInfo**
* **CultureInfo**

ุชูุงู Enumูุง ูุฒ ูุงุจู ูุฑูุช ูุณุชูุฏุ ฺฏุฑฺู ฺฉูุงุณ ูฺู **IFormatProvider** ูุฏุงุฑูุฏ.

---

### CultureInfo ู Format Providers ๐

**CultureInfo** ูุงูุฌ ุจุฑุง **NumberFormatInfo** ู **DateTimeFormatInfo** ุงุณุชุ ฺฉู ุชูุธูุงุช ููุทููโุง ูุฑููฺฏ ุฑุง ุงุนูุงู ูโฺฉููุฏ:

```csharp
CultureInfo uk = CultureInfo.GetCultureInfo("en-GB");
Console.WriteLine(3.ToString("C", uk));  // ยฃ3.00
```

ูุฑูุช ุชุงุฑุฎ ุจุง **InvariantCulture** ููุดู ฺฉุณุงู ุงุณุชุ ุตุฑูโูุธุฑ ุงุฒ ุชูุธูุงุช ุณุณุชู:

```csharp
DateTime dt = new DateTime(2000, 1, 2);
CultureInfo iv = CultureInfo.InvariantCulture;
Console.WriteLine(dt.ToString(iv));      // 01/02/2000 00:00:00
Console.WriteLine(dt.ToString("d", iv)); // 01/02/2000
```

ูฺฺฏโูุง **InvariantCulture**:

* ููุงุฏ ุงุฑุฒ โผ ุจู ุฌุง \$
* ุชุงุฑุฎ ู ุฒูุงู ุจุง ุตูุฑ ูพุดโุฑู (ูุงู ุงูู)
* ุฒูุงู ุจุง ูุฑูุช ฒด ุณุงุนุชู ุจุฏูู AM/PM

### ุงุณุชูุงุฏู ุงุฒ NumberFormatInfo ุง DateTimeFormatInfo ๐ข๐

ุฏุฑ ูุซุงู ุจุนุฏุ ฺฉ **NumberFormatInfo** ุงุฌุงุฏ ูโฺฉูู ู ุฌุฏุงฺฉููุฏู ฺฏุฑูู (Group Separator) ุฑุง ุงุฒ ูุฑฺฏูู ุจู ูุงุตูู ุชุบุฑ ูโุฏูู. ุณูพุณ ุงุฒ ุขู ุจุฑุง ูุฑูุช ฺฉุฑุฏู ฺฉ ุนุฏุฏ ุจุง ุณู ุฑูู ุงุนุดุงุฑ ุงุณุชูุงุฏู ูโฺฉูู:

```csharp
NumberFormatInfo f = new NumberFormatInfo();
f.NumberGroupSeparator = " ";
Console.WriteLine(12345.6789.ToString("N3", f));  // 12 345.679
```

ุชูุธูุงุช ุงููู ุจุฑุง **NumberFormatInfo** ุง **DateTimeFormatInfo** ุจุฑ ุงุณุงุณ **InvariantCulture** ูุณุชูุฏ.
ฺฏุงู ุงููุงุช ููุฏุชุฑ ุงุณุช ฺฉู ููุทู ุดุฑูุน ูุชูุงูุช ุงูุชุฎุงุจ ฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑ ูโุชูุงูุฏ ฺฉ **Format Provider** ููุฌูุฏ ุฑุง **Clone** ฺฉูุฏ:

```csharp
NumberFormatInfo f = (NumberFormatInfo)
                     CultureInfo.CurrentCulture.NumberFormat.Clone();
```

ฺฉ **Format Provider** ฺฉูููโุดุฏู ููุดู ูุงุจู ููุดุชู ุงุณุชุ ุญุช ุงฺฏุฑ ููููู ุงุตู ููุท ุฎูุงูุฏู ุจุงุดุฏ.

---

### ูุฑูุช ุชุฑฺฉุจ (Composite Formatting) ๐งฉ

ุฑุดุชูโูุง ูุฑูุช ุชุฑฺฉุจ ุงุฌุงุฒู ูโุฏููุฏ ุฌุงฺฏุฒู ูุชุบุฑูุง ุจุง ุฑุดุชู ูุฑูุช ุฑุง ุชุฑฺฉุจ ฺฉูุฏ.
ูุชุฏ ุงุณุชุงุชฺฉ **string.Format** ฺฉ ุฑุดุชู ูุฑูุช ุชุฑฺฉุจ ูโฺฏุฑุฏ:

```csharp
string composite = "Credit={0:C}";
Console.WriteLine(string.Format(composite, 500));  // Credit=$500.00
```

ุฎูุฏ ฺฉูุงุณ **Console** ูุชุฏูุง **Write** ู **WriteLine** ุฑุง ุจุฑุง ูพุดุชุจุงู ุงุฒ ูุฑูุช ุชุฑฺฉุจ ุงูุฑููุฏ ฺฉุฑุฏู ุงุณุช:

```csharp
Console.WriteLine("Credit={0:C}", 500);  // Credit=$500.00
```

ูโุชูุงูุฏ ุฑุดุชู ูุฑูุช ุชุฑฺฉุจ ุฑุง ุจู **StringBuilder** (ุจุง **AppendFormat**) ุง ุจู ฺฉ **TextWriter** ุจุฑุง I/O ุงุถุงูู ฺฉูุฏ.

**string.Format** ูโุชูุงูุฏ ฺฉ **Format Provider** ุงุฎุชุงุฑ ูู ุจฺฏุฑุฏ. ูุซุงู:

```csharp
string s = string.Format(CultureInfo.InvariantCulture, "{0}", someObject);
```

ุงู ูุนุงุฏู ุงุณุช ุจุง:

```csharp
string s;
if (someObject is IFormattable)
    s = ((IFormattable)someObject).ToString(null, CultureInfo.InvariantCulture);
else if (someObject == null)
    s = "";
else
    s = someObject.ToString();
```

---

### ูพุงุฑุณ ฺฉุฑุฏู ุจุง Format Providers ๐ง

ูฺ ุงูุชุฑูุณ ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ูพุงุฑุณ ฺฉุฑุฏู ุงุฒ ุทุฑู **Format Provider** ูุฌูุฏ ูุฏุงุฑุฏ.
ุฏุฑ ุนูุถุ ูุฑ ููุน ุดุฑฺฉุชโฺฉููุฏูุ ูุชุฏ ุงุณุชุงุชฺฉ **Parse** ู **TryParse** ุฎูุฏ ุฑุง ุงูุฑููุฏ ฺฉุฑุฏู ุชุง **Format Provider** ุฑุง ุจูพุฐุฑุฏ ู ุจู ุตูุฑุช ุงุฎุชุงุฑ **NumberStyles** ุง **DateTimeStyles** ุฑุง ูู ุฏุฑุงูุช ฺฉูุฏ.

**NumberStyles** ู **DateTimeStyles** ฺฉูุชุฑู ูโฺฉููุฏ ฺฉู ูพุงุฑุณ ฺฉุฑุฏู ฺฺฏููู ุงูุฌุงู ุดูุฏุ ูุงููุฏ ุงูฺฉู ุขุง ูพุฑุงูุชุฒ ุง ููุงุฏ ุงุฑุฒ ูโุชูุงูุฏ ุฏุฑ ูุฑูุฏ ุจุงุดุฏ ุง ูู. (ุจูโุทูุฑ ูพุดโูุฑุถุ ูุฑ ุฏู ฺฏุฒูู ูพุงุณุฎ **ูู** ูุณุชูุฏ.)

ูุซุงู:

```csharp
int error = int.Parse("(2)");  // Exception ูพุฑุชุงุจ ูโุดูุฏ
int minusTwo = int.Parse("(2)", NumberStyles.Integer | NumberStyles.AllowParentheses);  // OK
decimal fivePointTwo = decimal.Parse("ยฃ5.20", NumberStyles.Currency,
                                      CultureInfo.GetCultureInfo("en-GB"));
```

ุจุฎุด ุจุนุฏ ุชูุงู ุงุนุถุง **NumberStyles** ู **DateTimeStyles** ู ููุงูู ูพุดโูุฑุถ ูพุงุฑุณ ูุฑ ููุน ุฑุง ููุฑุณุช ูโฺฉูุฏ.

---

### IFormatProvider ู ICustomFormatter ๐๏ธ

ุชูุงู **Format Providers** ุงูุชุฑูุณ **IFormatProvider** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ:

```csharp
public interface IFormatProvider 
{ 
    object GetFormat(Type formatType); 
}
```

ูุฏู ุงู ูุชุฏ ุงุฌุงุฏ **indirection** ุงุณุชุ ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุงุฌุงุฒู ูโุฏูุฏ **CultureInfo** ุจู **NumberFormatInfo** ุง **DateTimeFormatInfo** ููุงุณุจ ุงุฑุฌุงุน ุฏูุฏ.

ุจุง ูพุงุฏูโุณุงุฒ **IFormatProvider** ู **ICustomFormatter**ุ ูโุชูุงูุฏ **Format Provider** ุณูุงุฑุด ุฎูุฏ ุฑุง ุจุณุงุฒุฏ ฺฉู ุจุง ุงููุงุน ููุฌูุฏ ฺฉุงุฑ ฺฉูุฏ.

**ICustomFormatter** ฺฉ ูุชุฏ ุฏุงุฑุฏ:

```csharp
string Format(string format, object arg, IFormatProvider formatProvider);
```

ูุซุงู ฺฉ **Format Provider** ุณูุงุฑุด ฺฉู ุงุนุฏุงุฏ ุฑุง ุจู ฺฉููุงุช ุชุจุฏู ูโฺฉูุฏ:

```csharp
public class WordyFormatProvider : IFormatProvider, ICustomFormatter
{
    static readonly string[] _numberWords = "zero one two three four five six seven eight nine minus point".Split();
    IFormatProvider _parent;   // ุงูฺฉุงู ุฒูุฌุฑู ุณุงุฒ Format Providerูุง

    public WordyFormatProvider() : this(CultureInfo.CurrentCulture) { }
    public WordyFormatProvider(IFormatProvider parent) => _parent = parent;

    public object GetFormat(Type formatType)
    {
        if (formatType == typeof(ICustomFormatter)) return this;
        return null;
    }

    public string Format(string format, object arg, IFormatProvider prov)
    {
        // ุงฺฏุฑ ุฑุดุชู ูุฑูุช ูุง ูุจูุฏุ ุจู parent ูุงฺฏุฐุงุฑ ฺฉู:
        if (arg == null || format != "W")
            return string.Format(_parent, "{0:" + format + "}", arg);

        StringBuilder result = new StringBuilder();
        string digitList = string.Format(CultureInfo.InvariantCulture, "{0}", arg);

        foreach (char digit in digitList)
        {
            int i = "0123456789-.".IndexOf(digit, StringComparison.InvariantCulture);
            if (i == -1) continue;
            if (result.Length > 0) result.Append(' ');
            result.Append(_numberWords[i]);
        }

        return result.ToString();
    }
}
```

ูฺฉุชู: ุฏุฑ ูุชุฏ **Format** ุงุฒ **string.Format** ุจุง **InvariantCulture** ุจุฑุง ุชุจุฏู ุนุฏุฏ ุจู ุฑุดุชู ุงุณุชูุงุฏู ุดุฏ. ุงู ุงุทููุงู ูโุฏูุฏ ฺฉู ููุท ฺฉุงุฑุงฺฉุชุฑูุง `0123456789-.` ุงุณุชูุงุฏู ุดููุฏ ู ูู ูุณุฎูโูุง ุจูโุงูููู.

ูุซุงู ุงุณุชูุงุฏู ุงุฒ **WordyFormatProvider**:

```csharp
double n = -123.45;
IFormatProvider fp = new WordyFormatProvider();
Console.WriteLine(string.Format(fp, "{0:C} in words is {0:W}", n));
// -$123.45 in words is minus one two three point four five
```

ุชูุฌู: **Custom Format Providers** ุชููุง ุฏุฑ **Composite Format Strings** ูุงุจู ุงุณุชูุงุฏู ูุณุชูุฏ.

### ุฑุดุชูโูุง ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ ู ูพุฑฺูโูุง ูพุงุฑุณ ๐ข๐

ุฑุดุชูโูุง ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ ุชุนู ูโฺฉููุฏ ฺฉู ฺฉ ููุน ุนุฏุฏ ุง **DateTime/DateTimeOffset** ฺฺฏููู ุจู ุฑุดุชู ุชุจุฏู ุดูุฏ. ุฏู ููุน ุฑุดุชู ูุฑูุช ูุฌูุฏ ุฏุงุฑุฏ:

---

#### ุฑุดุชูโูุง ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ โ

ุจุง ุงู ุฑุดุชูโูุงุ ุฑุงูููุง ฺฉู ุงุฑุงุฆู ูโุฏูุฏ.
ฺฉ ุฑุดุชู ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ ุงุฒ ฺฉ ุญุฑู ุชุดฺฉู ุดุฏู ู ุจูโุทูุฑ ุงุฎุชุงุฑ ูโุชูุงูุฏ ฺฉ ุฑูู ุจุนุฏ ุงุฒ ุขู ุฏุงุดุชู ุจุงุดุฏ (ฺฉู ูุนู ุขู ุจุณุชฺฏ ุจู ุญุฑู ุฏุงุฑุฏ).
ูุซุงูโูุง: `"C"` ุง `"F2"`

---

#### ุฑุดุชูโูุง ูุฑูุช ุณูุงุฑุด ๐จ

ุจุง ุงู ุฑุดุชูโูุงุ ูโุชูุงูุฏ ูุฑ ฺฉุงุฑุงฺฉุชุฑ ุฑุง ุจุง ูุงูุจ ูุดุฎุต ูุฏุฑุช ฺฉูุฏ.
ูุซุงู: `"0:#.000E+00"`

ุชูุฌู: ุฑุดุชูโูุง ูุฑูุช ุณูุงุฑุด ุจุง **Format Provider**ูุง ุณูุงุฑุด ุงุฑุชุจุงุท ูุฏุงุฑูุฏ.

---

### ุฑุดุชูโูุง ูุฑูุช ุนุฏุฏ ๐งฎ

ุฌุฏูู 6-2 ุชูุงู ุฑุดุชูโูุง ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ ุนุฏุฏ ุฑุง ููุฑุณุช ูโฺฉูุฏ.
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-3.jpeg)
</div>

### ุงุฑุงุฆู ูฺฉุฑุฏู ุฑุดุชู ูุฑูุช ุนุฏุฏ ๐ขโ

ุงฺฏุฑ ูฺ ุฑุดุชู ูุฑูุช ุนุฏุฏ ุงุฑุงุฆู ูุฏูุฏ (ุง ุฑุดุชู `null` ุง ุฎุงู ุจุงุดุฏ)ุ ูุนุงุฏู ุงุณุชูุงุฏู ุงุฒ ุฑุดุชู ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ `"G"` ุจุฏูู ุฑูู ุจุนุฏ ุงุณุช. ุงู ุฑูุชุงุฑ ุจู ุดุฑุญ ุฒุฑ ุงุณุช:

* ุงุนุฏุงุฏ ฺฉูฺฺฉุชุฑ ุงุฒ $10^{-4}$ ุง ุจุฒุฑฺฏโุชุฑ ุงุฒ ุฏูุช ููุนุ ุจู **ููุง ุนูู (Exponential/Scientific)** ุชุจุฏู ูโุดููุฏ.
* ุฏู ุฑูู ุงุนุดุงุฑ ุฏุฑ ุญุฏ ุฏูุช `float` ุง `double` ฺฏุฑุฏ ูโุดููุฏ ุชุง ูุงูพูุณุชฺฏโูุง ุฐุงุช ุชุจุฏู ุงุฒ ุดฺฉู ุจุงูุฑ ุจู ุฏูโุฏู ูพููุงู ุจูุงูุฏ.

ฺฏุฑุฏ ฺฉุฑุฏู ุฎูุฏฺฉุงุฑ ุชูุถุญ ุฏุงุฏูโุดุฏู ูุนูููุงู ููุฏ ุงุณุช ู ูุนูููุงู ูุชูุฌู ุขู ููโุดูู. ุจุง ุงู ุญุงูุ ููฺฉู ุงุณุช ูุดฺฉูุงุช ุงุฌุงุฏ ฺฉูุฏ ุงฺฏุฑ ุจุฎูุงูุฏ ฺฉ ุนุฏุฏ ุฑุง **round-trip** ฺฉูุฏุ ุนู ุขู ุฑุง ุจู ุฑุดุชู ุชุจุฏู ฺฉุฑุฏู ู ุฏูุจุงุฑู ุจุงุฒฺฏุฑุฏุงูุฏ (ุดุงุฏ ฺูุฏ ุจุงุฑ) ุจุฏูู ุขูโฺฉู ุจุฑุงุจุฑ ููุฏุงุฑ ุงุฒ ุจู ุจุฑูุฏ.

ุจุฑุง ููู ููุธูุฑุ ุฑุดุชูโูุง ูุฑูุช **Rุ G17ุ ู G9** ูุฌูุฏ ุฏุงุฑูุฏ ุชุง ุงุฒ ฺฏุฑุฏ ฺฉุฑุฏู ุถูู ุฌููฺฏุฑ ฺฉููุฏ.

ุฌุฏูู 6-3ุ ุฑุดุชูโูุง ูุฑูุช ุนุฏุฏ ุณูุงุฑุด ุฑุง ููุฑุณุช ูโฺฉูุฏ.
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-4.jpeg)
</div>

### NumberStyles ๐ข

ูุฑ ููุน ุนุฏุฏ (`numeric type`) ฺฉ ูุชุฏ `Parse` ุงุณุชุง (static) ุชุนุฑู ูโฺฉูุฏ ฺฉู ฺฉ ุขุฑฺฏููุงู `NumberStyles` ูโูพุฐุฑุฏ. `NumberStyles` ฺฉ **enum ุจุง ูุงุจูุช flags** ุงุณุช ฺฉู ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ูุดุฎุต ฺฉูุฏ ุฑุดุชู ฺฺฏููู ุจู ุนุฏุฏ ุชุจุฏู ุดูุฏ. ุงุนุถุง ูุงุจู ุชุฑฺฉุจ ุขู ุนุจุงุฑุชโุงูุฏ ุงุฒ:

* `AllowLeadingWhite`
* `AllowTrailingWhite`
* `AllowLeadingSign`
* `AllowTrailingSign`
* `AllowParentheses`
* `AllowDecimalPoint`
* `AllowThousands`
* `AllowExponent`
* `AllowCurrencySymbol`
* `AllowHexSpecifier`

ุนูุงูู ุจุฑ ุงูุ `NumberStyles` ุงุนุถุง ูุฑฺฉุจ ุฒุฑ ุฑุง ูุฒ ุชุนุฑู ูโฺฉูุฏ:

* `None`
* `Integer`
* `Float`
* `Number`
* `HexNumber`
* `Currency`
* `Any`

ุจู ุฌุฒ `None`ุ ููู ููุงุฏุฑ ูุฑฺฉุจ ุดุงูู `AllowLeadingWhite` ู `AllowTrailingWhite` ูุณุชูุฏ. ุดฺฉู 6-1 ุชุฑฺฉุจ ุจุงูโูุงูุฏู ุขูโูุง ุฑุง ูุดุงู ูโุฏูุฏุ ฺฉู ุณู ููุฑุฏ ููุฏุชุฑุ ุจุฑุฌุณุชู ุดุฏูโุงูุฏ.
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-5.jpeg)
</div>

ููุช ฺฉู ูุชุฏ **Parse** ุฑุง ุจุฏูู ูุดุฎุต ฺฉุฑุฏู ูฺ ูพุฑฺู (flag) ูุฑุงุฎูุงู ูโฺฉูุฏุ ููุงุฏุฑ ูพุดโูุฑุถ ูุดุงู ุฏุงุฏูโุดุฏู ุฏุฑ **ุดฺฉู ถ-ฒ** ุงุนูุงู ูโุดููุฏ. ๐น
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-6.jpeg)
</div>

ุงฺฏุฑ ููโุฎูุงูุฏ ุงุฒ ููุงุฏุฑ ูพุดโูุฑุถ ูุดุงู ุฏุงุฏูโุดุฏู ุฏุฑ **ุดฺฉู ถ-ฒ** ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ุตุฑุญุงู **NumberStyles** ุฑุง ูุดุฎุต ฺฉูุฏ:

```csharp
int thousand = int.Parse("3E8", NumberStyles.HexNumber);
int minusTwo = int.Parse("(2)", NumberStyles.Integer | NumberStyles.AllowParentheses);
double aMillion = double.Parse("1,000,000", NumberStyles.Any);
decimal threeMillion = decimal.Parse("3e6", NumberStyles.Any);
decimal fivePointTwo = decimal.Parse("$5.20", NumberStyles.Currency);
```

ฺูู ูุง **format provider** ูุดุฎุต ูฺฉุฑุฏูุ ุงู ูุซุงู ุจุง ููุงุฏ ูพูู ูุญูุ ุฌุฏุงฺฉููุฏู ฺฏุฑูู (group separator)ุ ููุทู ุงุนุดุงุฑ ู ุบุฑู ุฏุฑ ุณุณุชู ุดูุง ฺฉุงุฑ ูโฺฉูุฏ.

ูุซุงู ุจุนุฏ ุจู ุตูุฑุช ุณุฎุชโฺฉุฏ ุดุฏู (hardcoded) ุงุณุช ุชุง ุจุง ุนูุงูุช ูุฑู ู ฺฉ ูุงุตูู ุจู ุนููุงู ุฌุฏุงฺฉููุฏู ฺฏุฑูู ุจุฑุง ุงุฑุฒูุง ฺฉุงุฑ ฺฉูุฏ:

```csharp
NumberFormatInfo ni = new NumberFormatInfo();
ni.CurrencySymbol = "โฌ";
ni.CurrencyGroupSeparator = " ";
double million = double.Parse("โฌ1 000 000", NumberStyles.Currency, ni);
```

### ุฑุดุชูโูุง ูุงูุจโุจูุฏ ุชุงุฑุฎ/ุฒูุงู ๐

ุฑุดุชูโูุง ูุงูุจโุจูุฏ ุจุฑุง **DateTime/DateTimeOffset** ุฑุง ูโุชูุงู ุจุฑ ุงุณุงุณ ุงูฺฉู ุชูุธูุงุช ูุฑููฺฏ (**culture**) ู **format provider** ุฑุง ุฑุนุงุช ูโฺฉููุฏ ุง ุฎุฑ ุจู ุฏู ฺฏุฑูู ุชูุณู ฺฉุฑุฏ. ุฌุฏูู ถ-ด ุขูโูุง ุฑุง ฺฉู ุฑุนุงุช ูโฺฉููุฏ ูุดุงู ูโุฏูุฏ ู ุฌุฏูู ถ-ต ุขูโูุง ุฑุง ฺฉู ุฑุนุงุช ููโฺฉููุฏ. ุฎุฑูุฌ ููููู ุงุฒ ูุงูุจโุจูุฏ **DateTime** ุฒุฑ ุจู ุฏุณุช ุขูุฏู ุงุณุช (ุจุง ูุฑููฺฏ ุซุงุจุช **InvariantCulture** ุฏุฑ ููุฑุฏ ุฌุฏูู ถ-ด):

```csharp
new DateTime(2000, 1, 2, 17, 18, 19);
```

<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-7.jpeg)
</div>

<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-8.jpeg)
</div>

ุฑุดุชูโูุง ูุงูุจโุจูุฏ `"r"`, `"R"` ู `"u"` ูพุณููุฏ ุชููุฏ ูโฺฉููุฏ ฺฉู **UTC** ุฑุง ูุดุงู ูโุฏูุฏุ ุงูุง ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ฺฉ **DateTime ูุญู** ุฑุง ุจู UTC ุชุจุฏู ููโฺฉููุฏุ ุจูุงุจุฑุงู ุดูุง ุฎูุฏุชุงู ุจุงุฏ ุชุจุฏู ุฑุง ุงูุฌุงู ุฏูุฏ. ุฌุงูุจ ุงูุฌุงุณุช ฺฉู `"U"` ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุจู UTC ุชุจุฏู ูโุดูุฏุ ุงูุง ูพุณููุฏ ููุทูู ุฒูุงู ุฑุง ููโููุณุฏ! ุฏุฑ ูุงูุนุ `"o"` ุชููุง ูุดุฎุตู ูุงูุจ ุฏุฑ ุงู ฺฏุฑูู ุงุณุช ฺฉู ูโุชูุงูุฏ ฺฉ **DateTime ุจุฏูู ุงุจูุงู** ุฑุง ุจุฏูู ุฏุฎุงูุช ฺฉุงุฑุจุฑ ููุงุด ุฏูุฏ.

**DateTimeFormatInfo** ููฺูู ุงุฒ ุฑุดุชูโูุง ูุงูุจโุจูุฏ ุณูุงุฑุด ูพุดุชุจุงู ูโฺฉูุฏ: ุงูโูุง ูุดุงุจู ุฑุดุชูโูุง ูุงูุจโุจูุฏ ุณูุงุฑุด ุนุฏุฏ ูุณุชูุฏ. ููุฑุณุช ฺฉุงูู ุขูโูุง ฺฏุณุชุฑุฏู ุงุณุช ู ุฏุฑ ูุณุชูุฏุงุช ูุงฺฉุฑูุณุงูุช ุขููุงู ููุฌูุฏ ุงุณุช. ฺฉ ูุซุงู ุงุฒ ุฑุดุชู ูุงูุจโุจูุฏ ุณูุงุฑุด:

```
yyyy-MM-dd HH:mm:ss
```

### ุชุฌุฒู ู ุงุดุชุจุงู ุฏุฑ ุชุฌุฒู DateTime ๐

ุฑุดุชูโูุง ฺฉู ูุงู ุง ุฑูุฒ ุฑุง ุงุจุชุฏุง ูโฺฏุฐุงุฑูุฏุ **ุงุจูุงูโุขูุฒ** ูุณุชูุฏ ู ูโุชูุงููุฏ ุจูโุฑุงุญุช ุงุดุชุจุงู ุชุฌุฒู ุดููุฏโุจูโูฺู ุงฺฏุฑ ูุดุชุฑุงู ุฌูุงู ุฏุงุดุชู ุจุงุดุฏ. ุงู ูุดฺฉู ุฏุฑ ฺฉูุชุฑูโูุง ุฑุงุจุท ฺฉุงุฑุจุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ุฒุฑุง ููุงู ุชูุธูุงุช ููฺฏุงู ุชุฌุฒู ู ูุงูุจโุจูุฏ ุงุนูุงู ูโุดููุฏ.

ุงูุง ููฺฏุงู ููุดุชู ุฏุฑ ฺฉ ูุงูุ ูุซูุงูุ **ุงุดุชุจุงู ุฏุฑ ุชุดุฎุต ุฑูุฒ/ูุงู** ูโุชูุงูุฏ ูุดฺฉูโุณุงุฒ ุดูุฏ. ุฏู ุฑุงูโุญู ูุฌูุฏ ุฏุงุฑุฏ:

* ููุดู **ูุฑููฺฏ ูุดุฎุต ู ฺฉุณุงู** ุฑุง ููฺฏุงู ูุงูุจโุจูุฏ ู ุชุฌุฒู ูุดุฎุต ฺฉูุฏ (ูุซูุงู **InvariantCulture**).
* **DateTime ู DateTimeOffset ุฑุง ุจูโฺฏูููโุง ูุงูุจโุจูุฏ ฺฉูุฏ ฺฉู ูุณุชูู ุงุฒ ูุฑููฺฏ ุจุงุดุฏ.**

ุฑูุด ุฏูู ููุงููโุชุฑ ุงุณุชโุจูโูฺู ุงฺฏุฑ ูุงูุจ ุงูุชุฎุงุจ ฺฉูุฏ ฺฉู ุณุงู ฺูุงุฑุฑูู ุฑุง ุงุจุชุฏุง ูุฑุงุฑ ุฏูุฏุ ฺูู ุฑุดุชูโูุง ุจุฑุง ุชุฌุฒู ุงุดุชุจุงู ุชูุณุท ุทุฑู ุฏฺฏุฑ ุณุฎุชโุชุฑ ูุณุชูุฏ. ุนูุงูู ุจุฑ ุงูุ ุฑุดุชูโูุง ฺฉู ุจุง ูุงูุจ ุณุงูโุงูู ุงุณุชุงูุฏุงุฑุฏ (ูุงููุฏ `"o"`) ูุงูุจโุจูุฏ ุดุฏูโุงูุฏุ ูโุชูุงููุฏ ุจูโุฏุฑุณุช ุฏุฑ ฺฉูุงุฑ ุฑุดุชูโูุง ูุงูุจโุจูุฏโุดุฏู ูุญู ุชุฌุฒู ุดููุฏโูุงููุฏ ฺฉ ยซุฏููุฏู ุฌูุงูยป. (ุชุงุฑุฎโูุง ฺฉู ุจุง `"s"` ุง `"u"` ูุงูุจโุจูุฏ ุดุฏูโุงูุฏุ ูุฒุช ุงุถุงููโุง ูู ุฏุงุฑูุฏ: ูุงุจูุช ูุฑุชุจโุณุงุฒ.)

ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ฺฉ ุฑุดุชู **DateTime** ูุณุชูู ุงุฒ ูุฑููฺฏ ุชููุฏ ูโฺฉูู:

```csharp
string s = DateTime.Now.ToString("o");
```

ุฑุดุชู ูุงูุจ `"o"` ููโุซุงููโูุง ุฑุง ุฏุฑ ุฎุฑูุฌ ุดุงูู ูโฺฉูุฏ.

ุฑุดุชู ูุงูุจ ุณูุงุฑุด ุฒุฑ ููุงู ุฎุฑูุฌ `"o"` ุฑุง ุจุฏูู ููโุซุงูู ูโุฏูุฏ:

```
yyyy-MM-ddTHH:mm:ss K
```

ูุง ูโุชูุงูู ุงู ุฑุดุชู ุฑุง ุจู ุฏู ุฑูุด ุชุฌุฒู ฺฉูู:

* **ParseExact** ูุงุฒ ุจู ุฑุนุงุช ุฏูู ุฑุดุชู ูุงูุจ ูุดุฎุต ุดุฏู ุฏุงุฑุฏ:

```csharp
DateTime dt1 = DateTime.ParseExact(s, "o", null);
```

(ูโุชูุงูุฏ ูุชุฌู ูุดุงุจู ุจุง ูุชุฏูุง `XmlConvert.ToString` ู `XmlConvert.ToDateTime` ุจู ุฏุณุช ุขูุฑุฏ.)

* **Parse** ุจูโุทูุฑ ุถูู ูู ูุงูุจ `"o"` ู ูู ูุงูุจ **CurrentCulture** ุฑุง ูโูพุฐุฑุฏ:

```csharp
DateTime dt2 = DateTime.Parse(s);
```

ุงู ุฑูุด ูู ุจุฑุง **DateTime** ู ูู **DateTimeOffset** ฺฉุงุฑ ูโฺฉูุฏ.

ุงุณุชูุงุฏู ุงุฒ **ParseExact** ูุนูููุงู ุชุฑุฌุญ ุฏุงุฏู ูโุดูุฏ ุงฺฏุฑ ูุงูุจ ุฑุดุชูโุง ฺฉู ุชุฌุฒู ูโฺฉูุฏ ุฑุง ูโุฏุงูุฏุ ุฒุฑุง ุงฺฏุฑ ุฑุดุชู ุจูโุฏุฑุณุช ูุงูุจโุจูุฏ ูุดุฏู ุจุงุดุฏุ **ฺฉ ุงุณุชุซูุงุก** ูพุฑุชุงุจ ูโุดูุฏโฺฉู ูุนูููุงู ุจูุชุฑ ุงุฒ ุฑุณฺฉ ุชุฌุฒู ุงุดุชุจุงู ุชุงุฑุฎ ุงุณุช.

---

### DateTimeStyles โ๏ธ

**DateTimeStyles** ฺฉ **flags enum** ุงุณุช ฺฉู ุฏุณุชูุฑุงูุนููโูุง ุงุถุงู ููฺฏุงู ูุฑุงุฎูุงู `Parse` ุฑู **DateTime(Offset)** ุงุฑุงุฆู ูโุฏูุฏ. ุงุนุถุง ุขู ุนุจุงุฑุชูุฏ ุงุฒ:

```
None, AllowLeadingWhite, AllowTrailingWhite, AllowInnerWhite,
AssumeLocal, AssumeUniversal, AdjustToUniversal,
NoCurrentDateDefault, RoundTripKind
```

ููฺูู ฺฉ ุนุถู ุชุฑฺฉุจ ุจู ูุงู **AllowWhiteSpaces** ูุฌูุฏ ุฏุงุฑุฏ:

```
AllowWhiteSpaces = AllowLeadingWhite | AllowTrailingWhite | AllowInnerWhite
```

ููุฏุงุฑ ูพุดโูุฑุถ **None** ุงุณุชุ ุจู ุงู ูุนู ฺฉู ูุถุง ุฎุงู ุงุถุงู ูุนูููุงู ูุฌุงุฒ ูุณุช (ูุถุง ุฎุงู ฺฉู ุจุฎุด ุงุฒ ุงูฺฏู ุงุณุชุงูุฏุงุฑุฏ DateTime ุงุณุชุ ูุณุชุซู ุงุณุช).

* **AssumeLocal** ู **AssumeUniversal** ุฒูุงู ุงุนูุงู ูโุดููุฏ ฺฉู ุฑุดุชู ุฏุงุฑุง ูพุณููุฏ ููุทูู ุฒูุงู ูุจุงุดุฏ (ูุงููุฏ `Z` ุง `+9:00`).
* **AdjustToUniversal** ููฺูุงู ุจู ูพุณููุฏูุง ููุทูู ุฒูุงู ุงุญุชุฑุงู ูโฺฏุฐุงุฑุฏุ ุงูุง ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุธูุงุช ููุทููโุง ูุนูุ ุขู ุฑุง ุจู UTC ุชุจุฏู ูโฺฉูุฏ.

ุงฺฏุฑ ุฑุดุชูโุง ุดุงูู ุฒูุงู ุงูุง ุจุฏูู ุชุงุฑุฎ ุจุงุดุฏุ ุจูโุทูุฑ ูพุดโูุฑุถ **ุชุงุฑุฎ ุงูุฑูุฒ** ุงุนูุงู ูโุดูุฏ. ุงฺฏุฑ ูพุฑฺู **NoCurrentDateDefault** ุฑุง ุงุนูุงู ฺฉูุฏุ ุจู ุฌุง ุขู ุงุฒ **1 ฺุงููู 0001** ุงุณุชูุงุฏู ูโุดูุฏ.

---

### ุฑุดุชูโูุง ูุงูุจโุจูุฏ Enum ๐ข

ุฏุฑ ุจุฎุด ยซEnumsยป ุฏุฑ ุตูุญู ฑตดุ ูุงูุจโุจูุฏ ู ุชุฌุฒู ููุงุฏุฑ enum ุฑุง ุชูุถุญ ุฏุงุฏู.
ุฌุฏูู ถ-ถ ูุฑ ุฑุดุชู ูุงูุจโุจูุฏ ู ูุชุฌู ุงุนูุงู ุขู ุฑู ุนุจุงุฑุช ุฒุฑ ุฑุง ูุดุงู ูโุฏูุฏ:

```csharp
Console.WriteLine(System.ConsoleColor.Red.ToString(formatString));
```

<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-9.jpeg)
</div>

### ูฺฉุงูุฒูโูุง ุฏฺฏุฑ ุชุจุฏู ๐

ุฏุฑ ุฏู ุจุฎุด ูุจูุ **ูุฑูุช ูพุฑูุงุฏุฑูุง** ุฑุง ุจุฑุฑุณ ฺฉุฑุฏูโูฺฉุงูุฒู ุงุตู .NET ุจุฑุง ูุงูุจโุจูุฏ ู ุชุฌุฒู. ุณุงุฑ ูฺฉุงูุฒูโูุง ููู ุชุจุฏู ุฏุฑ ุงููุงุน ู ูุถุง ูุงูโูุง ูุฎุชูู ูพุฑุงฺฉูุฏูโุงูุฏ. ุจุฑุฎ ุชุจุฏู ุจู/ุงุฒ ุฑุดุชู ุงูุฌุงู ูโุฏููุฏ ู ุจุฑุฎ ุงููุงุน ุฏฺฏุฑ ุงุฒ ุชุจุฏูโูุง ุฑุง ุงุฑุงุฆู ูโฺฉููุฏ. ุฏุฑ ุงู ุจุฎุดุ ููุถูุนุงุช ุฒุฑ ุฑุง ุจุฑุฑุณ ูโฺฉูู:

* **ฺฉูุงุณ Convert ู ุชูุงุจุน ุขู**:

  * ุชุจุฏู ุงุนุฏุงุฏ ุญูู ุจู ุงุนุฏุงุฏ ุตุญุญ ุจุง **ฺฏุฑุฏ ฺฉุฑุฏู** ุจู ุฌุง ูุทุน ฺฉุฑุฏู
  * ุชุฌุฒู ุงุนุฏุงุฏ ุฏุฑ ูุจูุงูุง ฒุ ธ ู ฑถ
  * ุชุจุฏูโูุง ุฏุงูุงูฺฉ
  * ุชุฑุฌููโูุง **Base-64**

* **XmlConvert** ู ููุด ุขู ุฏุฑ ูุงูุจโุจูุฏ ู ุชุฌุฒู ุจุฑุง XML

* **Type converters** ู ููุด ุขูโูุง ุฏุฑ ูุงูุจโุจูุฏ ู ุชุฌุฒู ุจุฑุง ุทุฑุงุญุงู ู XAML

* **BitConverter** ุจุฑุง ุชุจุฏูโูุง ุจุงูุฑ

---

### Convert โก

.NET ุงููุงุน ุฒุฑ ุฑุง **base types** ูโูุงูุฏ:

* `bool`, `char`, `string`, `System.DateTime`, ู `System.DateTimeOffset`
* ููู ุงููุงุน ุนุฏุฏ C#

ฺฉูุงุณ **static Convert** ูุชุฏูุง ุจุฑุง ุชุจุฏู ูุฑ **base type** ุจู ูุฑ **base type** ุฏฺฏุฑ ุงุฑุงุฆู ูโุฏูุฏ. ูุชุฃุณูุงูู ุจุดุชุฑ ุงู ูุชุฏูุง ฺฉุงุฑุจุฑุฏ ูุณุชูุฏ: ุง **ุงุณุชุซูุงุก ูพุฑุชุงุจ ูโฺฉููุฏ** ุง ุฏุฑ ฺฉูุงุฑ **ฺฉุณุชโูุง ุถูู** ุงุถุงู ูุณุชูุฏ. ุจุง ุงู ุญุงูุ ุฏุฑ ุจู ุงู ูุชุฏูุงุ ุจุฑุฎ ูุชุฏูุง ููุฏ ูุฒ ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุฏุฑ ุจุฎุดโูุง ุจุนุฏ ุขูุฑุฏู ุดุฏูโุงูุฏ.

ุชูุงู **base types** ุจูโุทูุฑ ุตุฑุญ **IConvertible** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ ฺฉู ูุชุฏูุง ุจุฑุง ุชุจุฏู ุจู ุชูุงู **base type**ูุง ุฏฺฏุฑ ุชุนุฑู ูโฺฉูุฏ. ุฏุฑ ุจุดุชุฑ ููุงุฑุฏุ ูพุงุฏูโุณุงุฒ ุงู ูุชุฏูุง ุตุฑูุงู ฺฉ ูุชุฏ ุฏุฑ **Convert** ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ. ุฏุฑ ููุงุฑุฏ ูุงุฏุฑุ ููุดุชู ูุชุฏ ฺฉู ฺฉ ุขุฑฺฏููุงู ุงุฒ ููุน **IConvertible** ุจูพุฐุฑุฏุ ููุฏ ุงุณุช.

---

### ุชุจุฏู ุงุนุฏุงุฏ ุญูู ุจู ุตุญุญ ุจุง ฺฏุฑุฏ ฺฉุฑุฏู ๐ข

ุฏุฑ ูุตู ฒ ุฏุฏู ฺฉู **ฺฉุณุชโูุง ุถูู ู ุตุฑุญ** ุงุฌุงุฒู ูโุฏููุฏ ุจู ุงููุงุน ุนุฏุฏ ุชุจุฏู ุงูุฌุงู ุฏูุฏ:

* ฺฉุณุชโูุง **ุถูู** ุจุฑุง ุชุจุฏูโูุง ุจุฏูู ุงูุช ฺฉุงุฑ ูโฺฉููุฏ (ูุซูุงู `int` ุจู `double`).
* ฺฉุณุชโูุง **ุตุฑุญ** ุจุฑุง ุชุจุฏูโูุง ุจุง ุงูุช ูุงุฒู ูุณุชูุฏ (ูุซูุงู `double` ุจู `int`).

ฺฉุณุชโูุง ุจุฑุง ฺฉุงุฑุง ุจููู ุดุฏูโุงูุฏุ ุจูุงุจุฑุงู ุฏุงุฏูโูุง ฺฉู ุฌุง ููโุดููุฏุ **ูุทุน ูโุดููุฏ**. ุงู ูุดฺฉู ููฺฏุงู ุชุจุฏู ุงุฒ ุนุฏุฏ ุญูู ุจู ุนุฏุฏ ุตุญุญ ูพุด ูโุขุฏุ ุฒุฑุง ูุนูููุงู ูโุฎูุงูุฏ **ฺฏุฑุฏ ฺฉูุฏ ูู ูุทุน ฺฉูุฏ**. ูุชุฏูุง ุชุจุฏู ุนุฏุฏ **Convert** ุงู ูุดฺฉู ุฑุง ุญู ูโฺฉููุฏโููุดู **ฺฏุฑุฏ ูโฺฉููุฏ**:

```csharp
double d = 3.9;
int i = Convert.ToInt32(d);    // i == 4
```

Convert ุงุฒ **Bankerโs Rounding** ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉู ููุงุฏุฑ ูุณุท ุฑุง ุจู ุนุฏุฏ ุตุญุญ ุฒูุฌ ูุฒุฏฺฉ ูโฺฉูุฏ (ุงู ุงุฒ ุงุฌุงุฏ **ุณูฺฏุฑ ูุซุจุช ุง ููู** ุฌููฺฏุฑ ูโฺฉูุฏ). ุงฺฏุฑ Bankerโs Rounding ูุดฺฉูโุณุงุฒ ุงุณุชุ ุงุจุชุฏุง ูโุชูุงูุฏ `Math.Round` ุฑุง ุฑู ุนุฏุฏ ุญูู ูุฑุงุฎูุงู ฺฉูุฏ ฺฉู ุขุฑฺฏููุงู ุจุฑุง ฺฉูุชุฑู ฺฏุฑุฏ ฺฉุฑุฏู ููุงุฏุฑ ูุณุท ุฏุงุฑุฏ.

---

### ุชุฌุฒู ุงุนุฏุงุฏ ุฏุฑ ูุจูุงูุง ฒุ ธ ู ฑถ ๐ข

ุฏุฑ ุจู ูุชุฏูุง `To(integral-type)`ุ **overloadูุง** ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุงุนุฏุงุฏ ุฑุง ุฏุฑ ูุจูุง ุฏฺฏุฑ ุชุฌุฒู ูโฺฉููุฏ:

```csharp
int thirty = Convert.ToInt32("1E", 16);    // ุชุฌุฒู ูฺฏุฒุงุฏุณูุงู
uint five  = Convert.ToUInt32("101", 2);   // ุชุฌุฒู ุจุงูุฑ
```

ุขุฑฺฏููุงู ุฏูู **ูุจูุง** ุฑุง ูุดุฎุต ูโฺฉูุฏ. ูโุชูุงูุฏ ูุฑ ูุจูุง ุจุงุดุฏโุชุง ุฒูุงู ฺฉู ฒุ ธุ ฑฐ ุง ฑถ ุจุงุดุฏ!

---

### ุชุจุฏูโูุง ุฏุงูุงูฺฉ โก

ฺฏุงู ูุงุฒ ุฏุงุฑุฏ ุงุฒ ฺฉ ููุน ุจู ููุน ุฏฺฏุฑ ุชุจุฏู ฺฉูุฏุ ุงูุง ุชุง ุฒูุงู ุงุฌุฑุง **ููุนโูุง ูุดุฎุต ูุณุชูุฏ**. ุจุฑุง ุงู ููุธูุฑุ ฺฉูุงุณ Convert ูุชุฏ `ChangeType` ุฑุง ุงุฑุงุฆู ูโุฏูุฏ:

```csharp
public static object ChangeType(object value, Type conversionType);
```

ููุน ููุจุน ู ููุตุฏ ุจุงุฏ ฺฉ ุงุฒ **base type**ูุง ุจุงุดุฏ. `ChangeType` ููฺูู ุขุฑฺฏููุงู ุงุฎุชุงุฑ `IFormatProvider` ุฑุง ูโูพุฐุฑุฏ. ูุซุงู:

```csharp
Type targetType = typeof(int);
object source = "42";
object result = Convert.ChangeType(source, targetType);

Console.WriteLine(result);             // 42
Console.WriteLine(result.GetType());   // System.Int32
```

ฺฉ ฺฉุงุฑุจุฑุฏ ููุฏ ุขูุ ููุดุชู ฺฉ **deserializer** ุงุณุช ฺฉู ุจุชูุงูุฏ ุจุง ฺูุฏ ููุน ูุฎุชูู ฺฉุงุฑ ฺฉูุฏ. ููฺูู ูโุชูุงูุฏ ูุฑ **enum** ุฑุง ุจู ููุน ุนุฏุฏ ูุชูุงุธุฑ ุฎูุฏ ุชุจุฏู ฺฉูุฏ. ูุญุฏูุฏุช `ChangeType` ุงู ุงุณุช ฺฉู ููโุชูุงูุฏ **ุฑุดุชู ูุงูุจ ุง ูพุฑฺู ุชุฌุฒู** ูุดุฎุต ฺฉูุฏ.

---

### ุชุจุฏู Base-64 ๐

ฺฏุงู ูุงุฒ ุงุณุช ุฏุงุฏู ุจุงูุฑ ูุงููุฏ ฺฉ **bitmap** ุฑุง ุฏุฑ ฺฉ ุณูุฏ ูุชู ูุงููุฏ **XML** ุง ุงูู ูุฑุงุฑ ุฏูุฏ. **Base-64** ุฑูุด ูุชุฏุงูู ุงุณุช ฺฉู ุฏุงุฏู ุจุงูุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ถด ฺฉุงุฑุงฺฉุชุฑ ุงุฒ ูุฌููุนู ASCII ุจู ุตูุฑุช ูุงุจู ุฎูุงูุฏู ุฑูุฒฺฏุฐุงุฑ ูโฺฉูุฏ.

* `Convert.ToBase64String` ฺฉ ุขุฑุงู ุจุงุช ุฑุง ุจู Base-64 ุชุจุฏู ูโฺฉูุฏ.
* `Convert.FromBase64String` ุนฺฉุณ ุขู ุฑุง ุงูุฌุงู ูโุฏูุฏ.

### XmlConvert ๐๏ธ

ุงฺฏุฑ ุจุง ุฏุงุฏูโูุง ุณุฑูฺฉุงุฑ ุฏุงุฑุฏ ฺฉู ููุจุน ุขูโูุง **XML** ุงุณุช ุง ูุฑุงุฑ ุงุณุช ุฏุฑ ฺฉ ูุงู XML ุฐุฎุฑู ุดููุฏุ ฺฉูุงุณ **XmlConvert** (ุฏุฑ ูุถุง ูุงู `System.Xml`) ููุงุณุจโุชุฑู ูุชุฏูุง ุฑุง ุจุฑุง ูุงูุจโุจูุฏ ู ุชุฌุฒู ูุฑุงูู ูโฺฉูุฏ. ูุชุฏูุง XmlConvert ุจุฏูู ูุงุฒ ุจู ุฑุดุชู ูุงูุจโุจูุฏ ุฎุงุตุ ุฌุฒุฆุงุช ูุฑูุช XML ุฑุง ูุฏุฑุช ูโฺฉููุฏ. ุจุฑุง ูุซุงูุ ููุฏุงุฑ `true` ุฏุฑ XML ุจู ุตูุฑุช `"true"` ุงุณุช ู ูู `"True"`. ฺฉุชุงุจุฎุงูู BCL ุฏุฑ .NET ุจู ุทูุฑ ฺฏุณุชุฑุฏู ุงุฒ XmlConvert ุงุณุชูุงุฏู ูโฺฉูุฏ.

XmlConvert ููฺูู ุจุฑุง **ุณุฑุงูโุณุงุฒ ูุณุชูู ุงุฒ ูุฑููฺฏ** ูุฒ ููุงุณุจ ุงุณุช. ูุชุฏูุง ูุงูุจโุจูุฏ ุฏุฑ XmlConvert ุจู ุตูุฑุช **overloaded ToString** ุงุฑุงุฆู ูโุดููุฏ ู ูุชุฏูุง ุชุฌุฒู ุจู ุดฺฉู `ToBoolean`, `ToDateTime` ู ุบุฑู ูุณุชูุฏ:

```csharp
string s = XmlConvert.ToString(true);         // s = "true"
bool isTrue = XmlConvert.ToBoolean(s);
```

ูุชุฏูุง ฺฉู ุจู/ุงุฒ DateTime ุชุจุฏู ูโฺฉููุฏุ ุขุฑฺฏููุงู ุจู ูุงู **XmlDateTimeSerializationMode** ูโูพุฐุฑูุฏ ฺฉู ฺฉ enum ุจุง ููุงุฏุฑ ุฒุฑ ุงุณุช:

* `Unspecified`

* `Local`

* `Utc`

* `RoundtripKind`

* `Local` ู `Utc` ููฺฏุงู ูุงูุจโุจูุฏุ ุชุจุฏู ุงูุฌุงู ูโุฏููุฏ (ุงฺฏุฑ DateTime ุฏุฑ ุขู ููุทูู ุฒูุงู ูุจุงุดุฏ) ู ููุทูู ุฒูุงู ุจู ุฑุดุชู ุงุถุงูู ูโุดูุฏ:

```
2010-02-22T14:08:30.9375           // Unspecified
2010-02-22T14:07:30.9375+09:00     // Local
2010-02-22T05:08:30.9375Z          // Utc
```

* `Unspecified` ูุฑฺฏููู ุงุทูุงุนุงุช ููุทูู ุฒูุงู ุฑุง ุงุฒ DateTime ุญุฐู ูโฺฉูุฏ.
* `RoundtripKind` ููุน DateTime ุฑุง ุญูุธ ูโฺฉูุฏ ุชุง ููฺฏุงู ุชุฌุฒู ูุฌุฏุฏุ DateTime ุฏููุงู ููุงู ุจุงุดุฏ ฺฉู ุจูุฏ.

---

### Type Converters ๐จ

**Type converters** ุจุฑุง ูุงูุจโุจูุฏ ู ุชุฌุฒู ุฏุฑ ูุญุทโูุง **design-time** ุทุฑุงุญ ุดุฏูโุงูุฏ. ุขูโูุง ููฺูู ููุงุฏุฑ ุฑุง ุฏุฑ ุงุณูุงุฏ **XAML** ุชุฌุฒู ูโฺฉููุฏโูุซูุงู ุฏุฑ **WPF**.

ุฏุฑ .NET ุจุด ุงุฒ ฑฐฐ ููุน ูุจุฏู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ููุงุฑุฏ ูุงููุฏ ุฑูฺฏโูุงุ ุชุตุงูุฑ ู URIs ุฑุง ูพูุดุด ูโุฏููุฏ. ุฏุฑ ููุงุจูุ ูุฑูุช ูพุฑูุงุฏุฑูุง ุชููุง ุจุฑุง ฺูุฏ ููุน ุณุงุฏู ุงุฑุฒุดููุฏ ูุณุชูุฏ.

Type converters ูุนูููุงู ุฑุดุชูโูุง ุฑุง ุจู ุฑูุดโูุง ูุฎุชูู ุจุฏูู ูุงุฒ ุจู ุฑุงูููุง ุชุฌุฒู ูโฺฉููุฏ. ุจุฑุง ูุซุงูุ ุฏุฑ ฺฉ ุจุฑูุงูู WPF ุฏุฑ Visual Studioุ ุงฺฏุฑ ุฑูฺฏ ูพุณโุฒููู ฺฉ ฺฉูุชุฑู ุฑุง ุจุง ููุดุชู `"Beige"` ุฏุฑ ูพูุฌุฑู ูฺฺฏโูุง ุชุนู ฺฉูุฏุ **TypeConverter** ููุน Color ุชุดุฎุต ูโุฏูุฏ ฺฉู ุดูุง ุจู ูุงู ุฑูฺฏ ุงุดุงุฑู ฺฉุฑุฏูโุงุฏ ูู ุฑุดุชู RGB ุง ุฑูฺฏ ุณุณุชู. ุงู ุงูุนุทุงูโูพุฐุฑ ฺฏุงู ฺฉุงุฑุจุฑุฏ Type converters ุฑุง ูุฑุงุชุฑ ุงุฒ ุทุฑุงุญุงู ู ุงุณูุงุฏ XAML ููุฏ ูโฺฉูุฏ.

ุชูุงู Type converters ุงุฒ ฺฉูุงุณ **TypeConverter** ุฏุฑ `System.ComponentModel` ูุดุชู ูโุดููุฏ. ุจุฑุง ุฏุฑุงูุช ฺฉ TypeConverterุ ุงุฒ ูุชุฏ `TypeDescriptor.GetConverter` ุงุณุชูุงุฏู ฺฉูุฏ. ูุซุงู ุจุฑุง ููุน Color:

```csharp
TypeConverter cc = TypeDescriptor.GetConverter(typeof(Color));
```

TypeConverter ูุชุฏูุง ูุงููุฏ `ConvertToString` ู `ConvertFromString` ุฏุงุฑุฏ:

```csharp
Color beige  = (Color) cc.ConvertFromString("Beige");
Color purple = (Color) cc.ConvertFromString("#800080");
Color window = (Color) cc.ConvertFromString("Window");
```

ุจู ุทูุฑ ูุฑุงุฑุฏุงุฏุ ูุงู Type converters ุจุง **Converter** ูพุงุงู ูโุงุจุฏ ู ูุนูููุงู ุฏุฑ ููุงู ูุถุง ูุงู ููุน ููุฑุฏ ูุธุฑ ูุฑุงุฑ ุฏุงุฑูุฏ. ูุฑ ููุน ุจุง **TypeConverterAttribute** ุจู ูุจุฏู ุฎูุฏ ูุชุตู ุงุณุช ุชุง ุทุฑุงุญุงู ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ูุจุฏูโูุง ุฑุง ุดูุงุณุง ฺฉููุฏ.

Type converters ููฺูู ูโุชูุงููุฏ ุฎุฏูุงุช design-time ุงุฑุงุฆู ุฏููุฏุ ูุงููุฏ ุงุฌุงุฏ ููุฑุณุช ููุงุฏุฑ ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ููููุง ฺฉุดู ุง ฺฉูฺฉ ุจู **ุณุฑุงูโุณุงุฒ ฺฉุฏ**.

---

### BitConverter ๐ข

ุจุดุชุฑ **base types** ุฑุง ูโุชูุงู ุจู ุขุฑุงู ุจุงุช ุชุจุฏู ฺฉุฑุฏ ุจุง ูุฑุงุฎูุงู:

```csharp
foreach (byte b in BitConverter.GetBytes(3.5))
    Console.Write(b + " ");   // 0 0 0 0 0 0 12 64
```

BitConverter ููฺูู ูุชุฏูุง ูุงููุฏ `ToDouble` ุจุฑุง ุชุจุฏู ุจุฑุนฺฉุณ ุงุฑุงุฆู ูโุฏูุฏ.

ุชูุฌู: ุงููุงุน `decimal` ู `DateTime(Offset)` ุชูุณุท BitConverter ูพุดุชุจุงู ููโุดููุฏุ ุงูุง ูโุชูุงูุฏ:

* **decimal** ุฑุง ุจุง `decimal.GetBits` ุจู ุขุฑุงู `int` ุชุจุฏู ฺฉูุฏ
* ุจุฑุง ุจุฑุนฺฉุณุ ุณุงุฒูุฏูโุง ุฏุฑ decimal ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุขุฑุงู `int` ูโูพุฐุฑุฏ
* ุจุฑุง DateTimeุ ูุชุฏ `ToBinary` ฺฉ `long` ุจุงุฒูโฺฏุฑุฏุงูุฏ (ฺฉู ูโุชูุงู ุจุง BitConverter ุงุณุชูุงุฏู ฺฉุฑุฏ). ูุชุฏ `DateTime.FromBinary` ุนฺฉุณ ุขู ุฑุง ุงูุฌุงู ูโุฏูุฏ.

---

### ุฌูุงูโุณุงุฒ ๐

ุจุฑุง ุจูโุงูููู ฺฉุฑุฏู ฺฉ ุจุฑูุงููุ ุฏู ุฌูุจู ูุฌูุฏ ุฏุงุฑุฏ: **Globalization** ู **Localization**.

* **Globalization** ุจู ุณู ฺฉุงุฑ ูุฑุชุจุท ุงุณุช (ุจู ุชุฑุชุจ ุงููุช):

  1. ุงุทููุงู ุงุฒ ุงูฺฉู ุจุฑูุงูู ุฏุฑ ูุฑููฺฏโูุง ุฏฺฏุฑ ุฎุฑุงุจ ููโุดูุฏ
  2. ุฑุนุงุช ููุงูู ูุงูุจโุจูุฏ ูุฑููฺฏ ูุญู (ูุซูุงู ููุงุด ุชุงุฑุฎ)
  3. ุทุฑุงุญ ุจุฑูุงูู ุจูโฺฏูููโุง ฺฉู ุฏุงุฏูโูุง ู ุฑุดุชูโูุง ุฎุงุต ูุฑููฺฏ ุงุฒ **satellite assemblies** ุฎูุงูุฏู ุดููุฏ

* **Localization** ุงูุฌุงู ฺฉุงุฑ ุณูู ุงุณุช ุจุง ููุดุชู **satellite assemblies** ุจุฑุง ูุฑููฺฏโูุง ูุดุฎุตุ ฺฉู ุจุนุฏ ุงุฒ ููุดุชู ุจุฑูุงูู ุงูฺฉุงูโูพุฐุฑ ุงุณุช.

.NET ุจุฑุง ฺฉุงุฑ ุฏูู ฺฉูฺฉ ูโฺฉูุฏ ู ุจู ุทูุฑ ูพุดโูุฑุถ ููุงูู ูุฑููฺฏ ูุญู ุฑุง ุงุนูุงู ูโฺฉูุฏ. ููุงูุทูุฑ ฺฉู ุฏุฏูุ ูุฑุงุฎูุงู `ToString` ุฑู DateTime ุง ุนุฏุฏุ ููุงูู ูุงูุจโุจูุฏ ูุญู ุฑุง ุฑุนุงุช ูโฺฉูุฏ. ุงูุง ุงู ูโุชูุงูุฏ ุจุงุนุซ ุดฺฉุณุช ุจุฑูุงูู ุดูุฏ ุงฺฏุฑ ุงูุชุธุงุฑ ุฏุงุดุชู ุจุงุดุฏ ุชุงุฑุฎ ุง ุงุนุฏุงุฏ ุทุจู ฺฉ ูุฑููฺฏ ูุฑุถ ูุงูุจโุจูุฏ ุดููุฏ. ุฑุงูโุญู:

* ุง **ฺฉ ูุฑููฺฏ ูุดุฎุต** (ูุซูุงู Invariant Culture) ููฺฏุงู ูุงูุจโุจูุฏ ู ุชุฌุฒู ุชุนู ฺฉูุฏ
* ุง ุงุฒ ุฑูุดโูุง **ูุณุชูู ุงุฒ ูุฑููฺฏ** ูุงููุฏ XmlConvert ู `ToString("o")` ุงุณุชูุงุฏู ฺฉูุฏ

**ฺฺฉโูุณุช ุฌูุงูโุณุงุฒ**:

* Unicode ู **Text Encodings** ุฑุง ุจุดูุงุณุฏ
* ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุชุฏูุง `ToUpper` ู `ToLower` ุฑู char ู string **ุญุณุงุณ ุจู ูุฑููฺฏ** ูุณุชูุฏุ ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ุญุณุงุณุช ูุณุชูู ุงุฒ ูุฑููฺฏุ ุงุฒ `ToUpperInvariant` ู `ToLowerInvariant` ุงุณุชูุงุฏู ฺฉูุฏ
* ุจุฑุง DateTime ู DateTimeOffsetุ ุงุฒ ูฺฉุงูุฒูโูุง ูุงูุจโุจูุฏ ู ุชุฌุฒู ูุณุชูู ุงุฒ ูุฑููฺฏ ุงุณุชูุงุฏู ฺฉูุฏ
* ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ููฺฏุงู ูุงูุจโุจูุฏ/ุชุฌุฒู ุงุนุฏุงุฏ ุง ุชุงุฑุฎโูุง ฺฉ ูุฑููฺฏ ูุดุฎุต ฺฉูุฏ (ูฺฏุฑ ุงูฺฉู ุฑูุชุงุฑ ูุฑููฺฏ ูุญู ูุฏ ูุธุฑ ุจุงุดุฏ)

### ุชุณุช ฺฉุฑุฏู ๐งช

ูโุชูุงูุฏ ุจุฑูุงูู ุฎูุฏ ุฑุง ุจุง ูุฑููฺฏโูุง ูุฎุชูู ุขุฒูุงุด ฺฉูุฏ ุจุง **ุชุนู ูุฌุฏุฏ ูฺฺฏ `CurrentCulture`** ุฏุฑ ฺฉูุงุณ **Thread** (`System.Threading`). ูุซุงู ุฒุฑ ูุฑููฺฏ ุฌุงุฑ ุฑุง ุจู ุชุฑฺฉู ุชุบุฑ ูโุฏูุฏ:

```csharp
Thread.CurrentThread.CurrentCulture = CultureInfo.GetCultureInfo("tr-TR");
```

ุชุฑฺฉู ฺฉ ููุฑุฏ ุขุฒูุงุด ูฺู ุงุณุช ุฒุฑุง:

* `"i".ToUpper() != "I"` ู `"I".ToLower() != "i"`
* ุชุงุฑุฎโูุง ุจู ุดฺฉู **ุฑูุฒ.ูุงู.ุณุงู** ูุงูุจโุจูุฏ ูโุดููุฏ (ููุทู ุจู ุนููุงู ุฌุฏุงฺฉููุฏู)
* ูุดุงูฺฏุฑ ุงุนุดุงุฑ ุจู ุฌุง ููุทูุ **ูุฑฺฏูู** ุงุณุช

ููฺูู ูโุชูุงูุฏ ุจุง ุชุบุฑ **ุชูุธูุงุช ูุงูุจโุจูุฏ ุงุนุฏุงุฏ ู ุชุงุฑุฎ** ุฏุฑ **ฺฉูุชุฑู ูพูู ููุฏูุฒ** ุขุฒูุงุด ฺฉูุฏุ ุงู ุชุบุฑุงุช ุฏุฑ ูุฑููฺฏ ูพุดโูุฑุถ (`CultureInfo.CurrentCulture`) ููุนฺฉุณ ูโุดููุฏ.

ูุชุฏ `CultureInfo.GetCultures()` ุขุฑุงูโุง ุงุฒ **ุชูุงู ูุฑููฺฏโูุง ููุฌูุฏ** ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ.

Thread ู CultureInfo ููฺูู ุงุฒ ูฺฺฏ **CurrentUICulture** ูพุดุชุจุงู ูโฺฉููุฏ ฺฉู ุจุดุชุฑ ุจุง **Localization** ูุฑุชุจุท ุงุณุช ู ุฏุฑ ูุตู ฑท ุจุฑุฑุณ ูโุดูุฏ.

---

### ฺฉุงุฑ ุจุง ุงุนุฏุงุฏ ๐ข

#### ุชุจุฏูโูุง

ูุง ุชุจุฏูโูุง ุนุฏุฏ ุฑุง ุฏุฑ ูุตูโูุง ู ุจุฎุดโูุง ูุจู ูพูุดุด ุฏุงุฏูุ **ุฌุฏูู ถ-ท** ุชูุงู ฺฏุฒููโูุง ุฑุง ุฎูุงุตู ูโฺฉูุฏ.
<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-10.jpeg)
</div>

### ฺฉูุงุณ Math โ

**ุฌุฏูู ถ-ธ** ุงุนุถุง ฺฉูุฏ ฺฉูุงุณ **static Math** ุฑุง ููุฑุณุช ูโฺฉูุฏ.

* ุชูุงุจุน ูุซูุซุงุช ุขุฑฺฏููุงูโูุง ุงุฒ ููุน **double** ูโูพุฐุฑูุฏ.
* ุณุงุฑ ูุชุฏูุงุ ูุงููุฏ **Max**ุ ุจุฑุง ุชูุงู ููุนโูุง ุนุฏุฏ **overload** ุดุฏูโุงูุฏ.
* ฺฉูุงุณ **Math** ููฺูู **ุซุงุจุชโูุง ุฑุงุถ** ุฒุฑ ุฑุง ุชุนุฑู ูโฺฉูุฏ:

  * **E** (ุนุฏุฏ ุงููุฑ)
  * **PI** (ฯ)

<div align="center">

![Conventions-UsedThis-Book](../../../assets/image/06/Table-6-11.jpeg)
</div>

### ุฑูุดโูุง ฺฏุฑุฏ ฺฉุฑุฏู ู ฺฉูุงุณโูุง ุนุฏุฏ ๐ข

* ูุชุฏ **Round** ุงูฺฉุงู ูุดุฎุต ฺฉุฑุฏู ุชุนุฏุงุฏ ุงุฑูุงู ุงุนุดุงุฑ ุจุฑุง ฺฏุฑุฏ ฺฉุฑุฏู ู ููฺูู ูุญููโ ูุฏุฑุช ููุงุฏุฑ ูุณุท (ฺฏุฑุฏ ฺฉุฑุฏู ุจู ุณูุช ุตูุฑ ุง **bankerโs rounding**) ุฑุง ูุฑุงูู ูโฺฉูุฏ.
* **Floor** ู **Ceiling** ุจู ูุฒุฏฺฉโุชุฑู ุนุฏุฏ ุตุญุญ ฺฏุฑุฏ ูโฺฉููุฏ: **Floor** ููุดู ูพุงู ูโุฑูุฏ ู **Ceiling** ููุดู ุจุงูุง ูโุฑูุฏโeven ุจุฑุง ุงุนุฏุงุฏ ููู.

---

### Max ู Min

* ุงู ูุชุฏูุง ุชููุง ุฏู ุขุฑฺฏููุงู ูโูพุฐุฑูุฏ.
* ุจุฑุง ุขุฑุงูโูุง ุง ุฏูุจุงููโูุง ุนุฏุฏุ ุงุฒ **extension method**ูุง **Max** ู **Min** ุฏุฑ **System.Linq.Enumerable** ุงุณุชูุงุฏู ฺฉูุฏ.

---

### BigInteger ๐งฎ

* ุณุงุฎุชุงุฑ **BigInteger** ฺฉ ููุน ุนุฏุฏ ุชุฎุตุต ุงุณุช ฺฉู ุฏุฑ ูุถุง ูุงู **System.Numerics** ูุฑุงุฑ ุฏุงุฑุฏ ู ุงูฺฉุงู ููุงุด ุงุนุฏุงุฏ ุตุญุญ ุจุณุงุฑ ุจุฒุฑฺฏ ุจุฏูู ุงุฒ ุฏุณุช ุฏุงุฏู ุฏูุช ุฑุง ูุฑุงูู ูโฺฉูุฏ.
* C# ุจู ุตูุฑุช ุจูู ุงุฒ **BigInteger** ูพุดุชุจุงู ููโฺฉูุฏุ ุจูุงุจุฑุงู ููโุชูุงู **literal**ูุง BigInteger ุฑุง ููุดุช. ุจุง ุงู ุญุงูุ ูโุชูุงู ุงุฒ ูุฑ ููุน ุตุญุญ ุฏฺฏุฑ ุจู ุตูุฑุช **implicit** ุจู BigInteger ุชุจุฏู ฺฉุฑุฏ:

```csharp
BigInteger twentyFive = 25;  // ุชุจุฏู ุถูู ุงุฒ integer
```

* ุจุฑุง ููุงุด ุนุฏุฏ ุจุฒุฑฺฏโุชุฑ ูุงููุฏ ฺฉ ฺฏูฺฏูู $10ยนโฐโฐ$ ูโุชูุงู ุงุฒ ูุชุฏูุง static ูุงููุฏ **Pow** ุงุณุชูุงุฏู ฺฉุฑุฏ:

```csharp
BigInteger googol = BigInteger.Pow(10, 100);
```

* ุง ุจุง **Parse** ฺฉ ุฑุดุชู:

```csharp
BigInteger googol = BigInteger.Parse("1".PadRight(101, '0'));
```

* ูุชุฏ **ToString()** ููู ุงุฑูุงู ุฑุง ฺุงูพ ูโฺฉูุฏ:

```csharp
Console.WriteLine(googol.ToString());
```

* ุชุจุฏูโูุง ููฺฉู ุงูุง ุจุง ุงุญุชูุงู ุงุฒ ุฏุณุช ุฏุงุฏู ุฏูุช ุจู BigInteger ู ุงููุงุน ุนุฏุฏ ุงุณุชุงูุฏุงุฑุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ **explicit cast** ุงูุฌุงู ูโุดูุฏ:

```csharp
double g2 = (double)googol;        // ุชุจุฏู ุตุฑุญ
BigInteger g3 = (BigInteger)g2;    // ุชุจุฏู ุตุฑุญ
```

* **BigInteger** ููู ุนููฺฏุฑูุง ุญุณุงุจ ุงุฒ ุฌููู ุจุงูโูุงูุฏู (%) ู ุนููฺฏุฑูุง ููุงุณู ู ุจุฑุงุจุฑ ุฑุง overload ฺฉุฑุฏู ุงุณุช.
* ููฺูู ูโุชูุงู ฺฉ **BigInteger** ุฑุง ุงุฒ ฺฉ ุขุฑุงู ุจุงุช ุณุงุฎุชุ ฺฉู ุจุฑุง ฺฉุงุฑุจุฑุฏูุง ุฑูุฒูฺฏุงุฑ ููุฏ ุงุณุช:

```csharp
RandomNumberGenerator rand = RandomNumberGenerator.Create();
byte[] bytes = new byte[32];
rand.GetBytes(bytes);
var bigRandomNumber = new BigInteger(bytes);
```

* ูุฒุช ุฐุฎุฑู ุงู ุงุนุฏุงุฏ ุฏุฑ BigInteger ูุณุจุช ุจู ุขุฑุงู ุจุงุช ุงู ุงุณุช ฺฉู **semantics ููุน ููุฏุงุฑ (value-type semantics)** ุญูุธ ูโุดูุฏ.

---

### Half ๐ฐ

* **Half** ฺฉ ููุน ุนุฏุฏ ุงุนุดุงุฑ ฑถ ุจุช ุงุณุช ฺฉู ุจุง .NET 5 ูุนุฑู ุดุฏ ู ุจุดุชุฑ ุจุฑุง ุชุนุงูู ุจุง ูพุฑุฏุงุฒูุฏูโูุง ฺฉุงุฑุช ฺฏุฑุงูฺฉ ุทุฑุงุญ ุดุฏู ุงุณุช.
* ุชุจุฏู ุจู **Half** ู **float/double** ุจุง **explicit cast** ุงูฺฉุงูโูพุฐุฑ ุงุณุช:

```csharp
Half h = (Half)123.456;
Console.WriteLine(h); // 123.44  (ุชูุฌู ุจู ุงุฒ ุฏุณุช ุฑูุชู ุฏูุช)
```

* ุนููุงุช ุญุณุงุจ ุจุฑุง ุงู ููุน ุชุนุฑู ูุดุฏู ุงุณุชุ ุจูุงุจุฑุงู ุจุงุฏ ูุจู ุงุฒ ูุญุงุณุจู ุขู ุฑุง ุจู float ุง double ุชุจุฏู ฺฉูุฏ.
* ูุญุฏูุฏู Half: -65500 ุชุง 65500

---

### Complex ๐ท

* **Complex** ฺฉ ููุน ุนุฏุฏ ุชุฎุตุต ุจุฑุง ุงุนุฏุงุฏ ูุฎุชูุท ุจุง ุงุฌุฒุง **double** ุงุณุช ู ุฏุฑ ููุงู ูุถุง ูุงู BigInteger ูุฑุงุฑ ุฏุงุฑุฏ.
* ูููููโุณุงุฒ:

```csharp
var c1 = new Complex(2, 3.5);
var c2 = new Complex(3, 0);
```

* ูฺฺฏโูุง: **Realุ Imaginaryุ Phaseุ Magnitude**
* ุณุงุฎุช ุจุฑ ุงุณุงุณ ูุทุจ (magnitude ู phase):

```csharp
Complex c3 = Complex.FromPolarCoordinates(1.3, 5);
```

* ุนููฺฏุฑูุง ุญุณุงุจ ุงุณุชุงูุฏุงุฑุฏ ูุฒ ุจุฑุง Complex overload ุดุฏูโุงูุฏ.

---

### Random ๐ฒ

* ฺฉูุงุณ **Random** ุฏูุจุงููโุง ุดุจูโุชุตุงุฏู ุงุฒ ุจุงุชโูุงุ ุงุนุฏุงุฏ ุตุญุญ ุง doubleูุง ุชููุฏ ูโฺฉูุฏ.
* ูโุชูุงู ฺฉ seed ุจุฑุง ุชููุฏ ุนุฏุฏ ุชุตุงุฏู ูุดุฎุต ฺฉุฑุฏ ุชุง ูุชุงุฌ ุชฺฉุฑุงุฑูพุฐุฑ ุจุงุดุฏ:

```csharp
Random r1 = new Random(1);
Random r2 = new Random(1);
```

* **Next(n)** ุนุฏุฏ ุตุญุญ ุชุตุงุฏู ุจู ฐ ู n-1 ุชููุฏ ูโฺฉูุฏ.
* **NextDouble()** ุนุฏุฏ ุงุนุดุงุฑ ุชุตุงุฏู ุจู ฐ ู ฑ ูโุฏูุฏ.
* ุงุฒ .NET 8ุ ูุชุฏูุง **GetItems** ู **Shuffle** ุจุฑุง ุงูุชุฎุงุจ ู ูุฑุชุจโุณุงุฒ ุชุตุงุฏู ุนูุงุตุฑ ูุฑุงูู ุดุฏู ุงุณุช.
* ุจุฑุง ฺฉุงุฑุจุฑุฏูุง ุงููุชุ ุจุงุฏ ุงุฒ **System.Security.Cryptography.RandomNumberGenerator** ุงุณุชูุงุฏู ฺฉุฑุฏ:

```csharp
var rand = System.Security.Cryptography.RandomNumberGenerator.Create();
byte[] bytes = new byte[32];
rand.GetBytes(bytes);
```

ุงู ุชูุถุญุงุช ูพุงูโูุง ฺฉุงุฑ ุจุง ุงุนุฏุงุฏ ู ุงููุงุน ุชุฎุตุต ุฏุฑ C# ุฑุง ูพูุดุด ูโุฏููุฏ.

### BitOperations ๐ง

ฺฉูุงุณ **System.Numerics.BitOperations** (ุงุฒ .NET 6) ูุชุฏูุง ุฑุง ุจุฑุง ุนููุงุช ูพุงูโุง ุจุฑ ูุจูุง ฒ ุงุฑุงุฆู ูโุฏูุฏ:

* **IsPow2**
  ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ฺฉ ุนุฏุฏ ุชูุงู ฒ ุงุณุช ุง ุฎุฑ.
* **LeadingZeroCount / TrailingZeroCount**
  ุชุนุฏุงุฏ ุตูุฑูุง ูพุดุฑู ุง ูพุณุฑู ุฑุง ููุช ุนุฏุฏ ุจู ุตูุฑุช ฺฉ unsigned integer ณฒ ุง ถด ุจุช ููุงุด ุฏุงุฏู ูโุดูุฏุ ุจุฑูโฺฏุฑุฏุงูุฏ.
* **Log2**
  ูฺฏุงุฑุชู ูพุงู ฒ ฺฉ ุนุฏุฏ unsigned ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.
* **PopCount**
  ุชุนุฏุงุฏ ุจุชโูุง ุชูุธูโุดุฏู ุฑู ฑ ุฏุฑ ฺฉ unsigned integer ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.
* **RotateLeft / RotateRight**
  ฺุฑุฎุด ุจุช ุจู ฺูพ ุง ุฑุงุณุช ุงูุฌุงู ูโุฏูุฏ.
* **RoundUpToPowerOf2**
  ฺฉ unsigned integer ุฑุง ุจู ูุฒุฏฺฉโุชุฑู ุชูุงู ฒ ฺฏุฑุฏ ูโฺฉูุฏ.

---

### Enumูุง โ๏ธ

ุฏุฑ ูุตู ณุ ููุน **enum** ุฏุฑ C# ุฑุง ูุนุฑู ฺฉุฑุฏู ู ูุญูู ุชุฑฺฉุจ ุงุนุถุงุ ุชุณุช ุจุฑุงุจุฑุ ุงุณุชูุงุฏู ุงุฒ ุนููฺฏุฑูุง ููุทู ู ุงูุฌุงู ุชุจุฏูโูุง ุฑุง ุชูุถุญ ุฏุงุฏู. .NET ูพุดุชุจุงู ุงุฒ enumูุง ุฑุง ุจุง ููุน **System.Enum** ฺฏุณุชุฑุด ูโุฏูุฏ ฺฉู ุฏู ููุด ุฏุงุฑุฏ:

* **ฺฉูพุงุฑฺูโุณุงุฒ ููุน** ุจุฑุง ููู enumูุง
* ุชุนุฑู ูุชุฏูุง **utility** ุงุณุชุงุชฺฉ

**ฺฉูพุงุฑฺูโุณุงุฒ ููุน** ุนู ูโุชูุงูุฏ ูุฑ ุนุถู enum ุฑุง ุจู ุตูุฑุช implicit ุจู ฺฉ instance ุงุฒ System.Enum ุชุจุฏู ฺฉูุฏ:

```csharp
Display(Nut.Macadamia);     // Nut.Macadamia
Display(Size.Large);        // Size.Large

void Display(Enum value)
{
    Console.WriteLine(value.GetType().Name + "." + value.ToString());
}

enum Nut  { Walnut, Hazelnut, Macadamia }
enum Size { Small, Medium, Large }
```

ูุชุฏูุง utility ุงุณุชุงุชฺฉ ุฑู **System.Enum** ุจุดุชุฑ ุจุฑุง ุงูุฌุงู ุชุจุฏูโูุง ู ฺฏุฑูุชู ูุณุช ุงุนุถุง ุงุณุชูุงุฏู ูโุดููุฏ.

---

### ุชุจุฏู Enumูุง ๐

ุณู ุฑูุด ุจุฑุง ููุงุด ููุฏุงุฑ ฺฉ enum ูุฌูุฏ ุฏุงุฑุฏ:

1. ุจู ุนููุงู **ุนุถู enum**
2. ุจู ุนููุงู **ููุฏุงุฑ ุตุญุญ underlying**
3. ุจู ุนููุงู **ุฑุดุชู (string)**

#### Enum ุจู ุนุฏุฏ ุตุญุญ

ุชุจุฏู ุตุฑุญ ุจู ุนุถู enum ู ููุฏุงุฑ ุนุฏุฏ ุขู ุงูฺฉุงูโูพุฐุฑ ุงุณุช:

```csharp
[Flags] 
public enum BorderSides { Left=1, Right=2, Top=4, Bottom=8 }

int i = (int) BorderSides.Top;       // i == 4
BorderSides side = (BorderSides)i;   // side == BorderSides.Top
```

ุจุฑุง ฺฉ **System.Enum**ุ ุงุจุชุฏุง ุจู **object** ุชุจุฏู ฺฉูุฏ ู ุณูพุณ ุจู ููุน ุนุฏุฏ:

```csharp
static int GetIntegralValue(Enum anyEnum)
{
    return (int)(object)anyEnum;
}
```

* ุงฺฏุฑ ููุน ุนุฏุฏ enum ูุดุฎุต ูุจุงุดุฏุ ุงู ุฑูุด ููฺฉู ุงุณุช ุจุง ุฎุทุง ููุงุฌู ุดูุฏ.

ุฑูุด ุฏฺฏุฑ ุงุณุชูุงุฏู ุงุฒ **Convert.ToDecimal** ุงุณุช:

```csharp
static decimal GetAnyIntegralValue(Enum anyEnum)
{
    return Convert.ToDecimal(anyEnum);
}
```

ุฑูุด ุณููุ ุงุณุชูุงุฏู ุงุฒ **Enum.GetUnderlyingType** ู **Convert.ChangeType** ุงุณุช ุชุง ููุน ุงุตู ุญูุธ ุดูุฏ:

```csharp
static object GetBoxedIntegralValue(Enum anyEnum)
{
    Type integralType = Enum.GetUnderlyingType(anyEnum.GetType());
    return Convert.ChangeType(anyEnum, integralType);
}

object result = GetBoxedIntegralValue(BorderSides.Top);
Console.WriteLine(result);           // 4
Console.WriteLine(result.GetType()); // System.Int32
```

ููฺูู ูโุชูุงูุฏ ุงุฒ **ToString("D")** ุจุฑุง ฺฏุฑูุชู ููุฏุงุฑ ุนุฏุฏ ุจู ุตูุฑุช ุฑุดุชู ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
static string GetIntegralValueAsString(Enum anyEnum)
{
    return anyEnum.ToString("D");  // ุฎุฑูุฌ ฺุฒ ุดุจู "4"
}
```

#### ุนุฏุฏ ุตุญุญ ุจู Enum

ุจุฑุง ุชุจุฏู ุนุฏุฏ ุตุญุญ ุจู enumุ ุงุฒ **Enum.ToObject** ุงุณุชูุงุฏู ูโฺฉูู:

```csharp
object bs = Enum.ToObject(typeof(BorderSides), 3);
Console.WriteLine(bs);  // Left, Right
```

ุงู ูุณุฎู ุฏุงูุงูฺฉ ูุนุงุฏู:

```csharp
BorderSides bs = (BorderSides)3;
```

ุงุณุช ู ุจุฑุง ููู ููุนโูุง ุนุฏุฏ ู object ูุงุจู ุงุณุชูุงุฏู ุงุณุช.

#### ุชุจุฏู ุจู ุฑุดุชู

* ุจุฑุง ุชุจุฏู enum ุจู ุฑุดุชูุ ูโุชูุงูุฏ ุงุฒ **Enum.Format** ุง **ToString** ุงุณุชูุงุฏู ฺฉูุฏ.
* ูุฑูุชโูุง:

  * "G" : ูพุดโูุฑุถ
  * "D" : ููุฏุงุฑ ุนุฏุฏ underlying
  * "X" : ููุงู ููุฏุงุฑ ุจู ุตูุฑุช ูฺฏุฒุงุฏุณูุงู
  * "F" : ูุฑูุช ุงุนุถุง ุชุฑฺฉุจ ุจุฏูู **Flags**

#### ุชุจุฏู ุฑุดุชู ุจู Enum

* ุจุฑุง ุชุจุฏู ุฑุดุชู ุจู enum ุงุฒ **Enum.Parse** ุงุณุชูุงุฏู ฺฉูุฏ:

```csharp
BorderSides leftRight = (BorderSides) Enum.Parse(
    typeof(BorderSides),
    "Left, Right"
);
```

* ุขุฑฺฏููุงู ุงุฎุชุงุฑ ุณูู ุจุฑุง ุญุณุงุณุช ุจู ุญุฑูู ุจุฒุฑฺฏ ู ฺฉูฺฺฉ ุงุณุช.
* ุงฺฏุฑ ุนุถู ูพุฏุง ูุดูุฏุ **ArgumentException** ูพุฑุชุงุจ ูโุดูุฏ.

### ูพูุงุด ููุงุฏุฑ Enum ๐

ูุชุฏ **Enum.GetValues** ุขุฑุงูโุง ุดุงูู ุชูุงู ุงุนุถุง ฺฉ ููุน enum ูุดุฎุต ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ:

```csharp
foreach (Enum value in Enum.GetValues(typeof(BorderSides)))
    Console.WriteLine(value);
```

* ุงุนุถุง ูุฑฺฉุจ ูุงููุฏ `LeftRight = Left | Right` ูุฒ ุดุงูู ูโุดููุฏ.
* **Enum.GetNames** ุนููฺฉุฑุฏ ูุดุงุจู ุฏุงุฑุฏ ุงูุง ุขุฑุงูโุง ุงุฒ ุฑุดุชูโูุง ุจุฑูโฺฏุฑุฏุงูุฏ.
* ุฏุฑ ูุงูุนุ CLR ุจุง **reflection** ุฑู ููุฏูุง ููุน enumุ ุงู ูุชุฏูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ูุชุงุฌ ุฑุง ุจุฑุง ุจูููโุณุงุฒ ุฏุฑ ุญุงูุธู ฺฉุด ูโฺฉูุฏ.

---

### ูุญูู ฺฉุงุฑ Enum โ๏ธ

* ูุนูุง Enumูุง ุนูุฏุชุงู ุชูุณุท **ฺฉุงููพุงูุฑ** ุงุนูุงู ูโุดูุฏ.
* ุฏุฑ CLRุ ุชูุงูุช ุฒูุงู ุงุฌุฑุง ุจู ฺฉ instance ุงุฒ enum (ููฺฏุงู unboxed ุจูุฏู) ู ููุฏุงุฑ ุนุฏุฏ underlying ุขู ูุฌูุฏ ูุฏุงุฑุฏ.
* ุชุนุฑู ฺฉ enum ุฏุฑ CLR ููุท ฺฉ subtype ุงุฒ **System.Enum** ุจุง ููุฏูุง ุงุณุชุงุชฺฉ ุนุฏุฏ ุจุฑุง ูุฑ ุนุถู ุงุณุช.
* ุงู ุจุงุนุซ ูโุดูุฏ ุงุณุชูุงุฏู ูุนููู ุงุฒ enum ุจุณุงุฑ ุจููู ุจุงุดุฏ ู ูุฒูู ุงุฌุฑุง ุขู ูุดุงุจู ุซุงุจุชโูุง ุนุฏุฏ ุจุงุดุฏ.

**ูฺฉุชู ููู:** Enumูุง ููุน ุงูู ูู ุงุฑุงุฆู ููโุฏููุฏ. ูุซุงู:

```csharp
[Flags] public enum BorderSides { Left=1, Right=2, Top=4, Bottom=8 }
BorderSides b = BorderSides.Left;
b += 1234;  // ุฎุทุง ูุฏุงุฑุฏ!
```

* ููุช ฺฉุงููพุงูุฑ ูุงุฏุฑ ุจู ุงุนุชุจุงุฑุณูุฌ ูุจุงุดุฏุ runtime ฺฉูฺฉ ุจุฑุง ูพุฑุชุงุจ ุงุณุชุซูุง ูุฏุงุฑุฏ.

ุจุง ูุฌูุฏ ุงูฺฉู ฺฉ instance ุงุฒ enum ู ููุฏุงุฑ ุนุฏุฏ ุขู ุฏุฑ runtime ุชูุงูุช ูุฏุงุฑูุฏุ ุงูุง ฺฉุฏ ุฒุฑ ุจู ุดฺฉู ูุชูุงูุช ุนูู ูโฺฉูุฏ:

```csharp
Console.WriteLine(BorderSides.Right.ToString());    // Right
Console.WriteLine(BorderSides.Right.GetType().Name); // BorderSides
```

* ุฏูู ุงู ุฑูุชุงุฑ ุงู ุงุณุช ฺฉู **C#** ูุจู ุงุฒ ูุฑุงุฎูุงู ูุชุฏูุง virtual ูุซู `ToString` ุง `GetType`ุ instance ุฑุง boxing ูโฺฉูุฏ ู ฺฉ wrapper runtime ุจุฑุง ููุน enum ุงุฌุงุฏ ูโุดูุฏ.

---

### Struct Guid ๐

* **Guid** ููุงูุฏู ฺฉ **ุดูุงุณู ฺฉุชุง ุฌูุงู** ุงุณุช: ฺฉ ููุฏุงุฑ ฑถ ุจุงุช ฺฉู ุชูุฑุจุงู ููุดู ุฏุฑ ุฌูุงู ฺฉุชุง ุงุณุช.
* ุงุฒ Guidูุง ูุนูููุงู ุจู ุนููุงู ฺฉูุฏ ุฏุฑ ุจุฑูุงููโูุง ู ูพุงฺฏุงูโูุง ุฏุงุฏู ุงุณุชูุงุฏู ูโุดูุฏ.
* ุชุนุฏุงุฏ ฺฉู Guidูุง ฺฉุชุง: $2^{128}$ ุง ุชูุฑุจุงู $3.4 ร 10^{38}$.

**ุณุงุฎุช ฺฉ Guid ุฌุฏุฏ:**

```csharp
Guid g = Guid.NewGuid();
Console.WriteLine(g.ToString());  // 0d57629c-7d6e-4847-97cb-9e2fc25083fe
```

**ุณุงุฎุช Guid ุงุฒ ููุงุฏุฑ ููุฌูุฏ:**

```csharp
public Guid(byte[] b);  // ุขุฑุงู 16 ุจุงุช
public Guid(string g);   // ุฑุดุชู ูุงูุจโุจูุฏ ุดุฏู
```

* ูุฑูุช ุฑุดุชูโุง: ณฒ ุฑูู ูฺฏุฒุงุฏุณูุงู ุจุง ุฎุท ุชุฑู ุงุฎุชุงุฑ ุจุนุฏ ุงุฒ ุฑููโูุง ธุ ฑฒุ ฑถ ู ฒฐ.
* ูโุชูุงู ฺฉู ุฑุดุชู ุฑุง ุฏุฑ ุจุฑุงฺฉุช ุง ุขฺฉููุงุฏ ูุฑุงุฑ ุฏุงุฏ:

```csharp
Guid g1 = new Guid("{0d57629c-7d6e-4847-97cb-9e2fc25083fe}");
Guid g2 = new Guid("0d57629c7d6e484797cb9e2fc25083fe");
Console.WriteLine(g1 == g2);  // True
```

* Guid ุจู ุนููุงู struct ุฑูุชุงุฑ value-type ุฏุงุฑุฏุ ุจูุงุจุฑุงู ุนููฺฏุฑ equality ุฏุฑ ูุซุงู ุจุงูุง ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.
* ูุชุฏ **ToByteArray** ฺฉ Guid ุฑุง ุจู ุขุฑุงู ุจุงุช ุชุจุฏู ูโฺฉูุฏ.
* **Guid.Empty** ฺฉ Guid ุฎุงู (ุชูุงู ุตูุฑ) ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุงุบูุจ ุจู ุฌุง null ุงุณุชูุงุฏู ูโุดูุฏ.

---

### ููุงุณู ุจุฑุงุจุฑ โ๏ธ

* ุชุง ุงูุฌุง ูุฑุถ ฺฉุฑุฏู ฺฉู ุนููฺฏุฑูุง `==` ู `!=` ุจุฑุง ููุงุณู ฺฉุงู ูุณุชูุฏุ ุงูุง ูุณุฆูู ุจุฑุงุจุฑ ูพฺุฏูโุชุฑ ุงุณุช.
* ุฏู ููุน ุจุฑุงุจุฑ ูุฌูุฏ ุฏุงุฑุฏ:

1. **Value equality**

   * ุฏู ููุฏุงุฑ ุงุฒ ูุธุฑ ูุญุชูุง ุจุฑุงุจุฑ ูุณุชูุฏ.
2. **Referential equality**

   * ุฏู reference ุจู ููุงู ุดุก ุงุดุงุฑู ูโฺฉููุฏ.

* ูฺฏุฑ ุงูฺฉู override ุดุฏู ุจุงุดุฏ:

  * **Value types** ุงุฒ ุจุฑุงุจุฑ ููุฏุงุฑ ุงุณุชูุงุฏู ูโฺฉููุฏ.
  * **Reference types** ุงุฒ ุจุฑุงุจุฑ ูุฑุฌุน ุงุณุชูุงุฏู ูโฺฉููุฏ (ูฺฏุฑ ุฏุฑ anonymous types ู records).

ูุซุงู ุจุฑุงุจุฑ ููุฏุงุฑ:

```csharp
int x = 5, y = 5;
Console.WriteLine(x == y);  // True
```

ูุซุงู ุจุฑุงุจุฑ ููุฏุงุฑ ูพฺุฏูโุชุฑ ุจุง DateTimeOffset:

```csharp
var dt1 = new DateTimeOffset(2010,1,1,1,1,1, TimeSpan.FromHours(8));
var dt2 = new DateTimeOffset(2010,1,1,2,1,1, TimeSpan.FromHours(9));
Console.WriteLine(dt1 == dt2);  // True
```

* **DateTimeOffset** struct ุงุณุช ู ุฑูุชุงุฑ ุจุฑุงุจุฑ ุขู ุทูุฑ ุชุนุฑู ุดุฏู ฺฉู ุงฺฏุฑ ููุทู ุฒูุงู ฺฉุณุงู ุจุงุดุฏุ ููุฏุงุฑ ุจุฑุงุจุฑ ุชูู ุดูุฏ.

ูุซุงู ุจุฑุงุจุฑ ูุฑุฌุน:

```csharp
class Foo { public int X; }
Foo f1 = new Foo { X = 5 };
Foo f2 = new Foo { X = 5 };
Console.WriteLine(f1 == f2); // False

Foo f3 = f1;
Console.WriteLine(f1 == f3); // True
```

* ูโุชูุงู reference types ุฑุง ุทูุฑ ุณูุงุฑุด ฺฉุฑุฏ ฺฉู ุฑูุชุงุฑ ุจุฑุงุจุฑ ููุฏุงุฑ ุฏุงุดุชู ุจุงุดูุฏุ ูุงููุฏ ฺฉูุงุณ **Uri**:

```csharp
Uri uri1 = new Uri("http://www.linqpad.net");
Uri uri2 = new Uri("http://www.linqpad.net");
Console.WriteLine(uri1 == uri2);  // True
```

* ฺฉูุงุณ **string** ุฑูุชุงุฑ ูุดุงุจู ุฏุงุฑุฏ:

```csharp
var s1 = "http://www.linqpad.net";
var s2 = "http://" + "www.linqpad.net";
Console.WriteLine(s1 == s2);  // True
```

### ูพุฑูุชฺฉูโูุง ุงุณุชุงูุฏุงุฑุฏ ุจุฑุงุจุฑ โ๏ธ

ุณู ูพุฑูุชฺฉู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ููุงุณู ุจุฑุงุจุฑ ุฏุฑ C# ูุฌูุฏ ุฏุงุฑุฏ:

1. ุนููฺฏุฑูุง `==` ู `!=`
2. ูุชุฏ **virtual Equals** ุฏุฑ `object`
3. ุงูุชุฑูุณ **IEquatable<T>**

ููฺููุ ูพุฑูุชฺฉูโูุง ูุงุจู ุงุชุตุงู (pluggable) ู ุงูุชุฑูุณ **IStructuralEquatable** ูุฒ ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุฏุฑ ูุตู ท ุชูุถุญ ุฏุงุฏู ูโุดููุฏ.

---

### ุนููฺฏุฑูุง == ู !=

* ุงู ุนููฺฏุฑูุง **static** ูุณุชูุฏ ู **ุฏุฑ ุฒูุงู ฺฉุงููพุงู** ุชุตูู ูโฺฏุฑูุฏ ฺฉู ฺู ููุน ููุงุณู ุฑุง ุงูุฌุงู ุฏูุฏ.
* ูุซุงู:

```csharp
int x = 5;
int y = 5;
Console.WriteLine(x == y);  // True
```

* ุงูุง ุงฺฏุฑ ุงุฒ object ุงุณุชูุงุฏู ฺฉูู:

```csharp
object x = 5;
object y = 5;
Console.WriteLine(x == y);  // False
```

* ฺุฑุงุ ฺูู object ฺฉ ููุน ูุฑุฌุน ุงุณุช ู ุนููฺฏุฑ `==` ุจุฑุง ุขู **ุจุฑุงุจุฑ ูุฑุฌุน** (referential equality) ุฑุง ุงุนูุงู ูโฺฉูุฏ.
* ูุชุฌู `False` ุงุณุช ฺูู x ู y ูุฑ ฺฉุฏุงู ุจู ฺฉ ุดุก boxed ุฌุฏุงฺฏุงูู ุงุดุงุฑู ุฏุงุฑูุฏ.

---

### ูุชุฏ virtual Object.Equals

* ูุชุฏ **Equals** ุฏุฑ `System.Object` ุชุนุฑู ุดุฏู ู ุจุฑุง ุชูุงู ููุนโูุง ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.
* ุงู ูุชุฏ **ุฏุฑ ุฒูุงู ุงุฌุฑุง** (runtime) ุจุฑ ุงุณุงุณ ููุน ูุงูุน ุดุก ุชุตูู ูโฺฏุฑุฏ.
* ูุซุงู:

```csharp
object x = 5;
object y = 5;
Console.WriteLine(x.Equals(y));  // True
```

* ุชูุถุญ:

  * ุจุฑุง **struct**ูุงุ Equals ุจุง ููุงุณู ุณุงุฎุชุงุฑ (structural) ุฑู ููู ููุฏูุง ฺฉุงุฑ ูโฺฉูุฏ.
  * ุจุฑุง **reference type**ูุงุ ุจู ุตูุฑุช ูพุดโูุฑุถ ููุงุณู ูุฑุฌุน ุงูุฌุงู ูโุฏูุฏ.

---

### ฺุฑุง ูพฺุฏฺฏ ูุฌูุฏ ุฏุงุฑุฏุ

ฺุฑุง `==` virtual ูุณุช ู ุฏููุงู ูุซู Equals ุนูู ููโฺฉูุฏุ ุฏูุงู:

1. ุงฺฏุฑ ุงููู ุขุฑฺฏููุงู null ุจุงุดุฏุ Equals ุจุง **NullReferenceException** ููุงุฌู ูโุดูุฏุ ุนููฺฏุฑ static ฺูู ุฎุทุง ูุฏุงุฑุฏ.
2. ฺฏุงู ููุฏ ุงุณุช ฺฉู `==` ู `Equals` ุชุนุงุฑู ูุชูุงูุช ุงุฒ ุจุฑุงุจุฑ ุฏุงุดุชู ุจุงุดูุฏ.
3. ฺูู `==` **static ู compile-time** ุงุณุชุ ุจุณุงุฑ ุณุฑุน ุงุฌุฑุง ูโุดูุฏุ ุงู ุจุฑุง ฺฉุฏูุง ูุญุงุณุจุงุช ุณูฺฏู ุงููุช ุฏุงุฑุฏ.

---

### ูุซุงู: ููุงุณู ุงูู ุฏู ุดุก

ุฑูุด ูุงูุทูุฆู (ููฺฉู ุงุณุช ุฎุทุง null ุจุฏูุฏ):

```csharp
public static bool AreEqual(object obj1, object obj2) 
    => obj1.Equals(obj2);
```

ุฑูุด ุงูู ุจุง ุจุฑุฑุณ null:

```csharp
public static bool AreEqual(object obj1, object obj2)
{
    if (obj1 == null) return obj2 == null;
    return obj1.Equals(obj2);
}
```

ูุณุฎู ฺฉูุชุงูโุชุฑ:

```csharp
public static bool AreEqual(object obj1, object obj2)
    => obj1 == null ? obj2 == null : obj1.Equals(obj2);
```

### ูุชุฏ ุงุณุชุง `object.Equals`

ฺฉูุงุณ `object` ฺฉ ูุชุฏ ุงุณุชุง **Equals** ูู ุฏุงุฑุฏ ฺฉู ููุงู ฺฉุงุฑ `AreEqual` ุฑุง ุงูุฌุงู ูโุฏูุฏุ ุงูุง ุจุง ุฏู ูพุงุฑุงูุชุฑ:

```csharp
public static bool Equals(object objA, object objB)
```

* ุงู ูุชุฏ **null-safe** ุงุณุช ู ุจุฑุง ููุงูุน ฺฉู ููุนโูุง ุฏุฑ ุฒูุงู ฺฉุงููพุงู ูุดุฎุต ูุณุชูุฏ ููุงุณุจ ุงุณุช:

```csharp
object x = 3, y = 3;
Console.WriteLine(object.Equals(x, y)); // True

x = null;
Console.WriteLine(object.Equals(x, y)); // False

y = null;
Console.WriteLine(object.Equals(x, y)); // True
```

* ฺฉุงุฑุจุฑุฏ ููุฏ: **ููุดุชู ููุนโูุง generic**.

  * ุงฺฏุฑ ุงุฒ ุนููฺฏุฑ `==` ุง `!=` ุงุณุชูุงุฏู ฺฉููุ ฺฉุงููพุงู ููโุดูุฏ.
  * ูุซุงู:

```csharp
class Test<T>
{
    T _value;
    public void SetValue(T newValue)
    {
        if (!object.Equals(newValue, _value))
        {
            _value = newValue;
            OnValueChanged();
        }
    }
    protected virtual void OnValueChanged() { ... }
}
```

* ุฌุงฺฏุฒู ุจููู: ุงุณุชูุงุฏู ุงุฒ **EqualityComparer<T>** (ุงุฒ Boxing ุฌููฺฏุฑ ูโฺฉูุฏ):

```csharp
if (!EqualityComparer<T>.Default.Equals(newValue, _value))
```

---

### ูุชุฏ ุงุณุชุง `object.ReferenceEquals`

* ุจุฑุง ุงุนูุงู **ุจุฑุงุจุฑ ูุฑุฌุน** (referential equality) ุงุณุชูุงุฏู ูโุดูุฏ:

```csharp
Widget w1 = new Widget();
Widget w2 = new Widget();
Console.WriteLine(object.ReferenceEquals(w1, w2)); // False
```

* ฺฉุงุฑุจุฑุฏ: ุงฺฏุฑ ฺฉูุงุณ `Widget` ูุชุฏ `Equals` ุฑุง override ฺฉุฑุฏู ุจุงุดุฏ ุง `==` ุฑุง overload ฺฉุฑุฏู ุจุงุดุฏุ `ReferenceEquals` ุชุถูู ูโฺฉูุฏ ฺฉู ุจุฑุงุจุฑ ูุงูุน ูุฑุฌุน ุจุฑุฑุณ ุดูุฏ.
* ุฌุงฺฏุฒู ุฏฺฏุฑ: cast ุจู `object` ู ุณูพุณ ุงุณุชูุงุฏู ุงุฒ `==`.

---

### ุงูุชุฑูุณ `IEquatable<T>`

* ูุดฺฉู `object.Equals` ุงู ุงุณุช ฺฉู ุจุฑุง **value type**ูุง boxing ุงุฌุงุฏ ูโฺฉูุฏุ ฺฉู ูุฒููโุจุฑ ุงุณุช.
* ุฑุงู ุญู: `IEquatable<T>`:

```csharp
public interface IEquatable<T>
{
    bool Equals(T other);
}
```

* ูุฒุช: ููุงู ูุชุฌู `Equals` ุฑุง ูโุฏูุฏ ูู ุจุฏูู boxing.
* ูุซุงู ุงุณุชูุงุฏู ุฏุฑ generic:

```csharp
class Test<T> where T : IEquatable<T>
{
    public bool IsEqual(T a, T b)
    {
        return a.Equals(b); // ุจุฏูู boxing
    }
}
```

---

### ุฒูุงู ฺฉู `Equals` ู `==` ุจุฑุงุจุฑ ูุณุชูุฏ

* ูุซุงู ุจุง `double.NaN`:

```csharp
double x = double.NaN;
Console.WriteLine(x == x);       // False
Console.WriteLine(x.Equals(x));  // True
```

* ุฏูู:

  * `==` ุงุฒ ูุธุฑ ุฑุงุถุงุชุ NaN ุฑุง ุญุช ุจุง ุฎูุฏุด ุจุฑุงุจุฑ ููโุฏุงูุฏ.
  * `Equals` ุจุงุฏ **ุจุงุฒุชุงุจ (reflexive)** ุจุงุดุฏ ู ููุดู `x.Equals(x)` true ุจุฑฺฏุฑุฏุงูุฏ.

* ุงุณุชูุงุฏู ุนูู: Collections ู ุฏฺฉุดูุฑโูุง ุจุฑุง ูพุฏุง ฺฉุฑุฏู ุขุชูโูุง ุจู ุฑูุชุงุฑ `Equals` ุชฺฉู ุฏุงุฑูุฏ.

* ูุซุงู ุจุง `StringBuilder`:

```csharp
var sb1 = new StringBuilder("foo");
var sb2 = new StringBuilder("foo");

Console.WriteLine(sb1 == sb2);       // False (ุจุฑุงุจุฑ ูุฑุฌุน)
Console.WriteLine(sb1.Equals(sb2));  // True  (ุจุฑุงุจุฑ ููุฏุงุฑ)
```

* ูุชุฌู: ุฏุฑ ููุนโูุง referenceุ ุงุบูุจ `Equals` ุจุฑุง ุจุฑุงุจุฑ ููุฏุงุฑ ุณูุงุฑุด ุดุฏู ู `==` ุจุฑุง ุจุฑุงุจุฑ ูุฑุฌุน ุจุงู ูโูุงูุฏ.

### ุจุฑุงุจุฑ ู ููุนโูุง ุณูุงุฑุด

#### ุฑูุชุงุฑ ูพุดโูุฑุถ ุจุฑุงุจุฑ

* **Value types** ุงุฒ **value equality** ุงุณุชูุงุฏู ูโฺฉููุฏ.
* **Reference types** ุงุฒ **referential equality** ุงุณุชูุงุฏู ูโฺฉููุฏ ูฺฏุฑ ุงูฺฉู override ุดูุฏ (ูุซูุงู ุฏุฑ anonymous types ู records).
* ูุชุฏ `Equals` ุฏุฑ struct ุจูโุทูุฑ ูพุดโูุฑุถ **structural value equality** ุงุนูุงู ูโฺฉูุฏ (ูุฑ ููุฏ ููุงุณู ูโุดูุฏ).

ฺฏุงู ูุงุฒู ุงุณุช ุงู ุฑูุชุงุฑ ุฑุง ุชุบุฑ ุฏูุฏ:

1. **ุชุบุฑ ูุนูุง ุจุฑุงุจุฑ**

   * ููุช ุฑูุชุงุฑ ูพุดโูุฑุถ `==` ุง `Equals` ุจุฑุง ููุน ุดูุง ุทุจุน ูุณุช ุง ูุตุฑูโฺฉููุฏู ุงูุชุธุงุฑ ุฏฺฏุฑ ุฏุงุฑุฏ.
   * ูุซุงู: `DateTimeOffset` ฺฉู ูโุฎูุงูู ููุท UTC DateTime ููุงุณู ุดูุฏ ู ูู offset.
   * ูุซุงู ุฏฺฏุฑ: ุงููุงุน ุนุฏุฏ ุจุง NaN ูุซู `float` ู `double`.
   * ุฏุฑ ฺฉูุงุณโูุงุ ฺฏุงู **value equality** ุทุจุนโุชุฑ ุงุณุช ุชุง **referential equality** (ูุซูุงู `System.Uri` ุง `System.String`).
   * ุฏุฑ **records**ุ ฺฉุงููพุงูุฑ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ structural equality ุงุฌุงุฏ ูโฺฉูุฏุ ุงูุง ฺฏุงู ูุงุฒ ุจู ุงุตูุงุญ ููุงุณู ุจุฑุฎ ููุฏูุง ุฏุงุฑู.

2. **ุงูุฒุงุด ุณุฑุนุช ุจุฑุงุจุฑ ุจุฑุง structs**

   * ุงูฺฏูุฑุชู ูพุดโูุฑุถ ููุงุณู struct ฺฉูุฏ ุงุณุช.
   * ุจุง override ฺฉุฑุฏู `Equals` ู ูพุงุฏูโุณุงุฒ `IEquatable<T>` ู overload ฺฉุฑุฏู `==` ูโุชูุงู ุณุฑุนุช ุฑุง ฺูุฏ ุจุฑุงุจุฑ ฺฉุฑุฏ.
   * ุจุฑุง reference typesุ override ุจุฑุงุจุฑ ุชุฃุซุฑ ฺูุฏุงู ุฑู ุณุฑุนุช ูุฏุงุฑุฏ ฺูู ุจุฑุงุจุฑ ูุฑุฌุน ุณุฑุน ุงุณุช.

#### ูุฑุงุญู override ุจุฑุงุจุฑ

1. Override ฺฉุฑุฏู **GetHashCode()** ู **Equals()**
2. (ุงุฎุชุงุฑ) overload ฺฉุฑุฏู **!=** ู **==**
3. (ุงุฎุชุงุฑ) ูพุงุฏูโุณุงุฒ **IEquatable<T>**

* ุฏุฑ **records**: ฺฉุงููพุงูุฑ ุฎูุฏ ุจู ุฎูุฏ ุงูโูุง ุฑุง override ูโฺฉูุฏ. ุงฺฏุฑ ุจุฎูุงูุฏ ุชุบุฑ ุฏูุฏุ ูุชุฏ `Equals` ุจุงุฏ ุจู ุดฺฉู ุฒุฑ ุจุงุดุฏ:

```csharp
record Test(int X, int Y)
{
    public virtual bool Equals(Test t) => t != null && t.X == X && t.Y == Y;
}
```

* ูุชุฏ `Equals` **virtual** ุงุณุช ู ูพุงุฑุงูุชุฑ actual record type ุฑุง ูโฺฏุฑุฏ.
* ุจุงุฏ `GetHashCode` ูู override ุดูุฏุ ุงูุง ูุงุฒ ุจู overload ฺฉุฑุฏู `==` ู `!=` ุง ูพุงุฏูโุณุงุฒ `IEquatable<T>` ูุณุช.

---

### Override ฺฉุฑุฏู `GetHashCode`

* ฺฉุงุฑุจุฑุฏ: ุจูููโุณุงุฒ ุจุฑุง **Hashtable** ู **Dictionary\<TKey,TValue>**
* ูฺฉุงุช:

  * ุงฺฏุฑ `Equals(a,b)` true ุจูุฏุ `GetHashCode(a)` ู `GetHashCode(b)` ุจุงุฏ ฺฉุณุงู ุจุงุดุฏ.
  * ูุจุงุฏ exception ุจุฏูุฏ.
  * ุจุงุฏ ููุฏุงุฑ ุซุงุจุช ุจุฑฺฏุฑุฏุงูุฏ ูฺฏุฑ ุงูฺฉู ุดุก ุชุบุฑ ฺฉุฑุฏู ุจุงุดุฏ.
* ุจุฑุง structsุ override ฺฉุฑุฏู `GetHashCode` ูโุชูุงูุฏ ุงูฺฏูุฑุชู hashing ุฑุง ุจููู ฺฉูุฏ.
* ุจุฑุง classesุ ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑ ุงุณุงุณ internal object token ุงุณุช.
* ูุด ูุงุจู ุงุนุชูุงุฏ ูุนูููุงู ุจุฑ ุงุณุงุณ **immutable fields** ูุญุงุณุจู ูโุดูุฏ ุชุง ุจุนุฏ ุงุฒ ุงูุฒูุฏู ุจู ุฏฺฉุดูุฑุ ุฏุณุชุฑุณ ุงุฒ ุจู ูุฑูุฏ.

---

### Override ฺฉุฑุฏู `Equals`

* ุงุตูู:

  * ุดุก ููโุชูุงูุฏ ุจุฑุงุจุฑ null ุจุงุดุฏ (ูฺฏุฑ nullable type)
  * ุจุงุฒุชุงุจ (reflexive): `x.Equals(x)` ููุดู true
  * ุฌุงุจุฌุง (commutative): ุงฺฏุฑ `a.Equals(b)` ุขูฺฏุงู `b.Equals(a)`
  * ุชุฑุงูุฒุชู (transitive): ุงฺฏุฑ `a.Equals(b)` ู `b.Equals(c)` ุขูฺฏุงู `a.Equals(c)`
  * ูุงุจู ุชฺฉุฑุงุฑ ู reliable ุจุงุดุฏ

---

### Overload ฺฉุฑุฏู `==` ู `!=`

* ุงุบูุจ ุฏุฑ structs ุงูุฌุงู ูโุดูุฏุ ฺูู ุจุฏูู ุขู `==` ู `!=` ฺฉุงุฑ ููโฺฉููุฏ.

* ุฏุฑ classes:

  1. ุฑูุง ฺฉุฑุฏู `==` ู `!=` ุจุฑุง ุจุฑุงุจุฑ ูุฑุฌุน (ุฑุงุฌโุชุฑู)
  2. overload ฺฉุฑุฏู ุขููุง ูุทุงุจู `Equals` ุจุฑุง ฺฉูุงุณโูุง immutable (ูุซู `string` ู `Uri`)

* ูฺฉุชู: overload ฺฉุฑุฏู `!=` ฺฉู ูุนูุง ูุชูุงูุช ูุณุจุช ุจู `!(==)` ุจุฏูุฏุ ุจุณุงุฑ ูุงุฏุฑ ุงุณุช.

  * ูุซุงู: ุงููุงุน `System.Data.SqlTypes` ฺฉู ููุทู ููุงุณู null ุฑุง ูุทุงุจู SQL ุงุนูุงู ูโฺฉููุฏ.

### ูพุงุฏูโุณุงุฒ `IEquatable<T>`

ูพุงุฏูโุณุงุฒ `IEquatable<T>` ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ูุชุฏ `Equals` ุณุฑุนโุชุฑ ู ุจุฏูู boxing ุจุฑุง **value types** ุงุฌุฑุง ุดูุฏ. ูุชุงุฌ ุขู ุจุงุฏ ุจุง `object.Equals` ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.

#### ูุซุงู: struct Area

ูุฑุถ ฺฉูุฏ structโุง ุฏุงุฑู ฺฉู ูุณุงุญุช ุฑุง ูุดุงู ูโุฏูุฏ ู ุทูู ู ุนุฑุถ ูุงุจู ุชุจุงุฏู ูุณุชูุฏ (ูุซูุงู 5 ร 10 ุจุง 10 ร 5 ุจุฑุงุจุฑ ุงุณุช):

```csharp
public struct Area : IEquatable<Area>
{
    public readonly int Measure1;
    public readonly int Measure2;

    public Area(int m1, int m2)
    {
        Measure1 = Math.Min(m1, m2);
        Measure2 = Math.Max(m1, m2);
    }

    public override bool Equals(object other)
        => other is Area a && Equals(a);  // ูุฑุงุฎูุงู Equals ููุน ุฎุงุต

    public bool Equals(Area other)          // ูพุงุฏูโุณุงุฒ IEquatable<Area>
        => Measure1 == other.Measure1 && Measure2 == other.Measure2;

    public override int GetHashCode()
        => HashCode.Combine(Measure1, Measure2);

    public static bool operator ==(Area a1, Area a2) => Equals(a1, a2);
    public static bool operator !=(Area a1, Area a2) => !(a1 == a2);
}
```

* ุงุฒ `HashCode.Combine` ุจุฑุง ุชููุฏ **hashcode ุชุฑฺฉุจ** ุงุณุชูุงุฏู ุดุฏู ุงุณุช.
* ุงุฒ C# 10 ุจู ุจุนุฏุ ูโุชูุงู ุงู struct ุฑุง ุจู ุตูุฑุช **record struct** ุชุนุฑู ฺฉุฑุฏ ู ูุงุฒ ุจู ฺฉุฏ ุจุนุฏ ุงุฒ constructor ูุณุช.

#### ุงุณุชูุงุฏู ุงุฒ struct Area

```csharp
Area a1 = new Area(5, 10);
Area a2 = new Area(10, 5);

Console.WriteLine(a1.Equals(a2));  // True
Console.WriteLine(a1 == a2);       // True
```

---

### ููุงุณู ูุงุจู ูพฺฉุฑุจูุฏ (Pluggable Equality Comparers)

ุงฺฏุฑ ุจุฎูุงูุฏ ููุน ุฑูุชุงุฑ ุจุฑุงุจุฑ ูุฎุตูุต ฺฉ ุณูุงุฑู ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ุงุฒ **`IEqualityComparer`** ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุจุฑุง ฺฉูุงุณโูุง collection ุงุณุชุงูุฏุงุฑุฏ ุจุณุงุฑ ููุฏ ุงุณุช ู ุฏุฑ ูุตู ุจุนุฏ (โPlugging in Equality and Orderโ) ุชูุถุญ ุฏุงุฏู ูโุดูุฏ.

---

### ููุงุณู ุชุฑุชุจ (Order Comparison)

C# ู .NET ุฏู ูพุฑูุชฺฉู ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ุชุฑุชุจโุฏู ุงุดุง ุฏุงุฑูุฏ:

1. **ุฑุงุจุทโูุง IComparable** (`IComparable` ู `IComparable<T>`)
2. **ุงูพุฑุงุชูุฑูุง < ู >**

* ุฑุงุจุทโูุง IComparable ุจุฑุง ุงูฺฏูุฑุชูโูุง ูุฑุชุจโุณุงุฒ ุนููู ุงุณุชูุงุฏู ูโุดููุฏ.
* ุงูพุฑุงุชูุฑูุง < ู > ุจุดุชุฑ ุจุฑุง ุงููุงุน ุนุฏุฏ ูุณุชูุฏ ู statically resolved ูุณุชูุฏุ ุจูุงุจุฑุงู ุณุฑุน ู ููุงุณุจ ูุญุงุณุจุงุช ุณูฺฏู ูโุดููุฏ.
* ููฺูู ูพุฑูุชฺฉูโูุง ูุงุจู ูพฺฉุฑุจูุฏ ุชุฑุชุจโุฏู ุงุฒ ุทุฑู **IComparer** ูุฑุงูู ุดุฏูโุงูุฏ (ูุตู 7).

#### IComparable ู IComparable<T>

```csharp
public interface IComparable       { int CompareTo(object other); }
public interface IComparable<in T> { int CompareTo(T other); }
```

* `CompareTo` ุฑูุชุงุฑ ุฒุฑ ุฑุง ุฏุงุฑุฏ:

  * ุงฺฏุฑ `a` ุจุนุฏ ุงุฒ `b` ุจุงุดุฏ โ ูุซุจุช
  * ุงฺฏุฑ `a` ุจุง `b` ุจุฑุงุจุฑ ุจุงุดุฏ โ ุตูุฑ
  * ุงฺฏุฑ `a` ูุจู ุงุฒ `b` ุจุงุดุฏ โ ููู

ูุซุงู:

```csharp
Console.WriteLine("Beck".CompareTo("Anne"));   // 1
Console.WriteLine("Beck".CompareTo("Beck"));   // 0
Console.WriteLine("Beck".CompareTo("Chris"));  // -1
```

* ุจุดุชุฑ **base types** ูุฑ ุฏู ุงู ุฑุงุจุทโูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ.
* ููฺฏุงู ุชุนุฑู custom types ูู ูโุชูุงู ุงู ุฑุงุจุทโูุง ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏ ุชุง ูุฑุชุจโุณุงุฒ ููุน ุดูุง ุจู ุฑุงุญุช ุงูุฌุงู ุดูุฏ.

### IComparable ุฏุฑ ููุงุจู Equals

ููุช ฺฉ ููุน ูู `Equals` ุฑุง override ฺฉุฑุฏู ู ูู ุฑุงุจุทโูุง `IComparable` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุงูุชุธุงุฑ ุฏุงุฑู ฺฉู:

* ุงฺฏุฑ `Equals` ุจุฑุงุจุฑ ุจูุฏู ุฏู ุด ุฑุง ฺฏุฒุงุฑุด ุฏูุฏ โ `CompareTo` ุจุงุฏ 0 ุจุงุฒฺฏุฑุฏุงูุฏ.
* ุงูุง ุงฺฏุฑ `Equals` ุจุฑุงุจุฑ ุจูุฏู ุฑุง ุฑุฏ ฺฉูุฏ โ `CompareTo` ูโุชูุงูุฏ ูุฑ ุนุฏุฏ ุจุงุฒฺฏุฑุฏุงูุฏุ ููุท ุจุงุฏ **ุฏุงุฎู ุณุงุฒฺฏุงุฑ ุจุงุดุฏ**.

ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุจุฑุงุจุฑ ูโุชูุงูุฏ ุณุฎุชโฺฏุฑุชุฑ ุงุฒ ุชุฑุชุจ ุจุงุดุฏุ ุงูุง ุชุฑุชุจ ููโุชูุงูุฏ ุณุฎุชโฺฏุฑุชุฑ ุงุฒ ุจุฑุงุจุฑ ุจุงุดุฏ.

#### ูุซุงู System.String

* `Equals` ู `==` ุงุฒ **ููุงุณู ordinal** ุงุณุชูุงุฏู ูโฺฉููุฏ (ููุงุฏุฑ Unicode ูุฑ ฺฉุงุฑุงฺฉุชุฑ).
* `CompareTo` ุงุฒ **ููุงุณู ูุงุจุณุชู ุจู ูุฑููฺฏ** ุงุณุชูุงุฏู ูโฺฉูุฏุ ูพุณ ููฺฉู ุงุณุช ฺูุฏู ฺฉุงุฑุงฺฉุชุฑ ุฏุฑ ฺฉ ูููุนุช ูุฑุชุจโุณุงุฒ ูุฑุงุฑ ุจฺฏุฑูุฏ.

> ุชูุฌู: ุงฺฏุฑ ุจุฎูุงูุฏ ูุธู ูุฑุชุจโุณุงุฒ ูุชูุงูุช ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ุงุฒ **IComparer ูุงุจู ูพฺฉุฑุจูุฏ** ุงุณุชูุงุฏู ฺฉูุฏ (ูุซูุงู ููุงุณู ุจุฏูู ุญุณุงุณุช ุจู ุญุฑูู ฺฉูฺฺฉ/ุจุฒุฑฺฏ).

---

### ูพุงุฏูโุณุงุฒ IComparable ู ุงูพุฑุงุชูุฑูุง < ู >

* ููุช `CompareTo` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ ุฎุท ุงูู ุขู ุจูุชุฑ ุงุณุช ููุดู ฺูู ุจุงุดุฏ:

```csharp
if (Equals(other)) return 0;
```

* ุจุนุฏ ุงุฒ ุขูุ ูโุชูุงูุฏ ูุฑ ููุฏุงุฑ ุณุงุฒฺฏุงุฑ ุจุฑฺฏุฑุฏุงูุฏ.

* ุงูพุฑุงุชูุฑูุง `<` ู `>` ูุนูููุงู ุจุง `IComparable` ุณุงุฒฺฏุงุฑ ูุณุชูุฏ ู ุงุณุชุงูุฏุงุฑุฏ ุฏุฑ .NET ุงุณุช.

* ุงฺฉุซุฑ ุงููุงุน .NET ฺฉู `IComparable` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏุ `<` ู `>` ุฑุง overload ููโฺฉููุฏ.

#### ุดุฑุงุท ฺฉู `<` ู `>` overload ูโุดููุฏ

1. ููุน ููููู ูู ุงุฒ "ุจุฒุฑฺฏุชุฑ ุงุฒ" ู "ฺฉูฺฺฉุชุฑ ุงุฒ" ุฏุงุฑุฏ.
2. ุชููุง ฺฉ ุฑูุด ุง ุฒููู ุจุฑุง ููุงุณู ูุฌูุฏ ุฏุงุฑุฏ.
3. ูุชุฌู ููุงุณู ูุณุชูู ุงุฒ ูุฑููฺฏ ุงุณุช.

> ูุซุงู: `System.String` ูุฑููฺฏโูุญูุฑ ุงุณุช ู ุจูุงุจุฑุงู `<` ู `>` ุฑุง overload ููโฺฉูุฏ.

---

### ูุซุงู struct Note

```csharp
public struct Note : IComparable<Note>, IEquatable<Note>, IComparable
{
    int _semitonesFromA;
    public int SemitonesFromA => _semitonesFromA;

    public Note(int semitonesFromA)
    {
        _semitonesFromA = semitonesFromA;
    }

    // IComparable<Note>
    public int CompareTo(Note other)
    {
        if (Equals(other)) return 0;  // Fail-safe
        return _semitonesFromA.CompareTo(other._semitonesFromA);
    }

    // IComparable
    int IComparable.CompareTo(object other)
    {
        if (!(other is Note)) throw new InvalidOperationException("CompareTo: Not a note");
        return CompareTo((Note)other);
    }

    // ุงูพุฑุงุชูุฑูุง < ู >
    public static bool operator <(Note n1, Note n2) => n1.CompareTo(n2) < 0;
    public static bool operator >(Note n1, Note n2) => n1.CompareTo(n2) > 0;

    // IEquatable<Note>
    public bool Equals(Note other) => _semitonesFromA == other._semitonesFromA;

    public override bool Equals(object other)
    {
        if (!(other is Note)) return false;
        return Equals((Note)other);
    }

    public override int GetHashCode() => _semitonesFromA.GetHashCode();

    public static bool operator ==(Note n1, Note n2) => Equals(n1, n2);
    public static bool operator !=(Note n1, Note n2) => !(n1 == n2);
}
```

โ ูฺฉุงุช ููู:

* ุงุณุชูุงุฏู ุงุฒ `Equals` ุฏุฑ `CompareTo` ุชุถูู ูโฺฉูุฏ ฺฉู ููุงูู ุชุฑุชุจ ู ุจุฑุงุจุฑ ุณุงุฒฺฏุงุฑ ูุณุชูุฏ.
* ุงูพุฑุงุชูุฑูุง `<` ู `>` ุจุฑุงุณุงุณ `CompareTo` ุชุนุฑู ุดุฏูโุงูุฏ.
* `IEquatable<T>` ุจุฑุง ุณุฑุนุช ู ุฌููฺฏุฑ ุงุฒ boxing ุจุฑุง value types ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช.
* `GetHashCode` ู `Equals` ุจุฑุง ุณุงุฒฺฏุงุฑ ู ุงุณุชูุงุฏู ุฏุฑ collectionูุง override ุดุฏูโุงูุฏ.

### ฺฉูุงุณโูุง ฺฉูฺฉ (Utility Classes) ุฏุฑ .NET

#### **Console**

ฺฉูุงุณ ุงุณุชุงุชฺฉ `Console` ุจุฑุง ูุฏุฑุช ูุฑูุฏ/ุฎุฑูุฌ ุฏุฑ ุจุฑูุงููโูุง ฺฉูุณูู ุงุณุชูุงุฏู ูโุดูุฏ:

* **ูุฑูุฏ:** ุงุฒ ุตูุญูโฺฉูุฏ ุจุง ูุชุฏูุง `Read`, `ReadKey`, `ReadLine`
* **ุฎุฑูุฌ:** ุจู ูพูุฌุฑู ูุชู ุจุง ูุชุฏูุง `Write`, `WriteLine`

ูฺฺฏโูุง ููุฏ:

* **ูพูุฌุฑู ู ุงูุฏุงุฒูโูุง:** `WindowLeft`, `WindowTop`, `WindowHeight`, `WindowWidth`
* **ุฑูฺฏโูุง:** `ForegroundColor`, `BackgroundColor`
* **ูฺฉุงูโููุง ฺฉูุณูู:** `CursorLeft`, `CursorTop`, `CursorSize`

ูุซุงู:

```csharp
Console.WindowWidth = Console.LargestWindowWidth;
Console.ForegroundColor = ConsoleColor.Green;
Console.Write("test... 50%");
Console.CursorLeft -= 3;
Console.Write("90%"); // test... 90%
```

* `Write` ู `WriteLine` ุงุฒ **string.Format** ูพุดุชุจุงู ูโฺฉููุฏุ ุงูุง ูุฑูุช ูุฑููฺฏ (`CultureInfo`) ุฑุง ููโุชูุงู ุชุบุฑ ุฏุงุฏ ูฺฏุฑ ุงูฺฉู ูุณุชููุงู `string.Format` ุงุณุชูุงุฏู ฺฉูุฏ.
* `Console.Out` ฺฉ `TextWriter` ุจุฑูโฺฏุฑุฏุงูุฏุ ฺฉู ูโุชูุงู ุขู ุฑุง ุจู ูุชุฏ ุฏุงุฏ ฺฉู `TextWriter` ูโุฎูุงูุฏ.
* ูุฑูุฏ ู ุฎุฑูุฌ ฺฉูุณูู ุฑุง ูโุชูุงู ุจุง `Console.SetIn` ู `Console.SetOut` ุชุบุฑ ูุณุฑ ุฏุงุฏ.

---

#### **Environment**

ฺฉูุงุณ ุงุณุชุงุชฺฉ `System.Environment` ุงุทูุงุนุงุช ููุฏ ุฏุฑุจุงุฑู ุณุณุชู ูุฑุงูู ูโฺฉูุฏ:

* **ูุงูโูุง ู ูพูุดูโูุง:** `CurrentDirectory`, `SystemDirectory`, `CommandLine`
* **ฺฉุงููพูุชุฑ ู OS:** `MachineName`, `ProcessorCount`, `OSVersion`, `NewLine`
* **ฺฉุงุฑุจุฑ:** `UserName`, `UserInteractive`, `UserDomainName`
* **ุชุดุฎุต ู ุฏุจุงฺฏ:** `TickCount`, `StackTrace`, `WorkingSet`, `Version`

ุงูฺฉุงู ุฏุณุชุฑุณ ุจู **ูุชุบุฑูุง ูุญุท**:
`GetEnvironmentVariable`, `GetEnvironmentVariables`, `SetEnvironmentVariable`

* `ExitCode` ุจุฑุง ุชูุธู ฺฉุฏ ุจุงุฒฺฏุดุช ุจุฑูุงูู
* `FailFast` ุจุฑุง ุฎุงุชูู ููุฑ ุจุฑูุงูู ุจุฏูู ุงูุฌุงู cleanup

> ุฏุฑ Windows Store appsุ ุชุนุฏุงุฏ ุงุนุถุง `Environment` ูุญุฏูุฏ ุงุณุช.

---

#### **Process**

ฺฉูุงุณ `System.Diagnostics.Process` ุจุฑุง ุงุฌุฑุง ูุฑุขูุฏูุง ู ุชุนุงูู ุจุง ุขููุง:

* ุณุงุฏูโุชุฑู ุดฺฉู ุงุฌุฑุง:

```csharp
Process.Start("notepad.exe");
Process.Start("notepad.exe", "e:\\file.txt");
```

* ุงูุนุทุงูโูพุฐุฑุชุฑู ุดฺฉู ุจุง `ProcessStartInfo` ุจุฑุง ฺฏุฑูุชู ูุฑูุฏ/ุฎุฑูุฌ ู ุฎุทุง:

```csharp
ProcessStartInfo psi = new ProcessStartInfo
{
    FileName = "cmd.exe",
    Arguments = "/c ipconfig /all",
    RedirectStandardOutput = true,
    UseShellExecute = false
};
Process p = Process.Start(psi);
string result = p.StandardOutput.ReadToEnd();
Console.WriteLine(result);
```

* ุงฺฏุฑ ุฎุฑูุฌ ู ุฎุทุง ุฑุง redirect ฺฉูุฏุ ุจุงุฏ ููุฒูุงู ุจุฎูุงูุฏ ุชุง ุชุฑุชุจ ุฏุงุฏูโูุง ูุดฺฉูโุณุงุฒ ูุดูุฏ.
* ุฑุงูโุญู: ุฎูุงูุฏู ฺฉ ุงุฒ ุฌุฑุงูโูุง ุจู ุตูุฑุช **ุบุฑููุฒูุงู** ู ุงุณุชูุงุฏู ุงุฒ eventูุง:

```csharp
(string output, string errors) Run(string exePath, string args = "")
{
    using var p = Process.Start(new ProcessStartInfo(exePath, args)
    {
        RedirectStandardOutput = true,
        RedirectStandardError = true,
        UseShellExecute = false
    });

    var errors = new StringBuilder();
    p.ErrorDataReceived += (sender, errorArgs) =>
    {
        if (errorArgs.Data != null) errors.AppendLine(errorArgs.Data);
    };
    p.BeginErrorReadLine();

    string output = p.StandardOutput.ReadToEnd();
    p.WaitForExit();
    return (output, errors.ToString());
}
```

* ุจุฑุง **Windows Store apps** ููโุชูุงู ุจูโุทูุฑ ูุณุชูู Process ุงุฌุงุฏ ฺฉุฑุฏุ ุจุงุฏ ุงุฒ `Windows.System.Launcher` ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ูุงู ุง URI ุงุณุชูุงุฏู ฺฉูุฏ.

---

### **UseShellExecute**

`UseShellExecute` ูุดุฎุต ูโฺฉูุฏ ฺฉู ฺฺฏููู CLR ฺฉ ูุฑุขูุฏ ุฑุง ุดุฑูุน ฺฉูุฏ.

* **ูพุดโูุฑุถ:**

  * ุฏุฑ **.NET 5+ ู .NET Core:** `false`
  * ุฏุฑ **.NET Framework:** `true`

> ุงู ุชูุงูุช ฺฉ ุชุบุฑ ูุงุณุงุฒฺฏุงุฑ (breaking change) ุงุณุช ู ููฺฏุงู ููุงุฌุฑุช ฺฉุฏ ุงุฒ .NET Framework ุจุงุฏ ุจุฑุฑุณ ุดูุฏ.

---

#### **ุจุง `UseShellExecute = true`:**

* ูโุชูุงู ูุณุฑ ฺฉ ูุงู ุง ุณูุฏ (ูู ููุท ฺฉ ุงุฌุฑุง) ุฑุง ูุดุฎุต ฺฉุฑุฏ ู ุณุณุชู ุนุงูู ุขู ุฑุง ุจุง ุจุฑูุงูู ูุฑุชุจุท ุจุงุฒ ูโฺฉูุฏ.
* ูโุชูุงู URL ูุดุฎุต ฺฉุฑุฏ ู ูุฑูุฑฺฏุฑ ูพุดโูุฑุถ ุณุณุชู ุจุงุฒ ูโุดูุฏ.
* (ููุฏูุฒ ููุท) ูโุชูุงู **Verb** ูุดุฎุต ฺฉุฑุฏุ ูุซูุงู `"runas"` ุจุฑุง ุงุฌุฑุง ุจุฑูุงูู ุจุง ุณุทุญ ุฏุณุชุฑุณ ุงุฏูู.

**ูุญุฏูุฏุช:** ููโุชูุงู ุฌุฑุงูโูุง ูุฑูุฏ/ุฎุฑูุฌ ุฑุง redirect ฺฉุฑุฏ.

> ุงฺฏุฑ ูุงุฒ ุจู redirect ุจุงุดุฏุ ูโุชูุงูุฏ `UseShellExecute = false` ู cmd.exe ุจุง `/c` ุงุณุชูุงุฏู ฺฉูุฏ (ูุงููุฏ ูุซุงู ipconfig).

**ุนููฺฉุฑุฏ ุฏุงุฎู:**

* **ููุฏูุฒ:** CLR ุงุฒ `ShellExecute` ุจู ุฌุง `CreateProcess` ุงุณุชูุงุฏู ูโฺฉูุฏ.
* **ูููฺฉุณ:** CLR ุงุฒ `xdg-open`, `gnome-open` ุง `kfmclient` ุงุณุชูุงุฏู ูโฺฉูุฏ.

---

### **AppContext**

ฺฉูุงุณ ุงุณุชุงุชฺฉ `System.AppContext` ุฏู ูฺฺฏ ุงุตู ู ฺูุฏ ูุงุจูุช ูุฏุฑุช ูุถุนุช ุงุฑุงุฆู ูโุฏูุฏ:

* **BaseDirectory:** ูุณุฑ ูพูุดูโุง ฺฉู ุจุฑูุงูู ุงุฒ ุขู ุดุฑูุน ุดุฏู.

  * ฺฉุงุฑุจุฑุฏ: ูพุฏุง ฺฉุฑุฏู ุงุณูุจูโูุง ู ูุงูโูุง ุชูุธูุงุช (`appsettings.json`).
* **TargetFrameworkName:** ูุงู ู ูุณุฎู runtime .NET ูุฏู (ุทุจู `.runtimeconfig.json`).

  * ููฺฉู ุงุณุช ูุฏูโุชุฑ ุงุฒ runtime ูุงูุน ุจุงุดุฏ.

---

#### **ูุฏุฑุช ุณูุฆฺโูุง ูฺฺฏโูุง**

* ฺฉ ุฏฺฉุดูุฑ ุณุฑุงุณุฑ ุจุง ฺฉูุฏ ุฑุดุชูโุง ู ููุฏุงุฑ Boolean ุจุฑุง ฺฉูุชุฑู ูฺฺฏโูุง ูุฑุงูู ูโฺฉูุฏ.
* **ูุนุงูโุณุงุฒ ูฺฺฏ ุชูุณุท ูุตุฑูโฺฉููุฏู ฺฉุชุงุจุฎุงูู:**

```csharp
AppContext.SetSwitch("MyLibrary.SomeBreakingChange", true);
```

* **ุจุฑุฑุณ ูุถุนุช ุณูุฆฺ ุฏุฑ ฺฉุชุงุจุฎุงูู:**

```csharp
bool isDefined, switchValue;
isDefined = AppContext.TryGetSwitch("MyLibrary.SomeBreakingChange", out switchValue);
```

* `TryGetSwitch` **false** ุจุฑูโฺฏุฑุฏุงูุฏ ุงฺฏุฑ ุณูุฆฺ ุชุนุฑู ูุดุฏู ุจุงุดุฏุ ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ุชุง ุชูุงูุช ุจู undefined ู false ูุดุฎุต ุดูุฏ.

> ูฺฉุชู ุทุฑุงุญ: ูพุงุฑุงูุชุฑ `out` ุฏุฑ ุงู API ุถุฑูุฑ ูุณุช ู ุจูุชุฑ ุจูุฏ nullable bool ุจุฑฺฏุฑุฏุงูุฏ ุชุง ููุฏุงุฑ `true`, `false` ุง `null` ุจุฑุง undefined ุฏุงุดุชู ุจุงุดู.
> ูุซุงู ูพุดููุงุฏ:

```csharp
bool switchValue = AppContext.GetSwitch("...") ?? false;
```
