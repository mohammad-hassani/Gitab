---
layout: layout.njk
title: ฺฉูุงุณโูุงุ ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง
---
# ูุตู ุณูู:  ฺฉูุงุณโูุงุ ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ๐๏ธ๐ฆ

ุฏุฑ ุงู ูุตูุ ุจู **ุณุงุฒูุงูโุฏูุ ูุงูุจโุจูุฏ ู ฺฉุงููุชโฺฏุฐุงุฑ ฺฉูุงุณโูุง** ูโูพุฑุฏุงุฒู. ููฺูู ุงุฏ ูโฺฏุฑู ฺฺฏููู **ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ุชูุฒ ุฏุฑ C#** ุจููุณู ฺฉู **ูุงููู ุฏูุชุฑ (Law of Demeter)** ุฑุง ุฑุนุงุช ฺฉููุฏ. ุนูุงูู ุจุฑ ุงูุ ุจุง **ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ุบุฑูุงุจู ุชุบุฑ (Immutable)** ู **ุงูุชุฑูุณโูุง ู ฺฉูุงุณโูุง ฺฉู ูุฌููุนูโูุง ุบุฑูุงุจู ุชุบุฑ ุฑุง ุฏุฑ ูุถุง ูุงู `System.Collections.Immutable` ุชุนุฑู ูโฺฉููุฏ** ุขุดูุง ูโุดูู.

ููุถูุนุงุช ุงุตู ุงู ูุตู ุนุจุงุฑุชโุงูุฏ ุงุฒ:

* ุณุงุฒูุงูโุฏู ฺฉูุงุณโูุง ๐๏ธ
* ฺฉุงููุชโฺฏุฐุงุฑ ุจุฑุง ุชููุฏ ูุณุชูุฏุงุช ๐
* Cohesion ู Coupling โ๏ธ
* ูุงููู ุฏูุชุฑ (Law of Demeter) ๐
* ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏูโุง ุบุฑูุงุจู ุชุบุฑ ๐

---

### ููุงุฑุชโูุง ฺฉู ุฏุฑ ุงู ูุตู ูโุขููุฒุฏ ๐ก

ุจุง ูพุดุฑูุช ุฏุฑ ุงู ูุตูุ ููุงุฑุชโูุง ุฒุฑ ุฑุง ุฎูุงูุฏ ุขููุฎุช:

* **ุณุงุฒูุงูโุฏู ูุคุซุฑ ฺฉูุงุณโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ Namespaceโูุง**.
* **ฺฉูฺฺฉ ู ูุนูุงุฏุงุฑ ฺฉุฑุฏู ฺฉูุงุณโูุง** ุจุง ูพุฑู ุงุฒ ุงุตู **ูุณุฆููุช ูุงุญุฏ (Single Responsibility)**.
* **ููุดุชู ูุณุชูุฏุงุช ุฎูุจ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู** ุจุง ุงุฑุงุฆู ฺฉุงููุชโูุง ฺฉู ุงุจุฒุงุฑูุง ุชููุฏ ูุณุชูุฏุงุช ุฑุง ูพุดุชุจุงู ฺฉููุฏ.
* **ุณูููุช ุฏุฑ ุชุบุฑ ู ุชูุณุนู ุจุฑูุงููโูุง** ุจู ุฏูู **Cohesion ุจุงูุง ู Coupling ูพุงู**.
* **ูพุงุฏูโุณุงุฒ ูุงููู ุฏูุชุฑ ู ุงุณุชูุงุฏู ุงุฒ ุฏุงุฏูโูุง ุบุฑูุงุจู ุชุบุฑ**.

ูพุณ ุจุงุฏ ุงุจุชุฏุง ุจุจูู ฺฺฏููู ูโุชูุงูู ฺฉูุงุณโูุง ุฑุง **ุจูโุตูุฑุช ูุคุซุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ Namespaceโูุง ุณุงุฒูุงูโุฏู ฺฉูู**.

---

### ูพุดโูุงุฒูุง ูู โ๏ธ

ฺฉุฏ ุงู ูุตู ุฑุง ูโุชูุงูุฏ ุฏุฑ GitHub ูุดุงูุฏู ฺฉูุฏ:
[Clean Code in C# โ Chapter 3](https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH03)

---

### ุณุงุฒูุงูโุฏู ฺฉูุงุณโูุง ๐๏ธ

ูฺฺฏ ุจุฑุฌุณุชู ฺฉ ูพุฑูฺู ุชูุฒุ ุฏุงุดุชู **ฺฉูุงุณโูุง ุจูโุฎูุจ ุณุงุฒูุงูโุฏูโุดุฏู** ุงุณุช.

* **ูพูุดูโูุง (Folders)** ุจุฑุง ฺฏุฑููโุจูุฏ ฺฉูุงุณโูุง ฺฉู ุจู ูู ูุฑุชุจุท ูุณุชูุฏ ุงุณุชูุงุฏู ูโุดููุฏ.
* ฺฉูุงุณโูุง ุฏุงุฎู ูพูุดูโูุง ุจุงุฏ **ุฏุฑ Namespaceูุง ูุฑุงุฑ ฺฏุฑูุฏ ฺฉู ุจุง ูุงู ุงุณูุจู ู ุณุงุฎุชุงุฑ ูพูุดูโูุง ูุทุงุจูุช ุฏุงุฑูุฏ**.

ูุฑ **ุงูุชุฑูุณุ ฺฉูุงุณุ ุณุงุฎุชุงุฑ (struct) ู Enum** ุจุงุฏ **ูุงู ููุจุน ุฌุฏุงฺฏุงูู** ุฏุฑ **Namespace ุตุญุญ** ุฏุงุดุชู ุจุงุดุฏ.

* ูุงูโูุง ููุจุน ุจุงุฏ **ุจูโุตูุฑุช ููุทู ุฏุฑ ูพูุดูโูุง ููุงุณุจ ฺฏุฑููโุจูุฏ** ุดููุฏ.
* Namespaceูุง ูุงูโูุง ุจุงุฏ **ุจุง ูุงู ุงุณูุจู ู ุณุงุฎุชุงุฑ ูพูุดูโูุง ูุทุงุจูุช ุฏุงุดุชู ุจุงุดูุฏ**.

ุงุณฺฉุฑูโุดุงุช ุฒุฑุ ุณุงุฎุชุงุฑ ูพูุดูโูุง ู ูุงูโูุง ุชูุฒ ุฑุง ูุดุงู ูโุฏูุฏ:
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/03/Table%203-1.jpeg)
  
</div>

### ุณุงุฒูุงูโุฏู ฺฉูุงุณโูุง ู Namespaceโูุง ๐๏ธ๐ก

ูุฑุงุฑ ุฏุงุฏู ุจุด ุงุฒ ฺฉ **ุงูุชุฑูุณุ ฺฉูุงุณุ struct ุง enum** ุฏุฑ ฺฉ ูุงู ููุจุน **ุงุฏูโ ุฎูุจ ูุณุช**. ุฏูู ุงู ุงูุฑ ุงู ุงุณุช ฺฉู ูพุฏุง ฺฉุฑุฏู ุขุชูโูุง ุฑุง ุฏุดูุงุฑ ูโฺฉูุฏุ ุญุช ุงฺฏุฑ IntelliSense ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ.

ุฏุฑ ุทุฑุงุญ **Namespaceูุง**ุ ุจูุชุฑ ุงุณุช ุงุฒ **Pascal Casing** ุงุณุชูุงุฏู ฺฉูุฏ ู ุชุฑุชุจ ุฒุฑ ุฑุง ุฑุนุงุช ฺฉูุฏ:
**ูุงู ุดุฑฺฉุช โ ูุงู ูุญุตูู โ ูุงู ููุงูุฑ โ ูุงู ุฌูุน ูุคูููโูุง**
ูุซุงู:

```csharp
FakeCompany.Product.Wpf.Feature.Subnamespace {} // ูุดุฎุต ุจุฑุง ูุญุตููุ ููุงูุฑ ู ูฺฺฏ
```

ุดุฑูุน ุจุง **ูุงู ุดุฑฺฉุช** ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุงุฒ ุชุฏุงุฎู Namespaceูุง ุฌููฺฏุฑ ุดูุฏ. ูุซูุงู ุงฺฏุฑ ูู Microsoft ู ูู FakeCompany ฺฉ Namespace ุจู ูุงู System ุฏุงุดุชู ุจุงุดูุฏุ ูโุชูุงู ุจุง ูุงู ุดุฑฺฉุช ุชุดุฎุต ุฏุงุฏ ฺฉุฏุงู System ูุฏูุธุฑ ุงุณุช.

ฺฉุฏูุง ฺฉู ูุงุจูุช ุงุณุชูุงุฏู ูุฌุฏุฏ ุฏุฑ ฺูุฏ ูพุฑูฺู ุฑุง ุฏุงุฑูุฏุ ุจูุชุฑ ุงุณุช ุฏุฑ **Assemblies ุฌุฏุงฺฏุงูู** ูุฑุงุฑ ฺฏุฑูุฏ:

```csharp
FakeCompany.Wpf.Feature.Subnamespace {} /* ูุดุฎุต ุจุฑุง ููุงูุฑ ู ูฺฺฏุ ูุงุจู ุงุณุชูุงุฏู ุฏุฑ ฺูุฏ ูุญุตูู */
```

ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ุชุณุชโูุง ุฏุฑ ฺฉุฏ (ูุซู **Test-Driven Development (TDD)**)ุ ุจูุชุฑ ุงุณุช ฺฉูุงุณโูุง ุชุณุช ุฑุง ุฏุฑ **Assemblies ุฌุฏุงฺฏุงูู** ูฺฏู ุฏุงุฑุฏ. ูุงู Assembly ุชุณุช ุจุงุฏ **ูุงู Assembly ุงุตู + Tests** ุจุงุดุฏ:

```csharp
FakeCompany.Core.Feature {} /* ุจุฏูู ูุงุจุณุชฺฏ ุจู ููุงูุฑ ู ูุดุฎุต ุจุฑุง ูฺฺฏุ ูุงุจู ุงุณุชูุงุฏู ุฏุฑ ฺูุฏ ูุญุตูู */
```

ูุฑฺฏุฒ ุชุณุชโูุง ูุฑุจูุท ุจู Assemblyูุง ูุฎุชูู ุฑุง ุฏุฑ ฺฉ Assembly ุชุณุช ูุฑุงุฑ ูุฏูุฏุ ููุดู ุขูโูุง ุฑุง ุฌุฏุง ูฺฏู ุฏุงุฑุฏ.

ุนูุงูู ุจุฑ ุงูุ **Namespace ู ููุน (Type)** ูุจุงุฏ ูุงู ฺฉุณุงู ุฏุงุดุชู ุจุงุดูุฏุ ุฒุฑุง ููฺฉู ุงุณุช ุจุงุนุซ **ุชุฏุงุฎู ฺฉุงููพุงูุฑ** ุดูุฏ. ููฺฏุงู ุฌูุนโุจูุฏ Namespaceูุงุ ูุงุฒ ุจู ุฌูุน ุจุณุชู ูุงู ุดุฑฺฉุชโูุงุ ูุญุตููุงุช ู ูุฎููโูุง ูุณุช.

**ุฎูุงุตู ููุงูู ุณุงุฒูุงูโุฏู ฺฉูุงุณโูุง:**

1. ุงุฒ **Pascal Casing** ุจุง ุชุฑุชุจ ูุงู ุดุฑฺฉุชุ ูุญุตููุ ููุงูุฑ ู ูุงู ุฌูุน ูุคูููโูุง ุงุณุชูุงุฏู ฺฉูุฏ.
2. ุขุชูโูุง ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุฑุง ุฏุฑ **Assemblies ุฌุฏุงฺฏุงูู** ูุฑุงุฑ ุฏูุฏ.
3. ุงุฒ ฺฉุณุงู ุจูุฏู ูุงู **Namespace ู Type** ูพุฑูุฒ ฺฉูุฏ.
4. ูุงูโูุง ุดุฑฺฉุช ู ูุญุตูู ู ูุฎููโูุง ุฑุง ุฌูุน ูุจูุฏุฏ.

---

### ูุณุฆููุช ฺฉูุงุณโูุง ๐ฏ

ฺฉ ฺฉูุงุณ ุจุงุฏ **ููุท ฺฉ ูุณุฆููุช** ุฏุงุดุชู ุจุงุดุฏ.

**ูุณุฆููุช** ฺฉุงุฑ ุงุณุช ฺฉู ุจู ฺฉูุงุณ ูุงฺฏุฐุงุฑ ุดุฏู ุงุณุช. ุฏุฑ ุงุตูู **SOLID**ุ ุญุฑู **S** ุจู **Single Responsibility Principle (SRP)** ุงุดุงุฑู ุฏุงุฑุฏ. ุทุจู ุงู ุงุตูุ ฺฉ ฺฉูุงุณ ุจุงุฏ **ููุท ุจุฑ ฺฉ ุฌูุจู ุงุฒ ูฺฺฏ ููุฑุฏ ูพุงุฏูโุณุงุฒ ุชูุฑฺฉุฒ ฺฉูุฏ** ู ูุณุฆููุช ุขู ุฌูุจู ุจูโุทูุฑ ฺฉุงูู ุฏุฑ ฺฉูุงุณ ูุญุตูุฑ ุดูุฏ. ุจูุงุจุฑุงูุ ูุฑฺฏุฒ ูุจุงุฏ ุจุด ุงุฒ ฺฉ ูุณุฆููุช ุจู ฺฉ ฺฉูุงุณ ูุงฺฏุฐุงุฑ ุดูุฏ.

ูุซุงู ููุถ SRP:

```csharp
public class MultipleResponsibilities
{
    public string DecryptString(string text, SecurityAlgorithm algorithm) { /* ... */ }
    public string EncryptString(string text, SecurityAlgorithm algorithm) { /* ... */ }
    public string ReadTextFromFile(string filename) { /* ... */ }
    public string SaveTextToFile(string text, string filename) { /* ... */ }
}
```

ุฏุฑ ฺฉูุงุณ ุจุงูุงุ **ูุธุงู ุฑูุฒูฺฏุงุฑ** ุจุง ูุชุฏูุง `DecryptString` ู `EncryptString` ู **ุฏุณุชุฑุณ ุจู ูุงู** ุจุง ูุชุฏูุง `ReadTextFromFile` ู `SaveTextToFile` ุชุฑฺฉุจ ุดุฏูโุงูุฏ. ุงู ฺฉูุงุณ **ุงุตู SRP ุฑุง ููุถ ูโฺฉูุฏ**.

---

### ุชูฺฉฺฉ ฺฉูุงุณโูุง ุจุฑุง ุฑุนุงุช SRP โ๏ธ

ฺฉูุงุณ ุฑุง ุจู ุฏู ฺฉูุงุณ ุฌุฏุงฺฏุงูู ุชูุณู ูโฺฉูู: ฺฉ ุจุฑุง **ุฑูุฒูฺฏุงุฑ** ู ุฏฺฏุฑ ุจุฑุง **ุฏุณุชุฑุณ ุจู ูุงู**:

```csharp
namespace FakeCompany.Core.Security
{
    public class Cryptography
    {
        public string DecryptString(string text, SecurityAlgorithm algorithm) { /* ... */ }
        public string EncryptString(string text, SecurityAlgorithm algorithm) { /* ... */ }
    }
}
```

ุจุง ุงู ฺฉุงุฑุ **ฺฉุฏ ุฑูุฒูฺฏุงุฑ ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ** ุจุฑุง ุฑุดุชูโูุง ุฏุฑ ูุญุตููุงุช ู ููุงูุฑโูุง ูุฎุชูู ูโุดูุฏ ู ฺฉูุงุณ `Cryptography` ุจุง **SRP ูุทุงุจูุช ุฏุงุฑุฏ**.

ูพุงุฑุงูุชุฑ `SecurityAlgorithm` ุฏุฑ ฺฉูุงุณ `Cryptography` ฺฉ **enum** ุงุณุช ู ุฏุฑ **ูุงู ููุจุน ุฌุฏุงฺฏุงูู** ูุฑุงุฑ ุฏุงุฑุฏ ุชุง ฺฉุฏ **ุชูุฒุ ูููุงู ู ุณุงุฒูุงูโุฏู ุดุฏู** ุจุงู ุจูุงูุฏ:

```csharp
using System;

namespace FakeCompany.Core.Security
{
    [Flags]
    public enum SecurityAlgorithm
    {
        Aes,
        AesCng,
        MD5,
        SHA5
    }
}
```

---

### ฺฉูุงุณ TextFile ู ุฑุนุงุช SRP ๐๏ธ

ฺฉูุงุณ ุฒุฑ ูุฒ ูุทุงุจู SRP ุทุฑุงุญ ุดุฏู ู **ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ** ุงุณุช:

```csharp
namespace FakeCompany.Core.FileSystem
{
    public class TextFile
    {
        public string ReadTextFromFile(string filename) { /* ... */ }
        public string SaveTextToFile(string text, string filename) { /* ... */ }
    }
}
```

ุงู ฺฉูุงุณ ุฏุฑ Namespace ููุงุณุจ **core filesystem** ูุฑุงุฑ ุฏุงุฑุฏ ู ูโุชูุงู ุขู ุฑุง ุฏุฑ ูุญุตููุงุช ู ููุงูุฑโูุง ูุฎุชูู ุงุณุชูุงุฏู ฺฉุฑุฏ.

---

ุฏุฑ ุงุฏุงููุ ุจู **ฺฉุงููุชโฺฏุฐุงุฑ ฺฉูุงุณโูุง** ุจุฑุง ฺฉูฺฉ ุจู ุณุงุฑ ุชูุณุนูโุฏููุฏฺฏุงู ูโูพุฑุฏุงุฒู.

### ฺฉุงููุชโฺฏุฐุงุฑ ุจุฑุง ุชููุฏ ูุณุชูุฏุงุช ๐๐

ูุณุชูุฏุณุงุฒ ฺฉุฏ ููุจุน ููุดู ฺฉ ุงุฏูโ ุฎูุจ ุงุณุชุ ฺู ูพุฑูฺู ุฏุงุฎู ุจุงุดุฏ ู ฺู ูุฑูโุงูุฒุงุฑ ฺฉู ูุฑุงุฑ ุงุณุช ุชูุณุท ุณุงุฑ ุชูุณุนูโุฏููุฏฺฏุงู ุงุณุชูุงุฏู ุดูุฏ. ูพุฑูฺูโูุง ุฏุงุฎู ุจู ุฏูู **ุชุบุฑุงุช ูุฏุงูู ุชูุณุนูโุฏููุฏฺฏุงู** ู ุงุบูุจ **ูุณุชูุฏุณุงุฒ ุถุนู ุง ฺฉู** ุฏฺุงุฑ ูุดฺฉู ูโุดููุฏ ู ุงู ุจุงุนุซ ูโุดูุฏ ุชูุณุนูโุฏููุฏฺฏุงู ุฌุฏุฏ ุฒูุงู ุจุดุชุฑ ุจุฑุง ุงุฏฺฏุฑ ุตุฑู ฺฉููุฏ. ุจุณุงุฑ ุงุฒ APIูุง ุดุฎุต ุซุงูุซ ูุฒ ุจู ุฏูู **ูุณุชูุฏุณุงุฒ ุถุนู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู** ููููุช ฺูุฏุงู ูพุฏุง ููโฺฉููุฏ ู adopters ุจู ุฏูู ูุงุงูุฏ ุงุฒ ูุณุชูุฏุงุช ูุงูุตุ ุงุณุชูุงุฏู ุงุฒ APIูุง ุฑุง ุฑูุง ูโฺฉููุฏ.

ููุดู ุจูุชุฑ ุงุณุช ฺฉู **ุงุนูุงู ุญู ูุณุฎูโุจุฑุฏุงุฑ (copyright)** ุฑุง ุฏุฑ ุจุงูุง ูุฑ ูุงู ููุจุน ุฏุฑุฌ ฺฉูุฏ ู ุจุฑ ุฑู **namespaceูุงุ interfaceูุงุ ฺฉูุงุณโูุงุ enumูุงุ structูุงุ ูุชุฏูุง ู propertyูุง** ฺฉุงููุชโฺฏุฐุงุฑ ุฏุงุดุชู ุจุงุดุฏ.

ฺฉุงููุชโูุง copyright ุจุงุฏ **ุฏุฑ ุจุงูุง ูุงู ููุจุน ู ุจุงูุง using statements** ูุฑุงุฑ ฺฏุฑูุฏ ู ุจู ุตูุฑุช ฺฉ ฺฉุงููุช ฺูุฏุฎุท ููุดุชู ุดููุฏ ฺฉู ุจุง `/*` ุดุฑูุน ู ุจุง `*/` ูพุงุงู ูโุงุจุฏ:

```csharp
/**************************************************************************
********
* Copyright 2019 PacktPub
*
* Permission is hereby granted, free of charge, to any person obtaining a
* copy of this software and associated documentation files (the "Software"), to
* deal in the Software without restriction, including without limitation the
* rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
* sell copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
***************************************************************************/
```

---

### ูุณุชูุฏุณุงุฒ namespace ู ฺฉูุงุณโูุง ุจุง ฺฉุงููุช XML ๐

ุฏุฑ ูุซุงู ุฒุฑ ูโุจูู ฺฉู **namespace** ู **ฺฉูุงุณ** ู ูุชุฏูุง ุจุง ฺฉุงููุช ูุณุชูุฏุณุงุฒ ุดุฏูโุงูุฏ:

```csharp
using System;

/// <summary>
/// The CH3.Core.Security namespace contains fundamental types used
/// for the purpose of implementing application security.
/// </summary>
namespace CH3.Core.Security
{
    /// <summary>
    /// Encrypts and decrypts provided strings based on the selected
    /// algorithm.
    /// </summary>
    public class Cryptography
    {
        /// <summary>
        /// Decrypts a string using the selected algorithm.
        /// </summary>
        /// <param name="text">The string to be decrypted.</param>
        /// <param name="algorithm">The cryptographic algorithm used to decrypt the string.</param>
        /// <returns>Decrypted string</returns>
        public string DecryptString(string text, SecurityAlgorithm algorithm)
        {
            // ...implementation...
            throw new NotImplementedException();
        }

        /// <summary>
        /// Encrypts a string using the selected algorithm.
        /// </summary>
        /// <param name="text">The string to encrypt.</param>
        /// <param name="algorithm">The cryptographic algorithm used to encrypt the string.</param>
        /// <returns>Encrypted string</returns>
        public string EncryptString(string text, SecurityAlgorithm algorithm)
        {
            // ...implementation...
            throw new NotImplementedException();
        }
    }
}
```

ุฏุฑ ุงู ููููู:

* ฺฉุงููุชโูุง ูุณุชูุฏุณุงุฒ ุจุง `///` ุดุฑูุน ูโุดููุฏ ู **ูุณุชููุงู ุจุงูุง ุขุชู ููุฑุฏ ูุธุฑ** ูุฑุงุฑ ุฏุงุฑูุฏ.
* Visual Studio ุจุง ุชุงูพ ุณู ุงุณูุด `///` ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ **ุชฺฏโูุง XML** ุฑุง ุจุฑ ุงุณุงุณ ุฎุท ุฒุฑ ุงุฌุงุฏ ูโฺฉูุฏ.
* ุฏุฑ ูุซุงู ุจุงูุงุ **namespace** ู ฺฉูุงุณ ุชููุง ุฏุงุฑุง `<summary>` ูุณุชูุฏุ ุงูุง ูุชุฏูุง ุดุงูู **summaryุ ุชูุถุญ ูพุงุฑุงูุชุฑูุง ู return** ูุฒ ูุณุชูุฏ.

ุฏุฑ ุงุฏุงููุ ุฌุฏูู ูุฑุจูุท ุจู **ุชฺฏโูุง ูุฎุชูู XML** ฺฉู ูโุชูุงูุฏ ุฏุฑ ฺฉุงููุชโูุง ุงุณุชูุงุฏู ฺฉูุฏุ ุงุฑุงุฆู ูโุดูุฏ.
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/03/Table%203-2.jpeg)
  
</div>

### ฺุณุจูุฏฺฏ (Cohesion) ู ูุงุจุณุชฺฏ (Coupling) โ๏ธ๐

ุฏุฑ ฺฉ ุงุณูุจู C# ุจุง ุทุฑุงุญ ุฎูุจุ ฺฉุฏูุง ุจูโุฏุฑุณุช **ฺฏุฑููโุจูุฏ ูโุดููุฏ**. ุงู ุญุงูุช ุจู **ฺุณุจูุฏฺฏ ุจุงูุง (High Cohesion)** ูุนุฑูู ุงุณุช. ููุช ฺฉุฏูุง ฺฉูุงุฑ ูู ูุฑุงุฑ ูโฺฏุฑูุฏ ฺฉู ุจู ูู ุชุนูู ูุฏุงุฑูุฏุ **ฺุณุจูุฏฺฏ ูพุงู (Low Cohesion)** ุฑุฎ ูโุฏูุฏ.

ููฺููุ ุดูุง ูโุฎูุงูุฏ ฺฉูุงุณโูุง ูุฑุชุจุท ุชุง ุญุฏ ุงูฺฉุงู ูุณุชูู ุจุงุดูุฏ. ูุฑฺู ฺฉ ฺฉูุงุณ ุจุดุชุฑ ุจู ฺฉูุงุณ ุฏฺฏุฑ ูุงุจุณุชู ุจุงุดุฏุ **ูุงุจุณุชฺฏ (Coupling) ุจุดุชุฑ** ุฏุงุฑุฏ ฺฉู ุจู ุขู **ูุงุจุณุชฺฏ ุดุฏุฏ (Tight Coupling)** ฺฏูุชู ูโุดูุฏ. ูุฑฺู ฺฉูุงุณโูุง ูุณุชููโุชุฑ ุจุงุดูุฏุ **ฺุณุจูุฏฺฏ ูพุงู** ู **ูุงุจุณุชฺฏ ฺฉูุชุฑ** ุฏุงุฑู ฺฉู ุจู ุขู **Loose Coupling** ูโฺฏูู.

ุฏุฑ ฺฉ ฺฉูุงุณ ุฎูุจุ ูุฏู ุงู ุงุณุช ฺฉู **ฺุณุจูุฏฺฏ ุจุงูุง ู ูุงุจุณุชฺฏ ฺฉู** ุฏุงุดุชู ุจุงุดู. ุฏุฑ ุงุฏุงูู ูุซุงูโูุง ุงุฒ **ูุงุจุณุชฺฏ ุดุฏุฏ** ู ุณูพุณ **ูุงุจุณุชฺฏ ฺฉู** ุงุฑุงุฆู ูโุดูุฏ.

---

### ูุซุงู ุงุฒ ูุงุจุณุชฺฏ ุดุฏุฏ (Tight Coupling) โ๏ธ

ุฏุฑ ฺฉุฏ ุฒุฑุ ฺฉูุงุณ `TightCouplingA` **encapsulation** ุฑุง ููุถ ูโฺฉูุฏ ู ูุชุบุฑ `_name` ุฑุง ุจูโุทูุฑ ูุณุชูู ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ูโุฏูุฏ. ุงู ูุชุบุฑ ุจุงุฏ **private** ุจุงุดุฏ ู ุชููุง ุงุฒ ุทุฑู **propertyูุง ุง ูุชุฏูุง ฺฉูุงุณ** ุชุบุฑ ฺฉูุฏ. ุงฺฏุฑฺู property `Name` ูุชุฏูุง get ู set ุฑุง ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ูุฑุงูู ูโฺฉูุฏุ ุงูุง ุงู ฺฉุงุฑ ุชูุฑุจุงู ุจโูุงุฏู ุงุณุชุ ุฒุฑุง ุงู ุจุฑุฑุณโูุง ูุงุจู ุฏูุฑ ุฒุฏู ูุณุชูุฏ:

```csharp
using System.Diagnostics;

namespace CH3.Coupling
{
    public class TightCouplingA
    {
        public string _name;
        public string Name
        {
            get { }
            set { }
        }
    }
}
```

ุฏุฑ ฺฉุฏ ุฏฺฏุฑุ ฺฉูุงุณ `TightCouplingB` ฺฉ ููููู ุงุฒ `TightCouplingA` ุงุฌุงุฏ ูโฺฉูุฏ ู **ูุงุจุณุชฺฏ ุดุฏุฏ** ุจู ุฏู ฺฉูุงุณ ุงุฌุงุฏ ูโฺฉูุฏุ ุฒุฑุง ูุณุชููุงู ุจู ูุชุบุฑ `_name` ุฏุณุชุฑุณ ุฏุงุฑุฏ ู ุขู ุฑุง null ูโฺฉูุฏ ู ุณูพุณ ููุฏุงุฑ ุขู ุฑุง ฺุงูพ ูโฺฉูุฏ:

```csharp
using System.Diagnostics;

namespace CH3.Coupling
{
    public class TightCouplingB
    {
        public TightCouplingB()
        {
            TightCouplingA tca = new TightCouplingA();
            tca._name = null;
            Debug.WriteLine("Name is " + tca._name);
        }
    }
}
```

---

### ูุซุงู ุงุฒ ูุงุจุณุชฺฏ ฺฉู (Loose Coupling) โ

ุฏุฑ ุงู ูุซุงูุ ุฏู ฺฉูุงุณ ุฏุงุฑู: `LooseCouplingA` ู `LooseCouplingB`.

* ฺฉูุงุณ `LooseCouplingA` ฺฉ **ููุฏ private ุจู ูุงู `_name`** ุฏุงุฑุฏ ู ููุฏุงุฑ ุขู ุงุฒ ุทุฑู ฺฉ property ุนููู ุชูุธู ูโุดูุฏ.
* ฺฉูุงุณ `LooseCouplingB` ฺฉ ููููู ุงุฒ `LooseCouplingA` ุงุฌุงุฏ ูโฺฉูุฏ ู ุงุฒ ุทุฑู property `Name` ุจู ููุฏุงุฑ ุขู ุฏุณุชุฑุณ ูพุฏุง ูโฺฉูุฏ. ุงุฒ ุขูุฌุง ฺฉู ููุฏ `_name` ูุณุชููุงู ูุงุจู ุฏุณุชุฑุณ ูุณุชุ ุจุฑุฑุณโูุง ุฏุฑ ููฺฏุงู get ู set ุงุนูุงู ูโุดููุฏ.

ฺฉุฏ ููููู `LooseCouplingA`:

```csharp
using System.Diagnostics;

namespace CH3.Coupling
{
    public class LooseCouplingA
    {
        private string _name;
        private readonly string _stringIsEmpty = "String is empty";
        public string Name
        {
            get
            {
                if (_name.Equals(string.Empty))
                    return _stringIsEmpty;
                else
                    return _name;
            }
            set
            {
                if (value.Equals(string.Empty))
                    Debug.WriteLine("Exception: String length must be greater than zero.");
            }
        }
    }
}
```

ฺฉุฏ ููููู `LooseCouplingB`:

```csharp
using System.Diagnostics;

namespace CH3.Coupling
{
    public class LooseCouplingB
    {
        public LooseCouplingB()
        {
            LooseCouplingA lca = new LooseCouplingA();
            lca = null;
            Debug.WriteLine($"Name is {lca.Name}");
        }
    }
}
```

ุฏุฑ ุงูุฌุงุ `LooseCouplingB` ููโุชูุงูุฏ ูุณุชููุงู ุจู ููุฏ `_name` ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ ู ุจูุงุจุฑุงู ุชุบุฑุงุช ุงุฒ ุทุฑู property ุงูุฌุงู ูโุดูุฏ.

---

ุจุง ุงู ูุซุงูโูุงุ **ูุงุจุณุชฺฏ ุดุฏุฏ ู ฺฉู** ุฑุง ูููุฏู ู ุงุฏ ฺฏุฑูุชู ฺฉู ฺฺฏููู ุงุฒ ฺฉุฏูุง ุจุง ูุงุจุณุชฺฏ ุฒุงุฏ ุงุฌุชูุงุจ ฺฉูู ู ฺฉุฏูุง ุจุง ูุงุจุณุชฺฏ ฺฉู ุจููุณู.

ุฏุฑ ุงุฏุงููุ ุจู ุจุฑุฑุณ **ฺุณุจูุฏฺฏ ูพุงู ู ฺุณุจูุฏฺฏ ุจุงูุง** ุฎูุงูู ูพุฑุฏุงุฎุช.

### ูุซุงู ุงุฒ ฺุณุจูุฏฺฏ ูพุงู (Low Cohesion) โ๏ธ

ููุช ฺฉ ฺฉูุงุณ ุจุด ุงุฒ ฺฉ ูุณุฆููุช ุฏุงุดุชู ุจุงุดุฏุ ุจู ุขู **ฺฉูุงุณ ุจุง ฺุณุจูุฏฺฏ ูพุงู** ฺฏูุชู ูโุดูุฏ. ุฏุฑ ูุซุงู ุฒุฑุ ฺฉูุงุณ `LowCohesion` ฺูุฏู ูุณุฆููุช ุฏุงุฑุฏ:

```csharp
namespace CH3.Cohesion
{
    public class LowCohesion
    {
        public void ConnectToDatasource() { }
        public void ExtractDataFromDataSource() { }
        public void TransformDataForReport() { }
        public void AssignDataAndGenerateReport() { }
        public void PrintReport() { }
        public void CloseConnectionToDataSource() { }
    }
}
```

ูุดุฎุต ุงุณุช ฺฉู ุงู ฺฉูุงุณ ุญุฏุงูู ุณู ูุณุฆููุช ูุฎุชูู ุฏุงุฑุฏ:

1. ุงุชุตุงู ุจู ุฏุชุงุจุณ ู ูุทุน ุงุชุตุงู ุงุฒ ุขู
2. ุงุณุชุฎุฑุงุฌ ุฏุงุฏูโูุง ู ุขูุงุฏูโุณุงุฒ ุจุฑุง ฺฏุฒุงุฑุด
3. ุชููุฏ ฺฏุฒุงุฑุด ู ฺุงูพ ุขู

ุงู ุณุงุฎุชุงุฑ ุจู ูุถูุญ **ุงุตู Single Responsibility Principle (SRP)** ุฑุง ููุถ ูโฺฉูุฏ. ุจูุงุจุฑุงู ูุงุฒ ุงุณุช ฺฉูุงุณ ุฑุง ุจู ฺูุฏ ฺฉูุงุณ ฺฉูฺฺฉโุชุฑ ุชูุณู ฺฉูู ฺฉู ูุฑ ฺฉุฏุงู ฺฉ ูุณุฆููุช ุฏุงุฑูุฏ.

---

### ูุซุงู ุงุฒ ฺุณุจูุฏฺฏ ุจุงูุง (High Cohesion) โ

ุฏุฑ ุงู ูุซุงูุ ฺฉูุงุณ `LowCohesion` ุจู ุณู ฺฉูุงุณ ุฌุฏุงฺฏุงูู ุชูุณู ุดุฏู ฺฉู ูุฑ ฺฉุฏุงู **ฺฉ ูุณุฆููุช ูุดุฎุต** ุฏุงุฑูุฏ: `Connection`ุ `DataProcessor` ู `ReportGenerator`.

#### ฺฉูุงุณ Connection

ุงู ฺฉูุงุณ ุชููุง ูุชุฏูุง ูุฑุชุจุท ุจุง ุงุชุตุงู ุจู ุฏุชุงุจุณ ุฑุง ุฏุงุฑุฏ:

```csharp
namespace CH3.Cohesion
{
    public class Connection
    {
        public void ConnectToDatasource() { }
        public void CloseConnectionToDataSource() { }
    }
}
```

ูุงู ฺฉูุงุณ `Connection` ุงุณุช ู ููุท ูุธูู ุงุชุตุงู ุจู ุฏุชุงุจุณ ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏุ ุจูุงุจุฑุงู **ฺุณุจูุฏฺฏ ุจุงูุง ุฏุงุฑุฏ**.

---

#### ฺฉูุงุณ DataProcessor

ุงู ฺฉูุงุณ ุฏู ูุชุฏ ุจุฑุง ูพุฑุฏุงุฒุด ุฏุงุฏูโูุง ุฏุงุฑุฏ: ุงุณุชุฎุฑุงุฌ ุฏุงุฏูโูุง ู ุขูุงุฏูโุณุงุฒ ุขูโูุง ุจุฑุง ฺฏุฒุงุฑุด:

```csharp
namespace CH3.Cohesion
{
    public class DataProcessor
    {
        public void ExtractDataFromDataSource() { }
        public void TransformDataForReport() { }
    }
}
```

ุงู ฺฉูุงุณ ูุฒ ูุซุงู ุฏฺฏุฑ ุงุฒ **ฺุณุจูุฏฺฏ ุจุงูุง** ุงุณุช.

---

#### ฺฉูุงุณ ReportGenerator

ุงู ฺฉูุงุณ ุชููุง ูุชุฏูุง ูุฑุชุจุท ุจุง ุชููุฏ ู ฺุงูพ ฺฏุฒุงุฑุด ุฑุง ุฏุงุฑุฏ:

```csharp
namespace CH3.Cohesion
{
    public class ReportGenerator
    {
        public void AssignDataAndGenerateReport() { }
        public void PrintReport() { }
    }
}
```

ุงู ฺฉูุงุณ ูุฒ **ฺุณุจูุฏฺฏ ุจุงูุง** ุฏุงุฑุฏ ู ูุธูู ูุดุฎุต ู ูุญุฏูุฏ ุงูุฌุงู ูโุฏูุฏ.

---

ุจุง ุจุฑุฑุณ ุณู ฺฉูุงุณ ุจุงูุงุ ูโุจูู ฺฉู ูุฑ ฺฉูุงุณ ููุท ูุชุฏูุง ูุฑุชุจุท ุจุง ูุณุฆููุช ุฎูุฏุด ุฑุง ุฏุงุฑุฏ ู ุจูุงุจุฑุงู **ฺุณุจูุฏฺฏ ุจุงูุง ุฏุงุฑูุฏ**.

ุฏุฑ ุงุฏุงููุ ููุจุช ุจู **ุทุฑุงุญ ฺฉุฏ ุจุฑุง ุชุบุฑูพุฐุฑ (Design for Change)** ูโุฑุณุฏุ ุฌุง ฺฉู ุงุฒ **Interfaceูุง ุจู ุฌุง ฺฉูุงุณโูุง** ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจุชูุงูู ฺฉุฏ ุฑุง ุงุฒ ุทุฑู **Dependency Injection** ู **Inversion of Control** ุจู ุณุงุฒูุฏูโูุง ู ูุชุฏูุง ุชุฒุฑู ฺฉูู.

### ุทุฑุงุญ ุจุฑุง ุชุบุฑ (Design for Change) ๐

ููุช **ุจุฑุง ุชุบุฑ ุทุฑุงุญ ูโฺฉูู**ุ ุจุงุฏ ุชูุฑฺฉุฒ ุฎูุฏ ุฑุง ุงุฒ *ฺุณุช* ุจู *ฺฺฏููู* ุชุบุฑ ุฏูู:

* **ฺุณุช (What):** ูุงุฒููุฏ ฺฉุณุจโูฺฉุงุฑ. ุงู ูุงุฒูุง ุบุงูุจุงู ุชุบุฑ ูโฺฉููุฏ ู ูุฑูโุงูุฒุงุฑ ุจุงุฏ ุงูุนุทุงูโูพุฐุฑ ุจุงุดุฏ ุชุง ุจุชูุงูุฏ ุจูโูููุน ู ุจุง ุจูุฏุฌู ูุดุฎุต ุขูโูุง ุฑุง ุจุฑุขูุฑุฏู ฺฉูุฏ. ฺฉุณุจโูฺฉุงุฑ ุงููุช ุจู ฺฺฏููฺฏ ูพุงุฏูโุณุงุฒ ูุฏุงุฑุฏุ ููุท ุงูุชุธุงุฑ ุฏุงุฑุฏ ูุงุฒูุง ุจูโุทูุฑ ุฏูู ู ุจู ูููุน ุชุญูู ุงุจูุฏ.
* **ฺฺฏููู (How):** ุชูโูุง ูุฑูโุงูุฒุงุฑ ู ุฒุฑุณุงุฎุช ุจู ฺฺฏููฺฏ ูพุงุฏูโุณุงุฒ ูุงุฒูุง ุชูุฌู ุฏุงุฑูุฏ. ูุฑูโุงูุฒุงุฑ ุจุงุฏ ุทูุฑ ุทุฑุงุญ ุดูุฏ ฺฉู ุจู ุชุบุฑุงุช ูุงุฒูุง ูพุงุณุฎ ุฏูุฏ ู ุจุง ุชุบุฑุงุช ูุณุฎูโูุง ูุฑูโุงูุฒุงุฑ ู ุฑูุน ุจุงฺฏโูุง ุง ุงูุฒูุฏู ูฺฺฏโูุง ุฌุฏุฏุ ูุงุจู ูฺฏูุฏุงุฑ ุจุงุดุฏ.

---

### ุจุฑูุงููโููุณ ูุจุชู ุจุฑ ุฑุงุจุท (Interface-Oriented Programming โ IOP) ๐๏ธ

**IOP** ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉุฏ **ฺูุฏุฑุฎุช (polymorphic)** ุจููุณู.

* ุฏุฑ **OOP**ุ ฺูุฏุฑุฎุช ุนู ฺฉูุงุณโูุง ูุฎุชูู ูโุชูุงููุฏ ูพุงุฏูโุณุงุฒโูุง ูุชูุงูุช ุงุฒ ฺฉ **ุงูุชุฑูุณ ูุดุชุฑฺฉ** ุฏุงุดุชู ุจุงุดูุฏ.
* ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุชุฑูุณโูุงุ ูุฑูโุงูุฒุงุฑ ูุงุจู ุชุบุฑ ู ุชูุณุนู ุจุฑุง ุจุฑุขูุฑุฏู ูุงุฒูุง ฺฉุณุจโูฺฉุงุฑ ูโุดูุฏ.

#### ูุซุงู ุงุชุตุงู ุจู ุฏุชุงุจุณ ุจุง ุงูุชุฑูุณ

ูุฑุถ ฺฉูุฏ ุจุฑูุงููโุง ุจุงุฏ ุจู ุฏุชุงุจุณโูุง ูุฎุชูู ูุชุตู ุดูุฏ. ฺุทูุฑ ูโุชูุงู ฺฉุฏ ุฏุชุงุจุณ ุฑุง ุจุฏูู ุชูุฌู ุจู ููุน ุฏุชุงุจุณ ฺฉุณุงู ูฺฏู ุฏุงุดุชุ ูพุงุณุฎ: ุงุณุชูุงุฏู ุงุฒ **ุงูุชุฑูุณ**.

ุงุจุชุฏุง ุงูุชุฑูุณ `IConnection` ุชุนุฑู ูโุดูุฏ:

```csharp
public interface IConnection
{
    void Open();
    void Close();
}
```

ุณูพุณ ฺฉูุงุณโูุง ุงุชุตุงู ุจู MongoDB ู SQL Server ุงู ุงูุชุฑูุณ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ:

```csharp
public class MongoDbConnection : IConnection
{
    public void Open() => Console.WriteLine("Opened MongoDB connection.");
    public void Close() => Console.WriteLine("Closed MongoDB connection.");
}

public class SqlServerConnection : IConnection
{
    public void Open() => Console.WriteLine("Opened SQL Server Connection.");
    public void Close() => Console.WriteLine("Closed SQL Server Connection.");
}
```

ฺฉูุงุณ `Database` ุงูุชุฑูุณ `IConnection` ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ ู ุงุฒ ุทุฑู ุขู ุนููุงุช ุจุงุฒ ู ุจุณุชู ฺฉุฑุฏู ุงุชุตุงู ุฑุง ุงูุฌุงู ูโุฏูุฏ:

```csharp
public class Database
{
    private readonly IConnection _connection;

    public Database(IConnection connection)
    {
        _connection = connection;
    }

    public void OpenConnection() => _connection.Open();
    public void CloseConnection() => _connection.Close();
}
```

#### ุงุณุชูุงุฏู ุงุฒ ุงูุชุฑูุณโูุง ุฏุฑ ุจุฑูุงูู

```csharp
static void Main(string[] args)
{
    var mongoDb = new MongoDbConnection();
    var sqlServer = new SqlServerConnection();

    var db = new Database(mongoDb);
    db.OpenConnection();
    db.CloseConnection();

    db = new Database(sqlServer);
    db.OpenConnection();
    db.CloseConnection();
}
```

**ุฎุฑูุฌ ฺฉูุณูู:**

```
Opened MongoDB connection.
Closed MongoDB connection.
Opened SQL Server Connection.
Closed SQL Server Connection.
```

---

### ูุฒุงุง โ

* **ูุงุจูุช ฺฏุณุชุฑุด:** ุจุฑุง ูพุดุชุจุงู ุงุฒ ุฏุชุงุจุณโูุง ุฌุฏุฏุ ฺฉุงูุณุช ฺฉูุงุณโูุง ุฌุฏุฏ ฺฉู `IConnection` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ุงุถุงูู ฺฉูู.
* **ฺฉุฏ ุชูุฒ ู ูุงุจู ุชุณุช:** ุงุณุชูุงุฏู ุงุฒ **Dependency Injection** ู **Inversion of Control** ุจุงุนุซ ูโุดูุฏ ฺฉูุงุณโูุง **loosely coupled** ู ุฑุงุญุช ูุงุจู ุชุณุช ุจุงุดูุฏ.
* **ุงูุนุทุงูโูพุฐุฑ:** ูุฑูโุงูุฒุงุฑ ูโุชูุงูุฏ ุจุง ุชุบุฑ ูุงุฒูุง ุง ูุณุฎูโูุง ุจุฏูู ุชุบุฑ ฺฉุฏ ููุฌูุฏ ุณุงุฒฺฏุงุฑ ุดูุฏ.

---

๐ก **ุชุฒุฑู ูุงุจุณุชฺฏ ู ูุงุฑููฺฏ ฺฉูุชุฑู (Dependency Injection ู Inversion of Control)**

ุฏุฑ ุฒุจุงู C#ุ ูุง ุชูุงูุง ูพุงุณุฎฺฏู ุจู ูุงุฒูุง ุชุบุฑูพุฐุฑ ูุฑูโุงูุฒุงุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ **Dependency Injection (DI)** ู **Inversion of Control (IoC)** ุฏุงุฑู. ุงู ุฏู ุงุตุทูุงุญ ูุนุงู ูุชูุงูุช ุฏุงุฑูุฏุ ุงูุง ุงุบูุจ ุจูโุทูุฑ ูุชุฏุงูู ุจู ฺฉ ููููู ุจูโฺฉุงุฑ ูโุฑููุฏ.

ุจุง **IoC**ุ ุดูุง ฺฉ ฺุงุฑฺูุจ ุจุฑูุงููโููุณ ูโฺฉูุฏ ฺฉู ูุธุงู ุฑุง ุจุง ูุฑุงุฎูุงู ูุงฺููโูุง ุงูุฌุงู ูโุฏูุฏ. ฺฉ **IoC container** ุจุฑุง ูฺฏูุฏุงุฑ ุซุจุช ูุงฺููโูุง ุงุณุชูุงุฏู ูโุดูุฏ. ุงู ูุงฺููโูุง ููฺฏุงู ุฏุฑุฎูุงุณุช ฺฉุงุฑุจุฑ ุง ุฏุฑุฎูุงุณุช ูพฺฉุฑุจูุฏ ุจุงุฑฺฏุฐุงุฑ ูโุดููุฏ.

**DI** ูุงุจุณุชฺฏโูุง ุฏุงุฎู ฺฉูุงุณโูุง ุฑุง ุญุฐู ูโฺฉูุฏ. ุณูพุณ ุงุดุงุก ูุงุจุณุชู ุชูุณุท ฺฉ ูุฑุงุฎูุงู ุฎุงุฑุฌ **ุชุฒุฑู (injected)** ูโุดููุฏ. ฺฉ **IoC container** ุงุฒ DI ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุงุดุงุก ูุงุจุณุชู ุฑุง ุจู ฺฉ ุดุก ุง ูุชุฏ ุชุฒุฑู ฺฉูุฏ.

ุฏุฑ ุงู ูุตูุ ููุงุจุน ููุฏ ุงุฑุงุฆู ูโุดูุฏ ฺฉู ุจู ุดูุง ุฏุฑ ุฏุฑฺฉ IoC ู DI ฺฉูฺฉ ูโฺฉููุฏ. ุณูพุณ ูุงุฏุฑ ุฎูุงูุฏ ุจูุฏ ุงุฒ ุงู ุชฺฉูฺฉโูุง ุฏุฑ ุจุฑูุงููโูุง ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ.
ุจุงุฏ ุจุจูู ฺฺฏููู ูโุชูุงูู **DI ู IoC ุณุงุฏู ุฎูุฏูุงู ุฑุง ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ฺุงุฑฺูุจโูุง ุดุฎุต ุซุงูุซ** ูพุงุฏูโุณุงุฒ ฺฉูู. โ

---

### ูุซุงู ุงุฒ **Dependency Injection (DI)**

ุฏุฑ ุงู ูุซุงูุ ูุง DI ุณุงุฏู ุฎูุฏ ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูู.
ฺฉ **interface** ุจู ูุงู `ILogger` ุฏุงุฑู ฺฉู ููุท ฺฉ ูุชุฏ ุจุง ฺฉ ูพุงุฑุงูุชุฑ ุฑุดุชูโุง ุฏุงุฑุฏ.
ุณูพุณ ฺฉูุงุณ ุจู ูุงู `TextFileLogger` ูโุณุงุฒู ฺฉู **ILogger** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ุฑุดุชู ุฑุง ุฏุฑ ฺฉ ูุงู ูุชู ุฎุฑูุฌ ูโุฏูุฏ.
ุฏุฑ ููุงุชุ ฺฉูุงุณ ุจู ูุงู `Worker` ุฎูุงูู ุฏุงุดุช ฺฉู **constructor injection** ู **method injection** ุฑุง ูุดุงู ูโุฏูุฏ.

---

ุงู **interface** ฺฉ ูุชุฏ ุฏุงุฑุฏ ฺฉู ุจุฑุง ฺฉูุงุณโูุง ูพุงุฏูโุณุงุฒ ุจู ููุธูุฑ ุฎุฑูุฌ ูพุงู ุงุณุชูุงุฏู ูโุดูุฏ:

```csharp
namespace CH3.DependencyInjection
{
    public interface ILogger
    {
        void OutputMessage(string message);
    }
}
```

ฺฉูุงุณ `TextFileLogger` **ILogger** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ู ูพุงู ุฑุง ุฏุฑ ฺฉ ูุงู ูุชู ุฐุฎุฑู ูโฺฉูุฏ:

```csharp
using System;

namespace CH3.DependencyInjection
{
    public class TextFileLogger : ILogger
    {
        public void OutputMessage(string message)
        {
            System.IO.File.WriteAllText(FileName(), message);
        }

        private string FileName()
        {
            var timestamp = DateTime.Now.ToFileTimeUtc().ToString();
            var path = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);
            return $"{path}_{timestamp}";
        }
    }
}
```

---

ฺฉูุงุณ `Worker` ูููููโุง ุงุฒ **constructor DI** ู **method DI** ุงุฑุงุฆู ูโุฏูุฏ. ุชูุฌู ฺฉูุฏ ฺฉู ูพุงุฑุงูุชุฑ ฺฉ **interface** ุงุณุช. ุจูุงุจุฑุงู ูุฑ ฺฉูุงุณ ฺฉู ุขู interface ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ ูโุชูุงูุฏ ุฏุฑ ุฒูุงู ุงุฌุฑุง **ุชุฒุฑู ุดูุฏ**:

```csharp
namespace CH3.DependencyInjection
{
    public class Worker
    {
        private ILogger _logger;

        public Worker(ILogger logger)
        {
            _logger = logger;
            _logger.OutputMessage("This constructor has been injected with a logger!");
        }

        public void DoSomeWork(ILogger logger)
        {
            logger.OutputMessage("This method has been injected with a logger!");
        }
    }
}
```

---

ูุชุฏ `DependencyInject` ุงู ูุซุงู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ุชุง **DI ุฏุฑ ุนูู** ูุดุงู ุฏุงุฏู ุดูุฏ:

```csharp
private void DependencyInject()
{
    var logger = new TextFileLogger();
    var di = new Worker(logger);
    di.DoSomeWork(logger);
}
```

ููุงูโุทูุฑ ฺฉู ุฏุฑ ฺฉุฏ ูโุจูุฏุ ุงุจุชุฏุง ฺฉ ููููู ุฌุฏุฏ ุงุฒ ฺฉูุงุณ `TextFileLogger` ุณุงุฎุชู ูโุดูุฏ.
ุงู ุดุก ุณูพุณ ุจู **constructor** ฺฉูุงุณ `Worker` ุชุฒุฑู ูโุดูุฏ.
ุณูพุณ ูุชุฏ `DoSomeWork` ูุฑุงุฎูุงู ุดุฏู ู ููุงู ููููู `TextFileLogger` ุจู ุขู ุงุฑุณุงู ูโุดูุฏ.
ุฏุฑ ุงู ูุซุงู ุณุงุฏูุ ูุดุงูุฏู ฺฉุฑุฏู ฺฉู ฺฺฏููู ูโุชูุงู **ฺฉุฏ ุฑุง ุงุฒ ุทุฑู constructor ู ูุชุฏูุง ุจู ฺฉ ฺฉูุงุณ ุชุฒุฑู ฺฉุฑุฏ**.

---

โ ูฺฉุชู ฺฉูุฏ: ุงู ฺฉุฏ ูุงุจุณุชฺฏ ุจู `Worker` ู `TextFileLogger` ุฑุง ุญุฐู ูโฺฉูุฏ.
ุงู ุจุงุนุซ ูโุดูุฏ ฺฉู ุจู ุฑุงุญุช ุจุชูุงูู **TextFileLogger** ุฑุง ุจุง ูุฑ ููุน ูุงฺฏุฑ ุฏฺฏุฑ ฺฉู **ILogger** ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ุฌุงฺฏุฒู ฺฉูู.
ูุซูุงู ูโุชูุงูุณุชู ุงุฒ **event viewer logger** ุง ุญุช **database logger** ุงุณุชูุงุฏู ฺฉูู.
ุงุณุชูุงุฏู ุงุฒ **DI** ุฑุงู ุนุงู ุจุฑุง ฺฉุงูุด **coupling** ุฏุฑ ฺฉุฏ ุดูุง ุงุณุช.

---

ุญุงู ฺฉู **DI** ุฑุง ุฏุฏูุ ููุจุช ุจู ุจุฑุฑุณ **IoC** ูโุฑุณุฏ ู ุฏุฑ ุงุฏุงูู ุจู ุขู ุฎูุงูู ูพุฑุฏุงุฎุช. ๐

---

๐ก **ูุซุงู ุงุฒ IoC (Inversion of Control)**

ุฏุฑ ุงู ูุซุงูุ ูุตุฏ ุฏุงุฑู **ูุงุจุณุชฺฏโูุง ุฑุง ุฏุฑ ฺฉ IoC container ุซุจุช ฺฉูู** ู ุณูพุณ ุงุฒ **DI** ุจุฑุง ุชุฒุฑู ูุงุจุณุชฺฏโูุง ูุงุฒู ุงุณุชูุงุฏู ฺฉูู.

ุฏุฑ ฺฉุฏ ุฒุฑุ ฺฉ **IoC container** ุฏุงุฑู. ุงู container ูุงุจุณุชฺฏโูุง ฺฉู ุจุงุฏ ุชุฒุฑู ุดููุฏ ุฑุง ุฏุฑ ฺฉ **dictionary** ุซุจุช ูโฺฉูุฏ ู ููุงุฏุฑ ุฑุง ุงุฒ **metadata ูพฺฉุฑุจูุฏ** ูโุฎูุงูุฏ:

```csharp
using System;
using System.Collections.Generic;

namespace CH3.InversionOfControl
{
    public class Container
    {
        public delegate object Creator(Container container);
        private readonly Dictionary<string, object> configuration = new Dictionary<string, object>();
        private readonly Dictionary<Type, Creator> typeToCreator = new Dictionary<Type, Creator>();

        public Dictionary<string, object> Configuration
        {
            get { return configuration; }
        }

        public void Register<T>(Creator creator)
        {
            typeToCreator.Add(typeof(T), creator);
        }

        public T Create<T>()
        {
            return (T)typeToCreator[typeof(T)](this);
        }

        public T GetConfiguration<T>(string name)
        {
            return (T)configuration[name];
        }
    }
}
```

ุณูพุณ ฺฉ **container** ูโุณุงุฒู ู ุงุฒ ุขู ุจุฑุง ูพฺฉุฑุจูุฏ **metadata**ุ ุซุจุช ุงููุงุน ู ุงุฌุงุฏ ูููููโูุง ูุงุจุณุชฺฏ ุงุณุชูุงุฏู ูโฺฉูู:

```csharp
private void InversionOfControl()
{
    Container container = new Container();
    container.Configuration["message"] = "Hello World!";
    container.Register<ILogger>(delegate
    {
        return new TextFileLogger();
    });
    container.Register<Worker>(delegate
    {
        return new Worker(container.Create<ILogger>());
    });
}
```

---

โ ูฺฉุชู: ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุฑูุดุ **ุงุฌุงุฏุ ูุฏุฑุช ู ุชุฒุฑู ูุงุจุณุชฺฏโูุง ุจู ุตูุฑุช ูุชูุฑฺฉุฒ** ุงูุฌุงู ูโุดูุฏ ู ฺฉูุงุณโูุง ุฏฺฏุฑ ุจู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ูุงุจุณุชฺฏโูุง ูุงุจุณุชู ูุณุชูุฏ.

ุญุงูุง ุจุงุฏ ุจู **ูุงููู ุฏูุชุฑ (Law of Demeter)** ุจูพุฑุฏุงุฒู ุชุง ุจุจูู ฺฺฏููู ูโุชูุงู ุฏุงูุด ฺฉ ุดุก ุฑุง ูุญุฏูุฏ ุจู ูุฒุฏฺฉโุชุฑู ูุงุจุณุชฺฏโูุง ฺฉุฑุฏ ู ุงุฒ ุงุฌุงุฏ **navigation trains** ุฌููฺฏุฑ ูููุฏ.

---

๐ก **ูุงููู ุฏูุชุฑ (Law of Demeter)**

ูุฏู ูุงููู ุฏูุชุฑ ุญุฐู **navigation trains** (ุดูุงุฑุด ููุงุท ุง dot counting) ู ุงุฌุงุฏ **encapsulation ุฎูุจ** ุจุง ฺฉุฏ **loosely coupled** ุงุณุช.

ฺฉ ูุชุฏ ฺฉู ุงุฒ ฺฉ **navigation train** ุงุทูุงุน ุฏุงุฑุฏุ ูุงููู ุฏูุชุฑ ุฑุง ูโุดฺฉูุฏ. ุจู ูุซุงู ุฒุฑ ุชูุฌู ฺฉูุฏ:

```csharp
report.Database.Connection.Open(); // ูุงููู ุฏูุชุฑ ููุถ ุดุฏู ุงุณุช
```

ูุฑ ูุงุญุฏ ฺฉุฏ ุจุงุฏ ุฏุงูุด ูุญุฏูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุงู ุฏุงูุด ุจุงุฏ ููุท ูุฑุจูุท ุจู ฺฉุฏ ุจุงุดุฏ ฺฉู **ุจูโุทูุฑ ูุฒุฏฺฉ ูุฑุชุจุท** ุงุณุช.

ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงููู ุฏูุชุฑุ ุจุงุฏ **tell ู not ask** ฺฉูุฏ. ุนู ุชููุง ูโุชูุงูุฏ ูุชุฏูุง ุงุดุง ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ฺฉู ฺฉ ุงุฒ ููุงุฑุฏ ุฒุฑ ุจุงุดูุฏ:

* ุจู ุนููุงู **arguments** ุงุฑุณุงู ุดุฏูโุงูุฏ
* ุจู ุตูุฑุช **local** ุณุงุฎุชู ุดุฏูโุงูุฏ
* **Instance variables**
* **Globals**

ูพุงุฏูโุณุงุฒ ูุงููู ุฏูุชุฑ ููฺฉู ุงุณุช ุฏุดูุงุฑ ุจุงุดุฏุ ุงูุง ูุฒุงุง **tell ุจู ุฌุง ask** ุงุฑุฒุดููุฏ ุงุณุช. ฺฉ ุงุฒ ุงู ูุฒุงุงุ **ฺฉุงูุด coupling ุฏุฑ ฺฉุฏ** ุงุณุช.

ุฏุฑ ุงุฏุงููุ ุงุจุชุฏุง ฺฉ ูุซุงู **ูุงุฏุฑุณุช ฺฉู ูุงููู ุฏูุชุฑ ุฑุง ูโุดฺฉูุฏ** ู ุณูพุณ ฺฉ ูุซุงู **ุตุญุญ ฺฉู ูุงููู ุฏูุชุฑ ุฑุง ุฑุนุงุช ูโฺฉูุฏ** ุฑุง ูุดุงูุฏู ุฎูุงูู ฺฉุฑุฏ.

---

๐ก **ูุซุงู ุฎูุจ ู ุจุฏ (chaining) ุงุฒ ูุงููู ุฏูุชุฑ**

ุฏุฑ **ูุซุงู ุฎูุจ**ุ ูุง ฺฉ ูุชุบุฑ ููููู ุจู ูุงู `report` ุฏุงุฑู. ุฑู ุงู ุดุก ูุชุฏ ุจุงุฒ ฺฉุฑุฏู ุงุชุตุงู (Open Connection) ูุฑุงุฎูุงู ูโุดูุฏ. ุงู ฺฉุงุฑ **ูุงููู ุฏูุชุฑ ุฑุง ููุถ ููโฺฉูุฏ**.

ฺฉุฏ ุฒุฑุ ฺฉูุงุณ `Connection` ุฑุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฉ ูุชุฏ ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ุงุชุตุงู ุฏุงุฑุฏ:

```csharp
namespace CH3.LawOfDemeter
{
    public class Connection
    {
        public void Open()
        {
            // ... ูพุงุฏูโุณุงุฒ ...
        }
    }
}
```

ฺฉูุงุณ `Database` ฺฉ ุดุก `Connection` ูโุณุงุฒุฏ ู ุงุชุตุงู ุฑุง ุจุงุฒ ูโฺฉูุฏ:

```csharp
namespace CH3.LawOfDemeter
{
    public class Database
    {
        public Database()
        {
            Connection = new Connection();
        }

        public Connection Connection { get; set; }

        public void OpenConnection()
        {
            Connection.Open();
        }
    }
}
```

ุฏุฑ ฺฉูุงุณ `Report`ุ ฺฉ ุดุก `Database` ุงุฌุงุฏ ูโฺฉูู ู ุณูพุณ ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ุจุงุฒ ูโุดูุฏ:

```csharp
namespace CH3.LawOfDemeter
{
    public class Report
    {
        public Report()
        {
            Database = new Database();
        }

        public Database Database { get; set; }

        public void OpenConnection()
        {
            Database.OpenConnection();
        }
    }
}
```

ุชุง ุงูุฌุงุ ูุง **ฺฉุฏ ุฎูุจ ุฏุงุฑู ฺฉู ูุงููู ุฏูุชุฑ ุฑุง ุฑุนุงุช ูโฺฉูุฏ**.

---

ุงูุง ฺฉุฏ ุฒุฑ **ุงู ูุงููู ุฑุง ููุถ ูโฺฉูุฏ**.

ุฏุฑ ฺฉูุงุณ `Example`ุ ูุงููู ุฏูุชุฑ ุดฺฉุณุชู ูโุดูุฏ ุฒุฑุง ุงุฒ **method chaining** ุงุณุชูุงุฏู ุดุฏู ุงุณุชุ ูุงููุฏ:

```csharp
report.Database.Connection.Open();
```

ฺฉุฏ ููููู:

```csharp
namespace CH3.LawOfDemeter
{
    public class Example
    {
        public void BadExample_Chaining()
        {
            var report = new Report();
            report.Database.Connection.Open(); // ููุถ ูุงููู ุฏูุชุฑ
        }

        public void GoodExample()
        {
            var report = new Report();
            report.OpenConnection(); // ุฑุนุงุช ูุงููู ุฏูุชุฑ
        }
    }
}
```

ุฏุฑ ุงู **ูุซุงู ุจุฏ**ุ ุงุจุชุฏุง getter ฺฉูุงุณ `Database` ุฑู ูุชุบุฑ ููููู `report` ูุฑุงุฎูุงู ูโุดูุฏ ฺฉู ูุดฺฉู ูุฏุงุฑุฏ. ุงูุง ุณูพุณ getter `Connection` ูุฑุงุฎูุงู ูโุดูุฏ ฺฉู ุดุก ูุชูุงูุช ุจุฑูโฺฏุฑุฏุงูุฏ. ููุงุชุงู ูุชุฏ `Open()` ุฑู ุขู ุดุก ูุฑุงุฎูุงู ูโุดูุฏ. ุงู **ููู ูุฑุงุญู ูุงููู ุฏูุชุฑ ุฑุง ููุถ ูโฺฉููุฏ**.

---

๐ก **ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏู ุบุฑูุงุจู ุชุบุฑ (Immutable objects and data structures)**

ููุนโูุง **immutable** ูุนูููุงู ุจู ุนููุงู **value types** ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดููุฏ. ุฏุฑ value typesุ ููุช ููุฏุงุฑ ุฏุงุฏู ุดุฏุ ุงูุชุธุงุฑ ุฏุงุฑู ุชุบุฑ ูฺฉูุฏ. ุงูุง ูโุชูุงู **ุงุดุงุก immutable** ู **ุณุงุฎุชุงุฑูุง ุฏุงุฏู immutable** ูุฒ ุฏุงุดุช.

**Immutable types** ููุน ูุณุชูุฏ ฺฉู **ูุถุนุช ุฏุงุฎูโุดุงู ูพุณ ุงุฒ ููุฏุงุฑุฏู ุงููู ุชุบุฑ ููโฺฉูุฏ**.

ุฑูุชุงุฑ ุงู ููุนโูุง ุจุงุนุซ **ุดฺฏูุช ุง ุณุฑุฏุฑฺฏู ุจุฑูุงููโููุณุงู ููโุดูุฏ** ู ุจูุงุจุฑุงู ุจุง **ุงุตู ฺฉูุชุฑู ุดฺฏูุช (POLA)** ูุทุงุจูุช ุฏุงุฑุฏ. ุงู ููุนโูุง ูพุดโุจูโูพุฐุฑ ูุณุชูุฏ ู ุจุฑูุงููโููุณุงู ูโุชูุงููุฏ **ุฑูุชุงุฑ ุขูโูุง ุฑุง ุจู ุฑุงุญุช ุชุญูู ฺฉููุฏ**.

ุงุฒ ุขูุฌุง ฺฉู **immutable types ูุงุจู ูพุดโุจู ู ุชุบุฑูุงูพุฐุฑ** ูุณุชูุฏุ ุจุฑูุงููโููุณ ุจุง ูฺ ูุดฺฉู ุบุฑููุชุธุฑูโุง ููุงุฌู ููโุดูุฏ ู ูุงุฒ ุจู ูฺฏุฑุงู ุฏุฑุจุงุฑู ุงุซุฑุงุช ูุงูุทููุจ ูุงุด ุงุฒ ุชุบุฑุงุช ุขูโูุง ูุณุช.

ุงู ูฺฺฏโูุง ุจุงุนุซ ูโุดููุฏ ฺฉู **immutable types ุจุฑุง ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุจู threads ุงุฏูโุขู ุจุงุดูุฏ**ุ ุฒุฑุง **thread-safe** ูุณุชูุฏ ู ูุงุฒ ุจู ุจุฑูุงููโููุณ ุฏูุงุน ูุณุช.

ุฒูุงู ฺฉู ฺฉ **ููุน immutable** ุงุฌุงุฏ ูโฺฉูุฏ ู ุงุฒ **ุงุนุชุจุงุฑุณูุฌ ุงุดุงุก (object validation)** ุงุณุชูุงุฏู ูโฺฉูุฏุ ุดุก ุดูุง **ุฏุฑ ุทูู ุนูุฑุด ูุนุชุจุฑ ุจุงู ูโูุงูุฏ**.

๐น ุญุงูุง ุจุงุฏ ฺฉ **ูุซุงู ุนูู ุงุฒ ฺฉ ููุน immutable ุฏุฑ C#** ุจุจูู.
๐ **ูุซุงู ุงุฒ ฺฉ ููุน immutable**

ุงฺฉููู ูโุฎูุงูู ฺฉ **ุดุก immutable** ุฑุง ุจุฑุฑุณ ฺฉูู. ุดุก `Person` ุฏุฑ ฺฉุฏ ุฒุฑ ุฏุงุฑุง ุณู ูุชุบุฑ ุนุถู **private** ุงุณุช. ุชููุง ุฒูุงู ฺฉู ูโุชูุงู ุงู ูุชุบุฑูุง ุฑุง ููุฏุงุฑุฏู ฺฉุฑุฏุ **ุฏุฑ ุฒูุงู ุณุงุฎุช ุดุก ู ุฏุงุฎู constructor** ุงุณุช. ูพุณ ุงุฒ ุขูุ ุจุฑุง ฺฉู ุทูู ุนูุฑ ุดุกุ ูุงุจู ุชุบุฑ ูุณุชูุฏ. ูุฑ ูุชุบุฑ ุชููุง ุงุฒ ุทุฑู **properties ููุท ุฎูุงูุฏู (read-only)** ูุงุจู ุฏุณุชุฑุณ ุงุณุช:

```csharp
namespace CH3.ImmutableObjectsAndDataStructures
{
    public class Person
    {
        private readonly int _id;
        private readonly string _firstName;
        private readonly string _lastName;

        public int Id => _id;
        public string FirstName => _firstName;
        public string LastName => _lastName;
        public string FullName => $"{_firstName} {_lastName}";
        public string FullNameReversed => $"{_lastName}, {_firstName}";

        public Person(int id, string firstName, string lastName)
        {
            _id = id;
            _firstName = firstName;
            _lastName = lastName;
        }
    }
}
```

ุญุงูุง ฺฉู ุฏุฏู ููุดุชู **ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏู immutable** ฺูุฏุฑ ุณุงุฏู ุงุณุชุ ุจุงุฏ ุจู **ุฏุงุฏูโูุง ู ูุชุฏูุง ุฏุฑ ุงุดุงุก** ุจูพุฑุฏุงุฒู.

---

๐ฆ **ุงุดุงุก ุจุงุฏ ุฏุงุฏูโูุง ุฑุง ูุฎู ู ูุชุฏูุง ุฑุง ุขุดฺฉุงุฑ ฺฉููุฏ**

ูุถุนุช ุดุก ุดูุง ุฏุฑ **ูุชุบุฑูุง ุนุถู (member variables)** ุฐุฎุฑู ูโุดูุฏ. ุงู ูุชุบุฑูุง **ุฏุงุฏู (data)** ูุณุชูุฏ.

ุฏุงุฏู ูุจุงุฏ ุจูโุตูุฑุช ูุณุชูู ูุงุจู ุฏุณุชุฑุณ ุจุงุดุฏ. ุดูุง ุจุงุฏ ุชููุง **ุงุฒ ุทุฑู ูุชุฏูุง ู properties ุขุดฺฉุงุฑุ ุจู ุฏุงุฏู ุฏุณุชุฑุณ ุจุฏูุฏ**.

---

### ฺุฑุง ุจุงุฏ ุฏุงุฏูโูุง ุฑุง ูุฎู ู ูุชุฏูุง ุฑุง ุขุดฺฉุงุฑ ฺฉููุ

ูุฎู ฺฉุฑุฏู ุฏุงุฏูโูุง ู ุขุดฺฉุงุฑ ฺฉุฑุฏู ูุชุฏูุง ุฏุฑ ุฏูุง OOP ุจู ุนููุงู **encapsulation** ุดูุงุฎุชู ูโุดูุฏ.

**Encapsulation**ุ ุฌุฒุฆุงุช ุฏุงุฎู ฺฉ ฺฉูุงุณ ุฑุง ุงุฒ ุฌูุงู ุจุฑูู ูุฎู ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุจุชูุงูุฏ **value types** ุฑุง ุจุฏูู ุดฺฉุณุชู ูพุงุฏูโุณุงุฒโูุง ููุฌูุฏ ุชุบุฑ ุฏูุฏ.

ุฏุงุฏูโูุง ูโุชูุงููุฏ **ุฎูุงูุฏู/ููุดุชูุ ููุท ููุดุชูุ ุง ููุท ุฎูุงูุฏู** ุจุงุดูุฏ ฺฉู ุงูุนุทุงู ุจุดุชุฑ ุจุฑุง ุฏุณุชุฑุณ ู ุงุณุชูุงุฏู ุงุฒ ุฏุงุฏู ุจู ุดูุง ูโุฏูุฏ. ููฺูู ูโุชูุงูุฏ ูุฑูุฏโูุง ุฑุง ุงุนุชุจุงุฑุณูุฌ ฺฉูุฏ ู ุงุฒ ุฏุฑุงูุช ููุงุฏุฑ ูุงูุนุชุจุฑ ุฌููฺฏุฑ ฺฉูุฏ.

Encapsulation ููฺูู ุจุงุนุซ ูโุดูุฏ **ุชุณุช ฺฉูุงุณโูุง ุฑุงุญุชโุชุฑ** ุจุงุดุฏ ู ฺฉูุงุณโูุง **ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ู ูุงุจู ุชูุณุนู** ุดููุฏ.

---

### ูุซุงู ุงุฒ Encapsulation

ฺฉุฏ ุฒุฑ ฺฉ ฺฉูุงุณ **encapsulated** ุฑุง ูุดุงู ูโุฏูุฏ. ุดุก `Car` **mutable** ุงุณุช. ุฏุงุฑุง properties ุงุณุช ฺฉู **ุฏุงุฏูโูุง ุฑุง ูพุณ ุงุฒ ููุฏุงุฑุฏู ุชูุณุท constructor ูโุฎูุงููุฏ ู ูโููุณูุฏ**.

Constructor ู **set properties** ุงุนุชุจุงุฑุณูุฌ ูพุงุฑุงูุชุฑูุง ุฑุง ุงูุฌุงู ูโุฏููุฏ. ุงฺฏุฑ ููุฏุงุฑ ูุงูุนุชุจุฑ ุจุงุดุฏุ **ฺฉ ุงุณุชุซูุง (exception) ูพุฑุชุงุจ ูโุดูุฏ**ุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููุฏุงุฑ ุจุฑฺฏุฑุฏุงูุฏู ุดุฏู ู ุฏุงุฏู ุชูุธู ูโุดูุฏ:

```csharp
using System;

namespace CH3.Encapsulation
{
    public class Car
    {
        private string _make;
        private string _model;
        private int _year;

        public Car(string make, string model, int year)
        {
            _make = ValidateMake(make);
            _model = ValidateModel(model);
            _year = ValidateYear(year);
        }

        private string ValidateMake(string make)
        {
            if (make.Length >= 3)
                return make;
            throw new ArgumentException("Make must be three characters or more.");
        }

        public string Make
        {
            get { return _make; }
            set { _make = ValidateMake(value); }
        }

        // ุณุงุฑ ูุชุฏูุง ู properties ุจุฑุง ุงุฎุชุตุงุฑ ุญุฐู ุดุฏูโุงูุฏ
    }
}
```

โ **ูุฒุช ฺฉุฏ ุจุงูุง:** ุงฺฏุฑ ูุงุฒ ุจู ุชุบุฑ **ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง** ุฏุงุดุชู ุจุงุดุฏุ ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจุฏูู **ุดฺฉุณุชู ูพุงุฏูโุณุงุฒ ฺฉูุงุณ** ุงูุฌุงู ุฏูุฏ.

๐พ **ุณุงุฎุชุงุฑูุง ุฏุงุฏู ุจุงุฏ ุฏุงุฏูโูุง ุฑุง ุขุดฺฉุงุฑ ฺฉููุฏ ู ูุชุฏ ูุฏุงุดุชู ุจุงุดูุฏ**

ุณุงุฎุชุงุฑูุง (**struct**) ุจุง ฺฉูุงุณโูุง ูุชูุงูุชูุฏ ฺูู ุงุฒ **ุจุฑุงุจุฑ ููุฏุงุฑ (value equality)** ุจู ุฌุง **ุจุฑุงุจุฑ ูุฑุฌุน (reference equality)** ุงุณุชูุงุฏู ูโฺฉููุฏ.
ุจู ุฌุฒ ุงู ููุฑุฏุ ุชูุงูุช ุฒุงุฏ ุจู struct ู class ูุฌูุฏ ูุฏุงุฑุฏ.

ฺฉ ุจุญุซ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุขุง ุฏุฑ ฺฉ **ุณุงุฎุชุงุฑ ุฏุงุฏู** ุจุงุฏ ูุชุบุฑูุง ุนููู (**public**) ุจุงุดูุฏ ุง ุขูโูุง ุฑุง ูพุดุช **get ู set properties** ูุฎู ฺฉูู. ุงู ุงูุชุฎุงุจ ฺฉุงููุงู ุจู ุดูุง ุจุณุชฺฏ ุฏุงุฑุฏุ ุงูุง ุดุฎุตุงู ููุดู ูฺฉุฑ ูโฺฉูู ุจูุชุฑ ุงุณุช ุญุช ุฏุฑ structูุง ูู ุฏุงุฏูโูุง ุฑุง ูุฎู ูฺฏู ุฏุงุดุชู ู ุชููุง ุงุฒ ุทุฑู **properties ู ูุชุฏูุง** ุฏุณุชุฑุณ ุจุฏูู.

ฺฉ ูฺฉุชู ููู ุจุฑุง ุฏุงุดุชู **ุณุงุฎุชุงุฑ ุฏุงุฏู ุชูุฒ ู ุงูู** ุงู ุงุณุช ฺฉู ูพุณ ุงุฒ ุงุฌุงุฏ structุ ูุจุงุฏ ุงุฌุงุฒู ุฏูุฏ ุงุฒ ุทุฑู ูุชุฏูุง ุง get properties ุชุบุฑ ฺฉูุฏ. ุฏูู ุงู ฺฉุงุฑ ุงู ุงุณุช ฺฉู ุชุบุฑุงุช ุฑู ุณุงุฎุชุงุฑูุง ุฏุงุฏู ูููุช ููฺฉู ุงุณุช ุงุฒ ุจู ุจุฑููุฏ ู ุจโุงุซุฑ ุจุงุดูุฏ.

---

### ูุซุงู ุณุงุฏูโุง ุงุฒ ุณุงุฎุชุงุฑ ุฏุงุฏู

ฺฉุฏ ุฒุฑ ฺฉ **ุณุงุฎุชุงุฑ ุฏุงุฏู ุณุงุฏู** ุฑุง ูุดุงู ูโุฏูุฏ:

```csharp
namespace CH3.Encapsulation
{
    public struct Person
    {
        public int Id { get; set; }
        public string FirstName { get; set; }
        public string LastName { get; set; }

        public Person(int id, string firstName, string lastName)
        {
            Id = id;
            FirstName = firstName;
            LastName = lastName;
        }
    }
}
```

ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ ุณุงุฎุชุงุฑ ุฏุงุฏู ุฎู ุจุง ฺฉูุงุณ ุชูุงูุช ูุฏุงุฑุฏุ ููฺูุงู ุฏุงุฑุง **constructor ู properties** ุงุณุช.

---

### ๐น ุฌูุนโุจูุฏ ูุตู

ุฏุฑ ุงู ูุตูุ ูุง ุฏุฑุจุงุฑู ููุงุฑุฏ ุฒุฑ ุงุฏ ฺฏุฑูุชู:

1. **ุณุงุฒูุงูุฏู namespaceูุง** ุฏุฑ ูููุฏุฑูุง ู ุจุณุชูโูุง ู ุงูฺฉู ฺฺฏููู ุณุงุฒูุงูุฏู ุฎูุจ ูโุชูุงูุฏ ุงุฒ ูุดฺฉูุงุช namespace ุฌููฺฏุฑ ฺฉูุฏ.
2. **ฺฉูุงุณโูุง ู ูุณุฆููุชโูุง** ู ุฏูู ุงูฺฉู ูุฑ ฺฉูุงุณ ุจุงุฏ ุชููุง ฺฉ ูุณุฆููุช ุฏุงุดุชู ุจุงุดุฏ.
3. **Cohesion ู Coupling** ู ุงููุช **ุจุงูุง ุจูุฏู cohesion ู ูพุงู ุจูุฏู coupling**.
4. **ูุณุชูุฏุณุงุฒ ุฎูุจ** ฺฉู ูุงุฒููุฏ ฺฉุงููุชโฺฏุฐุงุฑ ุตุญุญ ุงุนุถุง ุนููู (**public members**) ุฏุฑ ุงุจุฒุงุฑูุง ุชููุฏ ูุณุชูุฏุงุช ุงุณุช ู ุงุณุชูุงุฏู ุงุฒ **XML comments**.
5. **ุทุฑุงุญ ุจุฑุง ุชุบุฑ** ุจุง ูุซุงูโูุง ูพุงูโุง **DI ู IoC**.
6. **ูุงููู Demeter** ู ุงูฺฉู ฺฺฏููู ุจุงุฏ ููุท ุจุง ุฏูุณุชุงู ูุฒุฏฺฉ ุตุญุจุช ฺฉุฑุฏ ู ุงุฒ ุฒูุฌุฑูโุณุงุฒ (**chaining**) ุงุฌุชูุงุจ ฺฉุฑุฏ.
7. **ุงุดุงุก ู ุณุงุฎุชุงุฑูุง ุฏุงุฏู** ู ุงูฺฉู ฺู ุฏุงุฏูโูุง ุฑุง ุจุงุฏ ูุฎู ฺฉุฑุฏ ู ฺู ุฏุงุฏูโูุง ุฑุง ุจุงุฏ ุนููู ูฺฏู ุฏุงุดุช.

---

ุฏุฑ ูุตู ุจุนุฏุ ุจู ุทูุฑ ูุฎุชุตุฑ ุจู **ุจุฑูุงููโููุณ ุชุงุจุน (functional programming) ุฏุฑ C#** ูโูพุฑุฏุงุฒู ู ุงุฏ ูโฺฏุฑู **ฺฺฏููู ูุชุฏูุง ฺฉูฺฺฉ ู ุชูุฒ ุจููุณู**. ููฺูู ุงุฏ ูโฺฏุฑู ุงุฒ ุฏุงุดุชู ุจุด ุงุฒ ุฏู ูพุงุฑุงูุชุฑ ุฏุฑ ูุชุฏูุง ุงุฌุชูุงุจ ฺฉููุ ุฒุฑุง ูุชุฏูุง ุจุง ูพุงุฑุงูุชุฑ ุฒุงุฏ ูโุชูุงููุฏ ุฏุณุชโููพุงฺฏุฑ ุดููุฏ. ุนูุงูู ุจุฑ ุงูุ **ุงุฌุชูุงุจ ุงุฒ ุชฺฉุฑุงุฑ ฺฉุฏ** ุฑุง ูุฒ ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ุฒุฑุง ุชฺฉุฑุงุฑ ฺฉุฏ ูโุชูุงูุฏ ููุจุน ูุดฺฉูุงุช ู ุจุงฺฏโูุง ุจุงุดุฏ: ููุช ฺฉ ูุณูุช ุงุตูุงุญ ุดูุฏุ ููฺฉู ุงุณุช ูุณุฎูโูุง ุฏฺฏุฑ ูููุฒ ุฏุฑ ฺฉุฏ ุจุงู ุจูุงููุฏ. โ
โ **ุณุคุงูุงุช ูุตู ณ**

1๏ธโฃ ฺฺฏููู ูโุชูุงูู ฺฉูุงุณโูุง ุฎูุฏ ุฑุง ุฏุฑ C# ุณุงุฒูุงูุฏู ฺฉููุ
2๏ธโฃ ฺฉ ฺฉูุงุณ ุจุงุฏ ฺูุฏ ูุณุฆููุช ุฏุงุดุชู ุจุงุดุฏุ
3๏ธโฃ ฺฺฏููู ุจุฑุง ุชููุฏฺฉููุฏูโูุง ูุณุชูุฏุงุช (**document generators**) ุฑู ฺฉุฏ ุฎูุฏ ฺฉุงููุชโฺฏุฐุงุฑ ฺฉููุ
4๏ธโฃ **Cohesion** ฺู ูุนูุง ุฏุงุฑุฏุ
5๏ธโฃ **Coupling** ฺู ูุนูุง ุฏุงุฑุฏุ
6๏ธโฃ ุขุง **cohesion** ุจุงุฏ ุจุงูุง ุจุงุดุฏ ุง ูพุงูุ
7๏ธโฃ ุขุง **coupling** ุจุงุฏ **tight** ุจุงุดุฏ ุง **loose**ุ
8๏ธโฃ ฺู ูฺฉุงูุฒูโูุง ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุจู ุดูุง ฺฉูฺฉ ูโฺฉููุฏ ุจุฑุง ุชุบุฑ ุทุฑุงุญ ฺฉูุฏุ
9๏ธโฃ **DI** ฺุณุชุ
๐ **IoC** ฺุณุชุ
1๏ธโฃ1๏ธโฃ ฺฉ ุงุฒ ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก **immutable** ฺุณุชุ
1๏ธโฃ2๏ธโฃ ุงุดุงุก ุจุงุฏ ฺู ฺุฒูุง ุฑุง ูุฎู ฺฉููุฏ ู ฺู ฺุฒูุง ุฑุง ุขุดฺฉุงุฑ ุณุงุฒูุฏุ
1๏ธโฃ3๏ธโฃ ุณุงุฎุชุงุฑูุง (**structures**) ุจุงุฏ ฺู ฺุฒูุง ุฑุง ูุฎู ฺฉููุฏ ู ฺู ฺุฒูุง ุฑุง ุขุดฺฉุงุฑ ุณุงุฒูุฏุ

---

๐ **ูุทุงูุนู ุจุดุชุฑ**

* ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ุงููุงุน ูุฎุชูู **cohesion ู coupling** ูโุชูุงูุฏ ุจู ููฺฉ ุฒุฑ ูุฑุงุฌุนู ฺฉูุฏ:
  [GeeksforGeeks โ Coupling and Cohesion](https://www.geeksforgeeks.org/software-engineering-coupling-and-cohesion/)

* ุขููุฒุดโูุง ุฒุงุฏ ุฏุฑ ููุฑุฏ **IoC** ุฏุฑ ุงู ููฺฉ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:
  [TutorialsTeacher โ IoC](https://www.tutorialsteacher.com/ioc/) โ
