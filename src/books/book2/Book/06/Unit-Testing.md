---
layout: layout.njk
title: Unit Testing
---
# ูุตู ุดุดู: ุชุณุช ูุงุญุฏ (Unit Testing) ๐งช

ูุจูุงู ุจู ุจุฑุฑุณ **ูุฏุฑุช ุงุณุชุซูุงูุง (Exception Handling)** ูพุฑุฏุงุฎุชูุ ฺฺฏููฺฏ ูพุงุฏูโุณุงุฒ ุตุญุญ ุขู ู ุงู ฺฉู ฺฺฏููู ุงู ฺฉุงุฑ ูโุชูุงูุฏ ุจุฑุง **ูุดุชุฑ** ู **ุจุฑูุงููโููุณ** ููฺฏุงู ุจุฑูุฒ ูุดฺฉูุงุช ููุฏ ุจุงุดุฏ. ุฏุฑ ุงู ูุตูุ ูฺฏุงู ูโุงูุฏุงุฒู ุจู ุงูฺฉู **ุจุฑูุงููโููุณุงู ฺฺฏููู ูโุชูุงููุฏ ุชุถูู ฺฉูุช ุฎูุฏ (QA)** ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ ุชุง **ฺฉุฏ ุจุงฺฉูุชุ ููุงูู ู ฺฉูโุงุญุชูุงู ุชููุฏ ุงุณุชุซูุง ุฏุฑ ูุญุท ุชููุฏ** ุงุฑุงุฆู ุฏููุฏ.

ุงุจุชุฏุง ุจุฑุฑุณ ูโฺฉูู **ฺุฑุง ุจุงุฏ ฺฉุฏ ุฎูุฏูุงู ุฑุง ุชุณุช ฺฉูู** ู ฺฉ ุชุณุช ุฎูุจ ฺู ูฺฺฏโูุง ุฏุงุฑุฏ. ุณูพุณ ุจู **ฺูุฏ ุงุจุฒุงุฑ ุชุณุช** ฺฉู ุจุฑุง ุจุฑูุงููโููุณุงู C# ุฏุฑ ุฏุณุชุฑุณ ุงุณุช ูโูพุฑุฏุงุฒู. ุจุนุฏุ ุณู ุณุชูู ุงุตู **ุชุณุช ูุงุญุฏ (Unit Testing)** ุฑุง ูุฑูุฑ ูโฺฉูู: **Failุ Pass ู Refactor**. ุฏุฑ ููุงุชุ ุจู **ุชุณุชโูุง ูุงุญุฏ ุงุถุงู (Redundant Unit Tests)** ู ุฏูู ุญุฐู ุขูโูุง ูโูพุฑุฏุงุฒู.

ุฏุฑ ุงู ูุตูุ ูุจุงุญุซ ุฒุฑ ูพูุดุด ุฏุงุฏู ูโุดููุฏ:

* ุฏุฑฺฉ **ุฏูุงู ุฏุงุดุชู ฺฉ ุชุณุช ุฎูุจ** โ
* ุฏุฑฺฉ **ุงุจุฒุงุฑูุง ุชุณุช** ๐๏ธ
* ุชูุฑู **ูุชุฏูููฺ TDD โ Failุ Pass ู Refactor** ๐
* ุญุฐู **ุชุณุชโูุงุ ฺฉุงููุชโูุง ู ฺฉุฏูุง ูุฑุฏู ุงุถุงู** ๐๏ธ

ุชุง ูพุงุงู ุงู ูุตูุ ุดูุง ููุงุฑุชโูุง ุฒุฑ ุฑุง ฺฉุณุจ ุฎูุงูุฏ ฺฉุฑุฏ:

* ุชูุงูุง **ุดุฑุญ ูุฒุงุง ุฏุงุดุชู ฺฉุฏ ุฎูุจ** โจ
* ุชูุงูุง **ุดุฑุญ ูุดฺฉูุงุช ุงุญุชูุงู ฺฉู ุงุฒ ุนุฏู ุชุณุช ูุงุญุฏ ุงุฌุงุฏ ูโุดูุฏ** โ๏ธ
* ุชูุงูุง **ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ MSTest ุจุฑุง ููุดุชู ู ุงุฌุฑุง ุชุณุชโูุง ูุงุญุฏ** ๐ฅ๏ธ
* ุชูุงูุง **ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ NUnit ุจุฑุง ููุดุชู ู ุงุฌุฑุง ุชุณุชโูุง ูุงุญุฏ** ๐ฅ๏ธ
* ุชูุงูุง **ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ Moq ุจุฑุง ููุดุชู ุงุดุงุก ุฌุนู (Mock Objects)** ๐ญ
* ุชูุงูุง **ูุตุจ ู ุงุณุชูุงุฏู ุงุฒ SpecFlow ุจุฑุง ููุดุชู ูุฑูโุงูุฒุงุฑ ูุทุงุจู ุจุง ูุดุฎุตุงุช ูุดุชุฑ** ๐
* ุชูุงูุง **ููุดุชู ุชุณุชโูุง ฺฉู ุงุจุชุฏุง Fail ูโุดููุฏุ ุณูพุณ Pass ุดููุฏ ู ุฏุฑ ููุงุช ูุฑ Refactoring ูุงุฒู ุฑุง ุงูุฌุงู ุฏูุฏ** ๐

---

## **ูุงุฒููุฏโูุง ูู ๐๏ธ**

ุจุฑุง ุฏุณุชุฑุณ ุจู ูุงูโูุง ฺฉุฏ ุงู ูุตูุ ูโุชูุงูุฏ ุจู ุงู ููฺฉ ูุฑุงุฌุนู ฺฉูุฏ:
[https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH06](https://github.com/PacktPublishing/Clean-Code-in-C-/tree/master/CH06) ๐

### **ุฏุฑฺฉ ุฏูุงู ุฏุงุดุชู ฺฉ ุชุณุช ุฎูุจ ๐งฉ**

ุจูโุนููุงู ฺฉ ุจุฑูุงููโููุณุ ฺฉุงุฑ ุฑู ฺฉ ูพุฑูฺู ุชูุณุนู ุฌุฏุฏ ฺฉู ุจุฑุงุชุงู ุฌุฐุงุจ ุงุณุช ุจุณุงุฑ ูุฐุชโุจุฎุด ุงุณุชุ ูุฎุตูุตุงู ุงฺฏุฑ ุงูฺฏุฒู ุจุงูุง ุจุฑุง ุงูุฌุงู ุขู ุฏุงุดุชู ุจุงุดุฏ. ุงูุง ููุช ูุงฺฏูุงู ูุฌุจูุฑ ูโุดูุฏ ุจุฑุง ุฑูุน ฺฉ **ุจุงฺฏ (Bug)** ุจู ูพุฑูฺูโุง ุฏฺฏุฑ ุจุฑูุฏุ ุงู ููุถูุน ูโุชูุงูุฏ ุจุณุงุฑ ูุงุงูุฏฺฉููุฏู ุจุงุดุฏ. ูุถุนุช ุจุฏุชุฑ ููุช ุงุณุช ฺฉู ุขู ฺฉุฏุ **ฺฉุฏ ุฎูุฏุชุงู ูุจุงุดุฏ** ู ุดูุง ุฏุฑฺฉ ฺฉุงูู ุงุฒ ูพุดุช ุตุญููโ ุขู ูุฏุงุดุชู ุจุงุดุฏ. ู ุจุฏุชุฑ ุงุฒ ููู ููุช ุงุณุช ฺฉู **ฺฉุฏ ุฎูุฏุชุงู ุจุงุดุฏ** ู ูุญุธูโุง ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูฺฉุฑ ฺฉูุฏ: ยซูุงูุนุงู ุฏุงุดุชู ุจู ฺู ฺุฒ ูฺฉุฑ ูโฺฉุฑุฏูุ!ยป

ูุฑ ฺู ุจุดุชุฑ ุงุฒ ุชูุณุนู ุฌุฏุฏ ฺฉูุงุฑ ฺฏุฐุงุดุชู ุดูุฏ ุชุง ุจู **ูฺฏูุฏุงุฑ ฺฉุฏ ููุฌูุฏ** ุจูพุฑุฏุงุฒุฏุ ุจุดุชุฑ ุจู ุงููุช **ุชุณุช ูุงุญุฏ (Unit Testing)** ูพ ูโุจุฑุฏ. ุจุง ุงูุฒุงุด ุงู ุฏุฑฺฉุ ุจู ูุฒุงุง ูุงูุน **ุงุฏฺฏุฑ ูุชุฏูููฺโูุง ู ุชฺฉูฺฉโูุง ุชุณุช ูุงููุฏ TDD ู BDD** ูพ ุฎูุงูุฏ ุจุฑุฏ.

---

ููุช ูุฏุช ุจูโุนููุงู ุจุฑูุงููโููุณ ูฺฏูุฏุงุฑ ุฑู ฺฉุฏ ุฏฺฏุฑุงู ฺฉุงุฑ ฺฉุฑุฏู ุจุงุดุฏุ ุจุง **ฺฉุฏ ุฎูุจุ ุจุฏ ู ุฒุดุช** ููุงุฌู ูโุดูุฏ. ฺูู ุชุฌุฑุจูโุง ูโุชูุงูุฏ ุจู ุดูุง ุขููุฒุด ุฏูุฏ ฺฉู ฺู ฺฉุงุฑูุง ุฑุง ูุจุงุฏ ุงูุฌุงู ุฏูุฏ ู ฺุฑุงุ ู ุฏุฑ ูุชุฌู ุฑูุด ุจูุชุฑ ุจุฑุง ุจุฑูุงููโููุณ ุงุฏ ุจฺฏุฑุฏ. ฺฉุฏูุง ุจุฏ ููฺฉู ุงุณุช ุจุงุนุซ ุดููุฏ ูุฑุงุฏ ุจุฒูุฏ: ยซูู! ูุงูุนุงู ูู!ยป ู ฺฉุฏูุง ุฒุดุช ููฺฉู ุงุณุช ฺุดูุชุงู ุฑุง ุจุณูุฒุงูุฏ ู ุฐูู ุดูุง ุฑุง ููุฌ ฺฉูุฏ. ๐

---

ููุช ูุณุชูู ุจุง ูุดุชุฑุงู ุฏุฑ ุชูุงุณ ูุณุชุฏ ู ุจู ุขูโูุง **ูพุดุชุจุงู ูู** ูโุฏูุฏุ ุงููุช ุชุฌุฑุจูโ ุฎูุจ ูุดุชุฑ ุฑุง ุฏุฑ ููููุช ฺฉุณุจโูฺฉุงุฑ ูโุจูุฏ. ุจุฑุนฺฉุณุ ุชุฌุฑุจูโ ุจุฏ ูุดุชุฑ ูโุชูุงูุฏ ููุฌุฑ ุจู ูุดุชุฑุงู ุจุณุงุฑ ูุงุฑุงุถุ ุนุตุจุงู ู ุญุช ูพุฑุฎุงุดฺฏุฑ ุดูุฏ ู ูุฑูุด ุจูโุณุฑุนุช ฺฉุงูุด ุงุจุฏุ ุจูโูฺู ุงฺฏุฑ ูุดุชุฑุงู ูุธุฑ ููู ุฎูุฏ ุฑุง ุฏุฑ ุดุจฺฉูโูุง ุงุฌุชูุงุน ู ุณุงุชโูุง ููุฏ ููุชุดุฑ ฺฉููุฏ. ๐๐ฌ

---

ุจูโุนููุงู **ุชฺฉโูุฏ (Tech Lead)**ุ ูุณุฆููุช ุดูุง ุงูุฌุงู **ุจุงุฒุจู ฺฉุฏ ูู (Code Review)** ุงุณุช ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ฺฉุงุฑฺฉูุงู ุงุฒ **ุฑุงูููุง ฺฉุฏููุณ ู ุณุงุณุชโูุง ุดุฑฺฉุช** ูพุฑู ูโฺฉููุฏุ ุจุงฺฏโูุง ุฑุง ุจุฑุฑุณ ู ุงูููุชโุจูุฏ ูโฺฉูุฏ ู ุจู **ูุฏุฑ ูพุฑูฺู** ุฏุฑ ูุฏุฑุช ุชู ุฎูุฏ ฺฉูฺฉ ูโฺฉูุฏ. ููุงุฑุชโูุง ูุงุฒู ุดุงูู: **ูุฏุฑุช ูพุฑูฺู ุณุทุญ ุจุงูุงุ ุฌูุนโุขูุฑ ู ุชุญูู ูุงุฒููุฏโูุงุ ุทุฑุงุญ ูุนูุงุฑุ ุจุฑูุงููโููุณ ูพุงฺฉ (Clean Programming)** ู ุฏุงุดุชู ููุงุฑุชโูุง ุงุฑุชุจุงุท ุฎูุจ ุงุณุช. ๐ค

ูุฏุฑ ูพุฑูฺู ูุนูููุงู ุชููุง ุจู **ุชุญูู ูพุฑูฺู ุจู ูููุน ู ุทุจู ุจูุฏุฌู** ุงููุช ูโุฏูุฏ ู ฺูุฏุงู ุงููุช ุจู ูุญููโ ฺฉุฏููุณ ุดูุง ููโุฏูุฏุ ููู ุงู ุงุณุช ฺฉู ูุฑูโุงูุฒุงุฑ ุจูโูููุน ู ูุทุงุจู ุจุง ุจูุฏุฌู ุชุญูู ุฏุงุฏู ุดูุฏ. ููฺูู ฺฉูุช ฺฉุฏ ูโุชูุงูุฏ ุจุฑูุฏ ุดุฑฺฉุช ุฑุง ุชููุช ุง ุชุฎุฑุจ ฺฉูุฏ. ๐ขโก

---

ุจูโุนููุงู ุชฺฉโูุฏุ ุดูุง ุจู ูุฏุฑ ูพุฑูฺู ู ุชู ูพุฑูฺู ูุฑุงุฑ ุฏุงุฑุฏ. ุฏุฑ ฺฉุงุฑ ุฑูุฒูุฑูุ **ุฌูุณุงุช ุงุณฺฉุฑุงู (Scrum Meetings)** ุจุฑฺฏุฒุงุฑ ูโฺฉูุฏ ู ุจุง ูุดฺฉูุงุช ุฑูุฒูุฑู ุจุฑุฎูุฑุฏ ูโฺฉูุฏ: ุจุฑูุงููโููุณุงู ูุงุฒููุฏ ููุงุจุน ุงุฒ ุชุญููโฺฏุฑุงูุ ุชุณุชุฑูุง ููุชุธุฑ ุฑูุน ุจุงฺฏโูุงุ ู ุบุฑู. ุณุฎุชโุชุฑู ฺฉุงุฑุ ุงูุฌุงู **ุจุงุฒุจู ฺฉุฏ ููฺฉุงุฑุงู (Peer Code Review)** ู ุงุฑุงุฆู ุจุงุฒุฎูุฑุฏ ุณุงุฒูุฏู ุงุณุช ฺฉู ูุชุฌู ูุทููุจ ุจุฏูุฏ ุจุฏูู ุงูฺฉู ฺฉุณ ุขุฒุฑุฏู ุดูุฏ. ุจู ููู ุฏูู **ุชุณุช ูุงุญุฏ ู ฺฉุฏููุณ ูพุงฺฉ** ุจุงุฏ ุฌุฏ ฺฏุฑูุชู ุดูุฏ. โ๏ธ

---

ุจู ููู ุฏููุ ุจูโุนููุงู ุชฺฉโูุฏุ ุชุดูู ุจู **TDD** ุจุณุงุฑ ููู ุงุณุช ู ุจูุชุฑู ุฑุงู **ุงูฺฏูุจุฑุฏุงุฑ ุงุฒ ุฎูุฏุชุงู** ุงุณุช. ุญุช ุจุฑูุงููโููุณุงู ุจุง ุชุฌุฑุจู ููฺฉู ุงุณุช ูุณุจุช ุจู TDD ููุงููุช ุฏุงุดุชู ุจุงุดูุฏุ ุฒุฑุง ุงุฏฺฏุฑ ู ูพุงุฏูโุณุงุฒ ุขู **ุฒูุงูโุจุฑ** ุจู ูุธุฑ ูโุฑุณุฏุ ูุฎุตูุตุงู ุฏุฑ ฺฉุฏูุง ูพฺุฏูโุชุฑ. ุงูุง ุงฺฏุฑ ูโุฎูุงูุฏ ูุงูุนุงู ูุทูุฆู ุจุงุดุฏ ฺฉู ูพุณ ุงุฒ ููุดุชู ฺฉุฏุ ฺฉูุช ุขู ุชุถูู ุดุฏู ู ุจุงฺฏ ุจู ุดูุง ุจุงุฒููโฺฏุฑุฏุฏุ **TDD ฺฉ ุฑูุด ุนุงู ุจุฑุง ุงุฑุชูุง ููุงุฑุชโูุง ุดูุงุณุช**. ๐ก

---

ููฺููุ ูุฒุงู ุงููุช ุชุณุช ูุงุญุฏ ุจู **ุญุณุงุณุช ูุฑูโุงูุฒุงุฑ** ุจุณุชฺฏ ุฏุงุฑุฏ. ุจุงฺฏ ุฏุฑ ฺฉ ุงูพูฺฉุดู ุณุงุฏู ุงุฏุฏุงุดุชโุจุฑุฏุงุฑ ูุงุฌุนูโุขูุฒ ูุณุชุ ุงูุง ุฏุฑ **ุตูุนุช ุฏูุงุน ุง ุณูุงูุช** ููฺฉู ุงุณุช ุนูุงูุจ ูุฑฺฏุจุงุฑ ุฏุงุดุชู ุจุงุดุฏ. ูุซุงูโูุง: ููุดฺฉ ูุฏุงุชโุดุฏู ุจู ุณู ุบุฑูุธุงูุงูุ ุชุฌูุฒุงุช ูพุฒุดฺฉ ฺฉู ุจู ุฏูู ุจุงฺฏ ุจุงุนุซ ูุฑฺฏ ุจูุงุฑ ูโุดูุฏ ุง ูุฑูโุงูุฒุงุฑ ุงูู ููุงูพูุง ฺฉู ุจุงุนุซ ุณููุท ูโุดูุฏ. โ๏ธ๐ฅ

ูุฑ ฺู ูุฑูโุงูุฒุงุฑ ุญุณุงุณโุชุฑ ุจุงุดุฏุ **ุชฺฉูฺฉโูุง ุชุณุช ูุงุญุฏ ูุงููุฏ TDD ู BDD** ุงููุช ุจุดุชุฑ ูพุฏุง ูโฺฉููุฏ. ููฺฏุงู ููุดุชู ูุฑูโุงูุฒุงุฑุ ุชุตูุฑ ฺฉูุฏ ุงฺฏุฑ ุดูุง ูุดุชุฑ ุจูุฏุฏ ู ฺฉุฏ ุฎุฑุงุจ ุดุฏุ ฺู ูพุงูุฏ ุฏุงุดุชุ ฺฺฏููู ุจุฑ ุฎุงููุงุฏูุ ุฏูุณุชุงู ู ููฺฉุงุฑุงู ุชุฃุซุฑ ูโฺฏุฐุงุดุชุ ููฺูู ูพุงูุฏูุง **ุงุฎูุงู ู ูุงููู** ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. โ๏ธ๐จโ๐ฉโ๐งโ๐ฆ

---

ุจุง ุงูฺฉู ฺฏูุชู ูโุดูุฏ: "ุจุฑูุงููโููุณ ูุจุงุฏ ฺฉุฏ ุฎูุฏ ุฑุง ุชุณุช ฺฉูุฏ"ุ ุงู ุชููุง ุฒูุงู ุตุญุญ ุงุณุช ฺฉู **ฺฉุฏ ุชูุงู ุดุฏู ู ุขูุงุฏู ุชุณุช ูุจู ุงุฒ ุชููุฏ** ุจุงุดุฏ. ุฏุฑ ุทูู ุจุฑูุงููโููุณุ ุจุฑูุงููโููุณุงู ููุดู ุจุงุฏ **ฺฉุฏ ุฎูุฏ ุฑุง ุชุณุช ฺฉููุฏ**.

ุชุณุช ูุงุญุฏ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ **ุนุงุฏุงุช ุจุฑูุงููโููุณ ูพุงฺฉ** ุงุฌุงุฏ ฺฉูุฏ: ุงุจุชุฏุง ุชุณุช ูโููุณุฏุ ุณูพุณ ฺฉุฏ ฺฉุงู ุจุฑุง ููููุช ุชุณุช ุงุถุงูู ูโฺฉูุฏ ู ุจุนุฏ ฺฉุฏ ุฑุง ุจุงุฒุณุงุฒ (Refactor) ูโฺฉูุฏ. ุงู ฺุฑุฎู ุจุงุนุซ ูโุดูุฏ ฺฉุฏ ุดูุง **ุฎูุงูุงุชุฑุ ูุงุจู ูฺฏูุฏุงุฑ ู ูุงุจู ุงุนุชูุงุฏ** ุจุงุดุฏ. ๐

---

ุฏุฑ ุญู ููุดุชู ฺฉุฏุ ุชุณุชโูุง ุจุงุฏ **Atomic ุง ุชฺฉ ูุธููโุง** ุจุงุดูุฏุ ุนู ูุฑ ุชุณุช ููุท ฺฉ ูฺฺฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ุชุณุช ุจุงุฏ **ุชฺฉุฑุงุฑูพุฐุฑุ ูุงุจู ุงุทููุงู ู ุณุฑุน (ููโุซุงููโุง)** ุจุงุดุฏ. ฺฉุฏูุง ุชุณุช ุทููุงู ุง ูุงุจุณุชู ุจู ุฏฺฏุฑ ุชุณุชโูุง ููุงุณุจ ูุณุชูุฏ. ุงฺฏุฑ ูุงุฒ ุจู ฺฉ ุซุงูู ุง ุจุดุชุฑ ุฏุงุฑูุฏุ ุจุงุฏ **Refactor ุง ุงุณุชูุงุฏู ุงุฒ Mock Objects** ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. โฑ๏ธ๐งช

---

ฺุฑุฎูโ ุชุณุช ูุงุญุฏ ุดุงูู ูุฑุงุญู ุฒุฑ ุงุณุช:

1. ููุดุชู **ฺฉูุงุณ ุชุณุช ู ุดุจูโฺฉุฏ (Pseudocode)**
2. ููุดุชู **ูุชุฏูุง ุชุณุช ฺฉู ุงุจุชุฏุง Fail ูโุดููุฏ**
3. ููุดุชู ฺฉุฏ ฺฉุงู ุจุฑุง **Pass ุดุฏู ุชุณุช**
4. **Refactor ฺฉุฏ** ู ุงุฏุงูู ุจู ุชุณุช ุจุนุฏ

---

ุฏุฑ ุงุฏุงููุ ูุตู ุจู ุจุฑุฑุณ **Use Caseุ Test Designุ Test Case ู Test Suite** ู ูุญูู ุชุนุงูู ุขูโูุง ุจุง ฺฉุฏฺฏุฑ ูโูพุฑุฏุงุฒุฏ:

* **Use Case:** ุฌุฑุงู ุนููุงุช ฺฉ ุนููุงุช ูุงุญุฏุ ูุงููุฏ ุงูุฒูุฏู ุฑฺฉูุฑุฏ ูุดุชุฑ.
* **Test Design:** ุดุงูู ฺฉ ุง ฺูุฏ **Test Case** ุจุฑุง ุณูุงุฑููุง ูุฎุชูู Use Case.
* **Test Case:** ูโุชูุงูุฏ ุฏุณุช ุง ุฎูุฏฺฉุงุฑ ุจุงุดุฏ.
* **Test Suite:** ูุฑูโุงูุฒุงุฑ ุจุฑุง ฺฉุดูุ ุงุฌุฑุง ุชุณุชโูุง ู ฺฏุฒุงุฑุด ูุชุงุฌ ุจู ฺฉุงุฑุจุฑ ููุง.

ุชูุณุนูโุฏููุฏฺฏุงู ุจุงุฏ ุฑู ููุดุชู ู ุงุณุชูุงุฏู ุงุฒ **ุชุณุช ูุงุญุฏ ุฎูุฏ** ุชูุฑฺฉุฒ ฺฉููุฏ ุชุง ฺฉุฏูุง ฺฉู **Failุ Pass ู Refactor** ูโุดููุฏุ ุชููุฏ ฺฉููุฏ. ๐ฅ๏ธโ

<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-1.jpeg)
  
</div>

### **ุฏุฑฺฉ ุงุจุฒุงุฑูุง ุชุณุช ๐๏ธ**

ุฏุฑ ุงู ูุตูุ ูุง **ุชุณุชโูุง ูุงุญุฏ (Unit Tests)** ู **ุงุดุงุก ุฌุนู (Mock Objects)** ุฎูุงูู ููุดุช. ุงูุง ูุจู ุงุฒ ุขูุ ุจุงุฏ ุจุง **ุงุจุฒุงุฑูุง ฺฉู ุจูโุนููุงู ุจุฑูุงููโููุณ C# ุฏุฑ ุฏุณุชุฑุณ ุฏุงุฑู** ุขุดูุง ุดูู.

ุงุจุฒุงุฑูุง ุชุณุช ฺฉู ุฏุฑ **Visual Studio** ุจุฑุฑุณ ูโฺฉูู ุนุจุงุฑุชูุฏ ุงุฒ: **MSTestุ NUnitุ Moq ู SpecFlow**. ูุฑ ุงุจุฒุงุฑ ุชุณุชุ ฺฉ **ฺฉูุณูู ุงูพูฺฉุดู** ู ูพุฑูฺู ุชุณุช ูุฑุจูุทู ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ.

* **NUnit ู MSTest** ูุฑูโูุฑฺฉโูุง ุชุณุช ูุงุญุฏ ูุณุชูุฏ. NUnit ูุณุจุช ุจู MSTest ูุฏูโุชุฑ ุงุณุช ู **API ฺฉุงููโุชุฑ ู ุจุงูุบโุชุฑ** ุฏุงุฑุฏ. ุดุฎุตุงู **NUnit ุฑุง ุชุฑุฌุญ ูโุฏูู**.
* **Moq** ุจุง MSTest ู NUnit ูุชูุงูุช ุงุณุชุ ุฒุฑุง ฺฉ ูุฑูโูุฑฺฉ ุชุณุช ูุณุชุ ุจูฺฉู ฺฉ **ูุฑูโูุฑฺฉ Mocking** ุงุณุช. ูุฑูโูุฑฺฉ Mocking ฺฉูุงุณโูุง ูุงูุน ูพุฑูฺู ุดูุง ุฑุง ุจุง ูพุงุฏูโุณุงุฒโูุง ุฌุนู (Fake) ุฌุงฺฏุฒู ูโฺฉูุฏ ุชุง ุจุฑุง ุงูุฏุงู ุชุณุช ุงุณุชูุงุฏู ุดูุฏ. ูโุชูุงู Moq ุฑุง ููุฑุงู ุจุง MSTest ุง NUnit ุงุณุชูุงุฏู ฺฉุฑุฏ.
* **SpecFlow** ฺฉ ูุฑูโูุฑฺฉ **BDD** ุงุณุช. ุงุจุชุฏุง ฺฉ **Feature** ุฏุฑ ูุงู Feature ูโููุณุฏ ุจุง ุฒุจุงู ฺฉู ูู ฺฉุงุฑุจุฑ ู ูู ุจุฑูุงููโููุณ ูู ูุชูุฌู ูโุดููุฏ. ุณูพุณ ฺฉ **Step File** ุจุฑุง ุขู Feature ุชููุฏ ูโุดูุฏ ฺฉู ุดุงูู ูุชุฏูุง ุจูโุตูุฑุช ฺฏุงูโูุง ูุงุฒู ุจุฑุง ูพุงุฏูโุณุงุฒ Feature ุงุณุช.

ุชุง ูพุงุงู ุงู ูุตูุ ุดูุง ุฎูุงูุฏ ุฏุงูุณุช ูุฑ ุงุจุฒุงุฑ ฺู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏ ู ูุงุฏุฑ ุฎูุงูุฏ ุจูุฏ ุงุฒ ุขูโูุง ุฏุฑ ูพุฑูฺูโูุง ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ. ูพุณ ุจุงุฏ ุจุง **MSTest** ุดุฑูุน ฺฉูู. ๐

---

### **MSTest ๐งช**

ุฏุฑ ุงู ุจุฎุดุ **ูุฑูโูุฑฺฉ MSTest ุฑุง ูุตุจ ู ูพฺฉุฑุจูุฏ** ุฎูุงูู ฺฉุฑุฏ. ฺฉ **ฺฉูุงุณ ุชุณุช** ุจุง **ูุชุฏูุง ุชุณุช** ุฎูุงูู ููุดุช ู ุขู ุฑุง ููุฏุงุฑุฏู ุงููู (Initialize) ูโฺฉูู. ููฺูู **Assembly Setup ู Cleanupุ Class Cleanupุ Method Cleanup** ู **Assertions** ุฑุง ุงูุฌุงู ูโุฏูู.

ุจุฑุง ูุตุจ **MSTest Framework** ุงุฒ **ุฎุท ูุฑูุงู (Command Line)** ุฏุฑ Visual Studioุ ุงุจุชุฏุง ุจุงุฏ **Package Manager Console** ุฑุง ุงุฒ ูุณุฑ ุฒุฑ ุจุงุฒ ฺฉูุฏ:

**Tools | NuGet Package Manager | Package Manager Console** ๐ป

<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-2.jpeg)
  
</div>

ุณูพุณุ ุณู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง **ูุฑูโูุฑฺฉ MSTest ูุตุจ ุดูุฏ**:

```powershell
install-package mstest.testframework
install-package mstest.testadapter
install-package microsoft.net.tests.sdk
```

---

ุจูโุทูุฑ ุฌุงฺฏุฒูุ ูโุชูุงูุฏ ฺฉ ูพุฑูฺู ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ ู ฺฏุฒูู **Unit Test Project (.NET Framework)** ุฑุง ุงุฒ ูุณุฑ **Context | Add** ุฏุฑ **Solution Explorer** ุงูุชุฎุงุจ ฺฉูุฏ. ๐ฅ๏ธ

ุฏุฑ ูุงูโฺฏุฐุงุฑ ูพุฑูฺูโูุง ุชุณุชุ ุงุณุชุงูุฏุงุฑุฏ ูพุฐุฑูุชูโุดุฏู ุจู ุดฺฉู ุฒุฑ ุงุณุช:

```
<ProjectName>.Tests
```

ุงู ุงุณุชุงูุฏุงุฑุฏ ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูพุฑูฺูโูุง ุชุณุช **ุจูโุฑุงุญุช ุจุง ูพุฑูฺู ุงุตู ูุฑุชุจุท ุดููุฏ** ู ุขูโูุง ุฑุง ุงุฒ ูพุฑูฺูโุง ฺฉู ุชุญุช ุชุณุช ูุฑุงุฑ ุฏุงุฑุฏุ ูุชูุงุฒ ฺฉูุฏ. ๐งฉโ
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-3.jpeg)
  
</div>

### **ฺฉุฏ ูพุดโูุฑุถ ุชุณุช ูุงุญุฏ ุฏุฑ MSTest ๐งช**

ฺฉุฏ ฺฉู ุฏุฑ ุงุฏุงูู ูโุจูุฏุ **ฺฉุฏ ูพุดโูุฑุถ ุชุณุช ูุงุญุฏ** ุงุณุช ฺฉู ููุช ฺฉ **ูพุฑูฺู MSTest** ุจู **Solution** ุงุถุงูู ูโฺฉูุฏุ ุชููุฏ ูโุดูุฏ. ููุงูโุทูุฑ ฺฉู ูุดุงูุฏู ูโฺฉูุฏุ ุงู ฺฉูุงุณ **Namespace** ุฒุฑ ุฑุง ูุงุฑุฏ ูโฺฉูุฏ:

```csharp
using Microsoft.VisualStudio.TestTools.UnitTesting;
```

* **\[TestClass]** ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงู ฺฉูุงุณ ฺฉ **ฺฉูุงุณ ุชุณุช** ุจุฑุง **MS Test Framework** ุงุณุช.
* **\[TestMethod]** ูุดุฎุต ูโฺฉูุฏ ฺฉู ูุชุฏ ฺฉ **ูุชุฏ ุชุณุช** ุงุณุช. ุชูุงู ฺฉูุงุณโูุง ฺฉู ุงู ูฺฺฏ ุฑุง ุฏุงุฑูุฏุ ุฏุฑ **Test Explorer** ุธุงูุฑ ูโุดููุฏ.

> ูฺฺฏโูุง **\[TestClass] ู \[TestMethod] ุงุฌุจุงุฑ ูุณุชูุฏ**.

ููููู ฺฉุฏ ูพุดโูุฑุถ:

```csharp
namespace CH05_MSTestUnitTesting.Tests
{
    [TestClass]
    public class UnitTest1
    {
        [TestMethod]
        public void TestMethod1()
        {
        }
    }
}
```

---

### **ูฺฺฏโูุง ู ูุชุฏูุง ุงุฎุชุงุฑ ุจุฑุง workflow ฺฉุงูู ุชุณุช**

ุนูุงูู ุจุฑ ููุงุฑุฏ ุจุงูุงุ ูโุชูุงู ูฺฺฏโูุง ุงุฎุชุงุฑ ุฒุฑ ุฑุง ูุฒ ุชุฑฺฉุจ ฺฉุฑุฏ:

* `[AssemblyInitialize]`
* `[AssemblyCleanup]`
* `[ClassInitialize]`
* `[ClassCleanup]`
* `[TestInitialize]`
* `[TestCleanup]`

> ููุงูโุทูุฑ ฺฉู ุงุฒ ูุงู ุขูโูุง ูพุฏุงุณุชุ ูฺฺฏโูุง **Initialize** ุจุฑุง ุงูุฌุงู ููุฏุงุฑุฏู ุงููู ุฏุฑ ุณุทุญ **Assemblyุ Class ู Method** ูุจู ุงุฒ ุงุฌุฑุง ุชุณุชโูุง ุงุณุชูุงุฏู ูโุดููุฏ. ูฺฺฏโูุง **Cleanup** ูุฒ ุจุนุฏ ุงุฒ ุงุฌุฑุง ุชุณุชโูุง ุจุฑุง ุงูุฌุงู ุนููุงุช ูพุงฺฉโุณุงุฒ ููุฑุฏ ูุงุฒ ุงุฌุฑุง ูโุดููุฏ.

---

### **ูุชุฏ ฺฉูฺฉ ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฎุฑูุฌ ุชุณุชโูุง**

```csharp
private static void WriteSeparatorLine()
{
    Debug.WriteLine("--------------------------------------------------");
}
```

---

### **ูุซุงูโูุง Initialize ู Cleanup**

#### **AssemblyInitialize**

```csharp
[AssemblyInitialize]
public static void AssemblyInit(TestContext context)
{
    WriteSeparatorLine();
    Debug.WriteLine("Optional: AssemblyInitialize");
    Debug.WriteLine("Executes once before the test run.");
}
```

#### **ClassInitialize**

```csharp
[ClassInitialize]
public static void TestFixtureSetup(TestContext context)
{
    WriteSeparatorLine();
    Console.WriteLine("Optional: ClassInitialize");
    Console.WriteLine("Executes once for the test class.");
}
```

#### **TestInitialize**

```csharp
[TestInitialize]
public void Setup()
{
    WriteSeparatorLine();
    Debug.WriteLine("Optional: TestInitialize");
    Debug.WriteLine("Runs before each test.");
}
```

#### **AssemblyCleanup**

```csharp
[AssemblyCleanup]
public static void AssemblyCleanup()
{
    WriteSeparatorLine();
    Debug.WriteLine("Optional: AssemblyCleanup");
    Debug.WriteLine("Executes once after the test run.");
}
```

#### **ClassCleanup**

```csharp
[ClassCleanup]
public static void TestFixtureTearDown()
{
    WriteSeparatorLine();
    Debug.WriteLine("Optional: ClassCleanup");
    Debug.WriteLine("Runs once after all tests in the class have been executed.");
    Debug.WriteLine("Not guaranteed that it executes instantly after all tests the class have executed.");
}
```

#### **TestCleanup**

```csharp
[TestCleanup]
public void TearDown()
{
    WriteSeparatorLine();
    Debug.WriteLine("Optional: TestCleanup");
    Debug.WriteLine("Runs after each test.");
    Assert.Fail();
}
```

---

ูพุณ ุงุฒ ูุฑุงุฑ ุฏุงุฏู ุงู ฺฉุฏุ **Solution** ุฑุง Build ฺฉูุฏ. ุณูพุณ ุงุฒ ููู **Test** ฺฏุฒูู **Test Explorer** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ุฏุฑ **Test Explorer** ูโุชูุงูุฏ ุชุณุชโูุง ุฑุง ูุดุงูุฏู ฺฉูุฏุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ูุดุงู ุฏุงุฏู ุดุฏูุ ูููุฒ ูฺ ุชุณุช ุงุฌุฑุง ูุดุฏู ุงุณุช. โ

<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-4.jpeg)
  
</div>

ูพุณ ุจุงุฏ ุชููุง ุชุณุช ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉูู. ๐ฌ

ูุง ูู! ุชุณุช ูุง **Fail ุดุฏ**ุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ุฒุฑ ูุดุงูุฏู ูโฺฉูุฏ: โ

ุงู ููุงู ูุฑุญููโุง ุงุณุช ฺฉู **ฺุฑุฎู TDD** ุขุบุงุฒ ูโุดูุฏ: ุงุจุชุฏุง ุชุณุชโูุง Fail ูโุดููุฏุ ุณูพุณ ฺฉุฏ ฺฉุงู ููุดุชู ูโุดูุฏ ุชุง ุชุณุชโูุง **Pass** ุดููุฏุ ู ุฏุฑ ููุงุช ฺฉุฏ **Refactor** ูโุดูุฏ. ๐
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-5.jpeg)
  
</div>

ฺฉุฏ **TestMethod1()** ุฑุง ุจู ุดฺฉู ุฒุฑ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ ู ุณูพุณ ุชุณุช ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ:

```csharp
[TestMethod]
public void TestMethod1()
{
    WriteSeparatorLine();
    Debug.WriteLine("Required: TestMethod");
    Debug.WriteLine("A test method to be run by the test runner.");
    Debug.WriteLine("This method will appear in the test list.");
    Assert.IsTrue(true);
}
```

ูพุณ ุงุฒ ุงู ุชุบุฑุ ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู **ุชุณุช ุฏุฑ Test Explorer ุจุง ููููุช Pass ุดุฏ** โุ ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ุจุนุฏ ููุงุด ุฏุงุฏู ุดุฏู ุงุณุช.

ุงู ูุดุงูโุฏููุฏู ูุฑุญูู ุฏูู ฺุฑุฎู **TDD** ุงุณุช: ููุดุชู ฺฉุฏ ฺฉู ุชุณุชโูุง ุฑุง ูพุงุณ ูโฺฉูุฏ. ๐
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-6.jpeg)
  
</div>

ูพุณุ ููุงูโุทูุฑ ฺฉู ุงุฒ **ุชุตุงูุฑ ูุจู** ูุดุงูุฏู ูโฺฉูุฏ:

* **ุชุณุชโูุง ฺฉู ุงุฌุฑุง ูุดุฏูโุงูุฏ** ุขุจ ูุณุชูุฏ ๐ต
* **ุชุณุชโูุง ฺฉู Fail ุดุฏูโุงูุฏ** ูุฑูุฒ ูุณุชูุฏ ๐ด
* **ุชุณุชโูุง ฺฉู Pass ุดุฏูโุงูุฏ** ุณุจุฒ ูุณุชูุฏ โ

ุจุฑุง ูุดุงูุฏู ุฌุฒุฆุงุช ุจุดุชุฑุ ูุณุฑ ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:
**Tools | Options | Debugging | General** ู ฺฏุฒูู **Redirect all Output Window text to the Immediate Window** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.
ุณูพุณ ุจู ูุณุฑ **Run | Debug All Tests** ุจุฑูุฏ.

ููฺฏุงู ฺฉู ุชุณุชโูุง ุงุฌุฑุง ูโุดููุฏ ู ุฎุฑูุฌ ุฏุฑ **Immediate Window** ฺุงูพ ูโุดูุฏุ ุจูโูุถูุญ ูโุชูุงูุฏ **ุชุฑุชุจ ุงุฌุฑุง Attributeูุง** ุฑุง ูุดุงูุฏู ฺฉูุฏ.
ุชุตูุฑ ุฒุฑ ุฎุฑูุฌ ูุชุฏูุง ุชุณุช ูุง ุฑุง ูุดุงู ูโุฏูุฏุ ฺฉู ุชุฑุชุจ ู ุนููฺฉุฑุฏ ูุฑ Attribute ูุดุฎุต ุงุณุช. ๐ฅ๏ธ๐งช
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-7.jpeg)
  
</div>

ููุงูโุทูุฑ ฺฉู ุชุงฺฉููู ูุดุงูุฏู ฺฉุฑุฏูโุงุฏุ ูุง ุงุฒ ุฏู ูุชุฏ **Assert** ุงุณุชูุงุฏู ฺฉุฑุฏูโุงู:

* `Assert.Fail()`
* `Assert.IsTrue(true)` โ

ฺฉูุงุณ **Assert** ุจุณุงุฑ ฺฉุงุฑุจุฑุฏ ุงุณุช ู ุจูุงุจุฑุงู ุขุดูุง ุจุง **ูุชุฏูุง ููุฌูุฏ ุฏุฑ ุงู ฺฉูุงุณ ุจุฑุง ุชุณุช ูุงุญุฏ** ุจุณุงุฑ ููุฏ ุงุณุช.

ูุชุฏูุง ูุงุจู ุงุณุชูุงุฏู ุฏุฑ ฺฉูุงุณ Assert ุจู ุดุฑุญ ุฒุฑ ูุณุชูุฏ: ๐

(ุฏุฑ ุงุฏุงูู ูุตูุ ูุฑ ฺฉ ุงุฒ ุงู ูุชุฏูุง ุจุง ุชูุถุญ ฺฉุงุฑุจุฑุฏ ู ูุซุงู ุงุฑุงุฆู ูโุดููุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ุขูโูุง ุฏุฑ **Unit Testing** ุงุณุชูุงุฏู ฺฉูุฏ.)
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-8.jpeg)
  
</div>

ุญุงูุง ฺฉู ุจุง **MSTest** ุขุดูุง ุดุฏูุ ุฒูุงู ุขู ุฑุณุฏู ฺฉู **NUnit** ุฑุง ุจุฑุฑุณ ฺฉูู. ๐งช

---

### **NUnit**

ุงฺฏุฑ **NUnit** ุจุฑุง Visual Studio ูุตุจ ูุดุฏู ุงุณุชุ ุขู ุฑุง ุงุฒ ูุณุฑ ุฒุฑ ุฏุงูููุฏ ู ูุตุจ ฺฉูุฏ:
**Extensions | Manage Extensions**

ุณูพุณ ฺฉ **NUnit Test Project (.NET Core)** ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ.

ฺฉุฏ ุฒุฑ ฺฉูุงุณ ูพุดโูุฑุถ ุงุณุช ฺฉู NUnit ุงุฌุงุฏ ูโฺฉูุฏุ ุจู ูุงู **Tests**:

```csharp
public class Tests
{
    [SetUp]
    public void Setup()
    {
    }

    [Test]
    public void Test1()
    {
        Assert.Pass();
    }
}
```

---

ููุงูโุทูุฑ ฺฉู ุฏุฑ ูุชุฏ **Test1** ูุดุงูุฏู ูโฺฉูุฏุ ูุชุฏูุง ุชุณุช ูุฒ ุงุฒ ฺฉูุงุณ **Assert** ุงุณุชูุงุฏู ูโฺฉููุฏุ ุฏุฑุณุช ูุงููุฏ **MSTest** ุจุฑุง ุจุฑุฑุณ Assertions ุฏุฑ ฺฉุฏ.

ฺฉูุงุณ **Assert ุฏุฑ NUnit** ูุชุฏูุง ูุฎุชูู ุฑุง ุฏุฑ ุงุฎุชุงุฑ ูุง ูุฑุงุฑ ูโุฏูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุชุฏูุง ฺฉู ุจุง **\[NUnit]** ูุดุฎุต ุดุฏูโุงูุฏุ ุงุฎุชุตุงุต **NUnit** ูุณุชูุฏ ู ุณุงุฑ ูุชุฏูุง ุฏุฑ **MSTest** ูุฒ ููุฌูุฏูุฏ. ๐๏ธ
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-9.jpeg)
  
</div>

### **ฺุฑุฎู ุญุงุช NUnit ๐**

ฺุฑุฎู ุญุงุช **NUnit** ุจู ุดฺฉู ุฒุฑ ุงุณุช:

1. **TestFixtureSetup** ูุจู ุงุฒ ุงุฌุฑุง ุงููู **SetUp** ุงุฌุฑุง ูโุดูุฏ (ฺฉ ุจุงุฑ).
2. **SetUp** ูุจู ุงุฒ ูุฑ ุชุณุช ุงุฌุฑุง ูโุดูุฏ.
3. ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุฑ ุชุณุชุ **TearDown** ุงุฌุฑุง ูโุดูุฏ.
4. ุฏุฑ ููุงุชุ **TestFixtureTearDown** ุจุนุฏ ุงุฒ ุขุฎุฑู **TearDown** ุงุฌุฑุง ูโุดูุฏ (ฺฉ ุจุงุฑ).

ุญุงูุง ฺฉูุงุณ **Tests** ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ุจุชูุงูู ฺุฑุฎู ุญุงุช NUnit ุฑุง ุฏุฑ ุนูู ูุดุงูุฏู ฺฉูู:

```csharp
using System;
using System.Diagnostics;
using NUnit.Framework;

namespace CH06_NUnitUnitTesting.Tests
{
    [TestFixture]
    public class Tests : IDisposable
    {
        public TestClass()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Constructor");
        }

        public void Dispose()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Dispose");
        }

        private static void WriteSeparatorLine()
        {
            Debug.WriteLine("--------------------------------------------------");
        }

        [OneTimeSetUp]
        public void OneTimeSetup()
        {
            WriteSeparatorLine();
            Debug.WriteLine("OneTimeSetUp");
            Debug.WriteLine("This method is run once before any tests in this class are run.");
        }

        [OneTimeTearDown]
        public void OneTimeTearDown()
        {
            WriteSeparatorLine();
            Debug.WriteLine("OneTimeTearDown");
            Debug.WriteLine("This method is run once after all tests in this class have been run.");
            Debug.WriteLine("This method runs even when an exception occurs.");
        }

        [SetUp]
        public void Setup()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Setup");
            Debug.WriteLine("This method is run before each test method is run.");
        }

        [TearDown]
        public void Teardown()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Teardown");
            Debug.WriteLine("This method is run after each test method has been run.");
            Debug.WriteLine("This method runs even when an exception occurs.");
        }

        [Test]
        [Order(0)]
        public void Test1()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Test:Test1");
            Debug.WriteLine("Order: 0");
            Assert.Pass("Test 1 passed with flying colours.");
        }

        [Test]
        [Order(1)]
        public void Test2()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Test:Test2");
            Debug.WriteLine("Order: 1");
            Assert.Inconclusive("Test 2 is inconclusive.");
        }

        [Test]
        [Order(2)]
        public void Test3()
        {
            WriteSeparatorLine();
            Debug.WriteLine("Test:Test3");
            Debug.WriteLine("Order: 2");
            Assert.Fail("Test 3 failed dismally.");
        }
    }
}
```

---

* ูุง **\[TestFixture]** ุฑุง ุจู ฺฉูุงุณ ุงุถุงูู ฺฉุฑุฏูโุงู ู ุฑุงุจุท **IDisposable** ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏูโุงู.
* ูุชุฏ **WriteSeparatorLine()** ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฎุฑูุฌ ุฏุจุงฺฏ ุงุณุชูุงุฏู ูโุดูุฏ.
* **\[OneTimeSetUp]** ููุท ฺฉ ุจุงุฑ ูุจู ุงุฒ ุชูุงู ุชุณุชโูุง ุงุฌุฑุง ูโุดูุฏ.
* **\[OneTimeTearDown]** ุจุนุฏ ุงุฒ ุงุฌุฑุง ููู ุชุณุชโูุง ู ูุจู ุงุฒ Dispose ุดุฏู ฺฉูุงุณ ุงุฌุฑุง ูโุดูุฏ.
* **\[SetUp]** ูุจู ุงุฒ ูุฑ ุชุณุช ู **\[TearDown]** ุจุนุฏ ุงุฒ ูุฑ ุชุณุช ุงุฌุฑุง ูโุดููุฏ.

---

### ุชุฑุชุจ ุงุฌุฑุง ุชุณุชโูุง ุจุง ูฺฺฏ \[Order]

* **Test1**: \[Order(0)] โ Pass โ
* **Test2**: \[Order(1)] โ Inconclusive โ๏ธ
* **Test3**: \[Order(2)] โ Fail โ

---

ููุช ุชูุงู ุชุณุชโูุง ุฑุง ุฏุจุงฺฏ ูโฺฉูุฏุ ุฎุฑูุฌ **Immediate Window** ุชุฑุชุจ ุงุฌุฑุง ูุชุฏูุง ู ฺุฑุฎู ุญุงุช NUnit ุฑุง ูุดุงู ุฎูุงูุฏ ุฏุงุฏ. ๐ฅ๏ธ๐
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-10.jpeg)
  
</div>

ุงฺฉููู ุดูุง ุจุง **MSTest** ู **NUnit** ุขุดูุง ุดุฏูโุงุฏ ู ฺุฑุฎู ุญุงุช ุชุณุช ูุฑ ูุฑูโูุฑฺฉ ุฑุง ุฏุฑ ุนูู ุฏุฏูโุงุฏ. ๐งช
ุญุงูุง ุฒูุงู ุขู ุฑุณุฏู ฺฉู ุจู **Moq** ูฺฏุงู ุจูุฏุงุฒู. ๐

ููุงูโุทูุฑ ฺฉู ุงุฒ ุฌุฏูู ูุชุฏูุง **NUnit** ุฏุฑ ููุงุณู ุจุง ุฌุฏูู ูุชุฏูุง **MSTest** ูุดุงูุฏู ูโฺฉูุฏุ **NUnit** ุงูฺฉุงู ุชุณุช ูุงุญุฏ ุฏููโุชุฑ ู ุจุง ุนููฺฉุฑุฏ ุจูุชุฑ ูุณุจุช ุจู MSTest ุฑุง ูุฑุงูู ูโฺฉูุฏุ ุจู ููู ุฏูู ุจุดุชุฑ ุงุฒ MSTest ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ. โก

---

### **Moq**

ฺฉ **Unit Test** ุจุงุฏ ููุท **ูุชุฏ ุชุญุช ุชุณุช** ุฑุง ุจุฑุฑุณ ฺฉูุฏ.
ุจู ูููุฏุงุฑ ุฒุฑ ุชูุฌู ฺฉูุฏ: ๐

ุงฺฏุฑ ูุชุฏ ุชุญุช ุชุณุชุ ูุชุฏูุง ุฏฺฏุฑ ุฑุง ุตุฏุง ุจุฒูุฏโฺู ุฏุฑ ููุงู ฺฉูุงุณ ู ฺู ุฏุฑ ฺฉูุงุณโูุง ุฏฺฏุฑโุฏุฑ ุงู ุตูุฑุช **ูู ุชููุง ูุชุฏ ุชุญุช ุชุณุชุ ุจูฺฉู ูุชุฏูุง ุฏฺฏุฑ ูุฒ ููุฑุฏ ุชุณุช ูุฑุงุฑ ูโฺฏุฑูุฏ**.

ุงู ููุงู ุฌุง ุงุณุช ฺฉู **Moq** ูุงุฑุฏ ุนูู ูโุดูุฏ ู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ **ูุชุฏูุง ูุงุจุณุชู ุฑุง ุจู ุตูุฑุช ุดุจูโุณุงุฒโุดุฏู (Mock) ุฌุงฺฏุฒู ฺฉูุฏ** ุชุง ููุท ูุชุฏ ุงุตู ุชุญุช ุชุณุช ุจุงู ุจูุงูุฏ. ๐ฏ
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-11.jpeg)
  
</div>

### **Moq โ ุงุณุชูุงุฏู ุงุฒ ุงุดุงุก ุดุจูโุณุงุฒโุดุฏู (Mock Objects) ๐๏ธ**

ฺฉ ุงุฒ ุฑุงูโูุง ุญู ูุดฺฉู ุชุณุช ูุชุฏูุง ฺฉู ุจู ูุชุฏูุง ุฏฺฏุฑ ูุงุจุณุชูโุงูุฏุ ุงุณุชูุงุฏู ุงุฒ **ุงุดุงุก ุดุจูโุณุงุฒโุดุฏู (mock/fake objects)** ุงุณุช. ๐ฏ

* ฺฉ **mock object** ููุท **ูุชุฏ ุฑุง ฺฉู ูโุฎูุงูุฏ ุชุณุช ฺฉูุฏ** ุจุฑุฑุณ ูโฺฉูุฏ.
* ุดูุง ูโุชูุงูุฏ ุฑูุชุงุฑ mock ุฑุง ุจู ูุฑ ูุญู ฺฉู ูโุฎูุงูุฏ ุชูุธู ฺฉูุฏ.
* ุงฺฏุฑ ุฎูุฏุชุงู ุจุฎูุงูุฏ mock ุจุณุงุฒุฏุ ุฎู ุฒูุฏ ูุชูุฌู ูโุดูุฏ ฺฉู ฺฉุงุฑ ุณุฎุช ู ุฒูุงูโุจุฑ ุงุณุชุ ูุฎุตูุตุงู ุฏุฑ ูพุฑูฺูโูุง ุญุณุงุณ ุจู ุฒูุงู ู ููุช ฺฉุฏ ูพฺุฏู ูโุดูุฏุ ุณุงุฎุช mock ูพฺุฏูโุชุฑ ุฎูุงูุฏ ุดุฏ.

ุจู ููู ุฏูู ูุนูููุงู ุงุฒ **ูุฑูโูุฑฺฉโูุง Mock** ุงุณุชูุงุฏู ูโฺฉูู. ุฏู ููููู ูุนุฑูู ุจุฑุง **.NET Framework** ุนุจุงุฑุชโุงูุฏ ุงุฒ **Rhino Mocks** ู **Moq**. โ
ุฏุฑ ุงู ูุตูุ ููุท ุจุง **Moq** ฺฉุงุฑ ูโฺฉูู ฺูู ูุณุจุช ุจู Rhino Mocks ุณุงุฏูโุชุฑ ุงุณุช. ๐

---

### ุฑููุฏ ุชุณุช ุจุง Moq

1. ุงุจุชุฏุง **mock object** ุฑุง ุงุฌุงุฏ ูโฺฉูู.
2. ุฑูุชุงุฑ ุขู ุฑุง ูพฺฉุฑุจูุฏ ูโฺฉูู.
3. ุจุฑุฑุณ ูโฺฉูู ฺฉู ูพฺฉุฑุจูุฏ ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ ู mock ูุฑุงุฎูุงู ุดุฏู ุงุณุช.

> ูฺฉุชู: **Moq ููุท ุงุดุงุก ุดุจูโุณุงุฒโุดุฏู ุชููุฏ ูโฺฉูุฏ ู ุฎูุฏุด ฺฉุฏ ุฑุง ุชุณุช ููโฺฉูุฏ**. ูููุฒ ุจู ฺฉ **ูุฑูโูุฑฺฉ ุชุณุช** ูุงููุฏ **NUnit** ูุงุฒ ุฏุงุฑุฏ. ๐งช

---

### ูุซุงู ุนูู: ุชุฑฺฉุจ Moq ู NUnit

1. ฺฉ **Console Application** ุฌุฏุฏ ุงุฌุงุฏ ฺฉุฑุฏู ู ูุงู ุขู ุฑุง `CH06_Moq` ุจฺฏุฐุงุฑุฏ.
2. ุงูุชุฑูุณ ู ฺฉูุงุณโูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ: **IFoo, Bar, Baz, UnitTests**.
3. ุงุฒ **NuGet Package Manager**ุ ุจุณุชูโูุง **Moq, NUnit, NUnit3TestAdapter** ุฑุง ูุตุจ ฺฉูุฏ.

#### ฺฉูุงุณ Bar

```csharp
namespace CH06_Moq
{
    public class Bar
    {
        public virtual Baz Baz { get; set; }
        public virtual bool Submit() { return false; }
    }
}
```

* Bar ุดุงูู ฺฉ **property ูุฌุงุฒ ุงุฒ ููุน Baz** ู ฺฉ **ูุชุฏ ูุฌุงุฒ Submit()** ุงุณุช ฺฉู ููุฏุงุฑ `false` ุจุฑูโฺฏุฑุฏุงูุฏ.

#### ฺฉูุงุณ Baz

```csharp
namespace CH06_Moq
{
    public class Baz
    {
        public virtual string Name { get; set; }
    }
}
```

* Baz ููุท ฺฉ property ูุฌุงุฒ ุงุฒ ููุน **string** ุฏุงุฑุฏ ุจู ูุงู **Name**.

#### ุงูุชุฑูุณ IFoo

```csharp
namespace CH06_Moq
{
    public interface IFoo
    {
        Bar Bar { get; set; }
        string Name { get; set; }
        int Value { get; set; }
        bool DoSomething(string value);
        bool DoSomething(int number, string value);
        string DoSomethingStringy(string value);
        bool TryParse(string value, out string outputValue);
        bool Submit(ref Bar bar);
        int GetCount();
        bool Add(int value);
    }
}
```

* ุงู ุงูุชุฑูุณ ุดุงูู ฺูุฏู property ู ูุชุฏ ุงุณุช ู ุงุฑุฌุงุน ุจู ฺฉูุงุณ **Bar** ุฏุงุฑุฏุ ฺฉู ุฎูุฏ Bar ูู ุงุฑุฌุงุน ุจู Baz ุฏุงุฑุฏ.

---

### ฺฉูุงุณ UnitTests ุจุฑุง NUnit ู Moq

```csharp
using Moq;
using NUnit.Framework;
using System;

namespace CH06_Moq
{
    [TestFixture]
    public class UnitTests
    {
    }
}
```

---

### ูุชุฏ AssertThrows

```csharp
public bool AssertThrows<TException>(
    Action action,
    Func<TException, bool> exceptionCondition = null
) where TException : Exception
{
    try
    {
        action();
    }
    catch (TException ex)
    {
        if (exceptionCondition != null)
            return exceptionCondition(ex);
        return true;
    }
    catch
    {
        return false;
    }
    return false;
}
```

* ุงู ูุชุฏ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู **ุขุง Exception ูุดุฎุต ุดุฏู ูพุฑุชุงุจ ุดุฏู ุงุณุช ุง ูู**. โ

---

### ูุซุงูโูุง ุนูู ุจุง Moq

#### ูุชุฏ DoSomethingReturnsTrue

```csharp
[Test]
public void DoSomethingReturnsTrue()
{
    var mock = new Mock<IFoo>();
    mock.Setup(foo => foo.DoSomething("ping")).Returns(true);
    Assert.IsTrue(mock.Object.DoSomething("ping"));
}
```

* ุงุฌุงุฏ ฺฉ mock ุงุฒ IFoo
* ุชูุธู ูุชุฏ DoSomething ุจุฑุง ููุฏุงุฑ "ping" ฺฉู **true** ุจุฑฺฏุฑุฏุงูุฏ
* ุจุฑุฑุณ ุงูฺฉู ุฎุฑูุฌ ูุงูุนุงู **true** ุงุณุช โ

#### ูุชุฏ DoSomethingReturnsFalse

```csharp
[Test]
public void DoSomethingReturnsFalse()
{
    var mock = new Mock<IFoo>();
    mock.Setup(foo => foo.DoSomething("tracert")).Returns(false);
    Assert.IsFalse(mock.Object.DoSomething("tracert"));
}
```

* ูุดุงุจู ูุซุงู ูุจูุ ูู ุจุฑุง ููุฏุงุฑ "tracert" ุฎุฑูุฌ **false** ุจุฑูโฺฏุฑุฏุฏ โ

#### ูุชุฏ OutArguments

```csharp
[Test]
public void OutArguments()
{
    var mock = new Mock<IFoo>();
    var outString = "ack";
    mock.Setup(foo => foo.TryParse("ping", out outString)).Returns(true);
    Assert.AreEqual("ack", outString);
    Assert.IsTrue(mock.Object.TryParse("ping", out outString));
}
```

* ุชุณุช ุฎุฑูุฌ ุงุฒ ููุน **out parameter** ู ุจุฑุฑุณ ููุฏุงุฑ ุขู

#### ูุชุฏ RefArguments

```csharp
[Test]
public void RefArguments()
{
    var instance = new Bar();
    var mock = new Mock<IFoo>();
    mock.Setup(foo => foo.Submit(ref instance)).Returns(true);
    Assert.AreEqual(true, mock.Object.Submit(ref instance));
}
```

* ุชุณุช ูุฑูุฏ ุงุฒ ููุน **ref** ู ุจุฑุฑุณ ููุฏุงุฑ ุจุฑฺฏุดุช

#### ูุชุฏ AccessInvocationArguments

```csharp
[Test]
public void AccessInvocationArguments()
{
    var mock = new Mock<IFoo>();
    mock.Setup(foo => foo.DoSomethingStringy(It.IsAny<string>()))
        .Returns((string s) => s.ToLower());
    Assert.AreEqual("i like oranges!", mock.Object.DoSomethingStringy("I LIKE ORANGES!"));
}
```

* ุชุณุช ูุชุฏ ฺฉู ุฑุดุชู ูุฑูุฏ ุฑุง ุจู **ุญุฑูู ฺฉูฺฺฉ** ุชุจุฏู ูโฺฉูุฏ ๐ค

#### ูุชุฏ ThrowingWhenInvokedWithSpecificParameters

```csharp
[Test]
public void ThrowingWhenInvokedWithSpecificParameters()
{
    var mock = new Mock<IFoo>();
    mock.Setup(foo => foo.DoSomething("reset")).Throws<InvalidOperationException>();
    mock.Setup(foo => foo.DoSomething("")).Throws(new ArgumentException("command"));
    Assert.IsTrue(
        AssertThrows<InvalidOperationException>(() => mock.Object.DoSomething("reset"))
    );
    Assert.IsTrue(
        AssertThrows<ArgumentException>(() => mock.Object.DoSomething(""))
    );
    Assert.Throws(
        Is.TypeOf<ArgumentException>()
          .And.Message.EqualTo("command"),
          () => mock.Object.DoSomething("")
    );
}
```

* ุชูุธู ุฑูุชุงุฑ ุจุฑุง ูพุฑุชุงุจ **Exception** ุจุฑ ุงุณุงุณ ูพุงุฑุงูุชุฑ ูุฑูุฏ โ๏ธ

---

โ ุชุง ุงูุฌุง ุดูุง ุฏุฏุฏ ฺฉู ฺฺฏููู ุงุฒ **Moq** ุจุฑุง ุณุงุฎุช **mock objects** ู ุชุณุช ฺฉุฏ ุจุง **NUnit** ุงุณุชูุงุฏู ูโฺฉูู.

ูุฑูโูุฑฺฉ ุจุนุฏ ฺฉู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ **SpecFlow** ุงุณุช ฺฉู ฺฉ ุงุจุฒุงุฑ **BDD** ูโุจุงุดุฏ. ๐งฉ

### **SpecFlow โ ุชุณุช ุฑูุชุงุฑ ฺฉุงุฑุจุฑูุญูุฑ (BDD) ๐งฉ**

**SpecFlow** ุจุฑุง ูพุงุฏูโุณุงุฒ **BDD (Behavior Driven Development)** ุงุณุชูุงุฏู ูโุดูุฏุ ุฑูุด ุจุฑุง ุชูุณุนู ูุฑูโุงูุฒุงุฑ ฺฉู ุงุฒ **TDD (Test Driven Development)** ุชฺฉุงูู ุงูุชู ุงุณุช. โ

* ุฏุฑ BDDุ **ุชุณุชโูุง ูุจู ุงุฒ ููุดุชู ฺฉุฏ** ุจุฑ ุงุณุงุณ ุฑูุชุงุฑ ฺฉุงุฑุจุฑ ุทุฑุงุญ ูโุดููุฏ.
* ฺฉุงุฑ ุจุง **ูุณุช ูฺฺฏโูุง (Features)** ุดุฑูุน ูโุดูุฏุ ุงู ูฺฺฏโูุง ุจู ุฒุจุงู ุฑุณู ู ฺฉุณุจโูฺฉุงุฑ ููุดุชู ูโุดููุฏ ุชุง **ุชูุงู ุฐโููุนุงู ูพุฑูฺู** ุจุชูุงููุฏ ุขูโูุง ุฑุง ุฏุฑฺฉ ฺฉููุฏ. ๐
* ูพุณ ุงุฒ ุชุฃุฏ ู ุชููุฏ ูฺฺฏโูุงุ ุชูุณุนูโุฏููุฏฺฏุงู **Step Definitions** ุฑุง ุจุฑุง ูุฑ ูฺฺฏ ุงุฌุงุฏ ูโฺฉููุฏ.
* ุณูพุณ ฺฉ ูพุฑูฺู ุฎุงุฑุฌ ุจุฑุง ูพุงุฏูโุณุงุฒ ูฺฺฏ ุณุงุฎุชู ู ุจู ูพุฑูฺู ุงุตู ุงุฑุฌุงุน ุฏุงุฏู ูโุดูุฏ.
* Step Definitions ุจุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฏ ูุงูุน ูฺฺฏ ุชูุณุนู ุฏุงุฏู ูโุดููุฏ.

๐ก **ูุฒุช ุงู ุฑูฺฉุฑุฏ:**
ุจู ุนููุงู ุจุฑูุงููโููุณุ ูุทูุฆู ูุณุชุฏ ฺฉู ุฏููุงู ุขูฺู **ฺฉุณุจโูฺฉุงุฑ ุฎูุงุณุชู** ุฑุง ุงุฑุงุฆู ูโุฏูุฏุ ูู ฺุฒ ฺฉู ูฺฉุฑ ูโฺฉูุฏ ุฎูุงุณุชู ุดุฏู ุงุณุช. ุงู ุฑูุด ูโุชูุงูุฏ **ูุฒููโูุง ู ุฒูุงู ุฒุงุฏ ุฑุง ุตุฑููโุฌู ฺฉูุฏ**. ุชุฌุฑุจู ูุดุงู ุฏุงุฏู ฺฉู ุจุณุงุฑ ุงุฒ ูพุฑูฺูโูุง ุจู ุฏูู **ุนุฏู ูุถูุญ ุฎูุงุณุชูโูุง ุจู ุชูโูุง ฺฉุณุจโูฺฉุงุฑ ู ุจุฑูุงููโููุณ** ุดฺฉุณุช ุฎูุฑุฏูโุงูุฏ.

---

### ูุซุงู ุนูู: ูพุงุฏูโุณุงุฒ ฺฉ ูุงุดูโุญุณุงุจ ุณุงุฏู ๐งฎ

1. ฺฉ **Class Library ุฌุฏุฏ** ุจุณุงุฒุฏ ู ุจุณุชูโูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:

   * NUnit
   * NUnit3TestAdapter
   * SpecFlow
   * SpecRun.SpecFlow
   * SpecFlow\.NUnit

2. ฺฉ **SpecFlow Feature File** ุฌุฏุฏ ุจุง ูุงู `Calculator` ุจุณุงุฒุฏ:

```gherkin
Feature: Calculator
  In order to avoid silly mistakes
  As a math idiot
  I want to be told the sum of two numbers

  @mytag
  Scenario: Add two numbers
    Given I have entered 50 into the calculator
    And I have entered 70 into the calculator
    When I press add
    Then the result should be 120 on the screen
```

* ูุชู ุจุงูุง ุจู ุตูุฑุช **ุฎูุฏฺฉุงุฑ** ุฏุฑ ูุงู `Calculator.feature` ุงุถุงูู ูโุดูุฏ ู **ููุทู ุดุฑูุน ุงุฏฺฏุฑ BDD ุจุง SpecFlow** ุงุณุช.

๐ก ูฺฉุชู:
SpecFlow ู SpecMap ุงฺฉููู ุชูุณุท **Tricentis** ุฎุฑุฏุงุฑ ุดุฏูโุงูุฏ ู **ููฺูุงู ุฑุงฺฏุงู** ุฎูุงููุฏ ุจูุฏุ ุจูุงุจุฑุงู ุฒูุงู ุฎูุจ ุจุฑุง ุงุฏฺฏุฑ ู ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุงุณุช.

---

### ุงุฌุงุฏ Step Definitions

* ูพุณ ุงุฒ ุฏุงุดุชู ูุงู Featureุ ุจุงุฏ **Step Definitions** ุงุฌุงุฏ ฺฉูุฏ ุชุง ุฏุฑุฎูุงุณุชโูุง ูฺฺฏ ุจู ฺฉุฏ ุดูุง ูุชุตู ุดููุฏ.
* ุฑู ูุงู Feature **ุฑุงุณุชโฺฉูฺฉ** ฺฉูุฏ ู ุงุฒ ููู ุฒููู ฺฏุฒูู **Generate Step Definitions** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.
* ฺฉ ูพูุฌุฑู ุฏุงููฺฏ ุจุฑุง ุงุฌุงุฏ Step Definitions ุธุงูุฑ ูโุดูุฏ ฺฉู ูุฑุงุญู ุจุนุฏ ุขููุฒุด BDD ุฑุง ุดุฑูุน ูโฺฉูุฏ.

<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-12.jpeg)
  
</div>

### **ุงุฌุงุฏ ฺฉูุงุณ Step Definitions โ CalculatorSteps ๐๏ธ**

1. **ูุงู ฺฉูุงุณ** ุฑุง `CalculatorSteps` ูุงุฑุฏ ฺฉูุฏ.
2. ุฑู **Generate** ฺฉูฺฉ ฺฉูุฏ ุชุง Step Definitions ุงุฌุงุฏ ุดูุฏ ู ูุงู ุฐุฎุฑู ฺฏุฑุฏุฏ.
3. ูุงู `CalculatorSteps.cs` ุฑุง ุจุงุฒ ฺฉูุฏ. ูุญุชูุง ุขู ุจู ุดฺฉู ุฒุฑ ุฎูุงูุฏ ุจูุฏ:

```csharp
using TechTalk.SpecFlow;

namespace CH06_SpecFlow
{
    [Binding]
    public class CalculatorSteps
    {
        [Given(@"I have entered (.*) into the calculator")]
        public void GivenIHaveEnteredIntoTheCalculator(int p0)
        {
            ScenarioContext.Current.Pending();
        }

        [When(@"I press add")]
        public void WhenIPressAdd()
        {
            ScenarioContext.Current.Pending();
        }

        [Then(@"the result should be (.*) on the screen")]
        public void ThenTheResultShouldBeOnTheScreen(int p0)
        {
            ScenarioContext.Current.Pending();
        }
    }
}
```

* ููุงูโุทูุฑ ฺฉู ูโุจูุฏุ **Step Definitions** ุงุฌุงุฏ ุดุฏู ุจุง **ุนุจุงุฑุงุช Feature File** ูุทุงุจูุช ุฏุงุฑุฏ.
* ูุชุฏูุง `[Given]`ุ `[When]` ู `[Then]` ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ุดุฏูโุงูุฏ ู ุฏุฑ ุญุงู ุญุงุถุฑ **ุฏุฑ ุญุงูุช Pending** ูุณุชูุฏ ุชุง ุจุนุฏุงู ฺฉุฏ ูุงูุน ุจุฑุง ุขููุง ููุดุชู ุดูุฏ. โก

๐ก ูฺฉุชู: ุงู ูุทุงุจูุช ุจู Feature ู Steps ุชุถูู ูโฺฉูุฏ ฺฉู ุชุณุชโูุง ุฑูุชุงุฑ ุฏููุงู ููุงู ฺุฒ ุฑุง ุจุฑุฑุณ ฺฉููุฏ ฺฉู ุฏุฑ Feature File ูุดุฎุต ุดุฏู ุงุณุช.
<div align="center">
  
  ![Conventions-UsedThis-Book](../../../assets/image/06/Table%206-13.jpeg)
  
</div>

### **ูพุงุฏูโุณุงุฒ Feature ุฏุฑ ูุงู ุฌุฏุงฺฏุงูู โ CH06\_SpecFlow\.Implementation ๐**

1. ฺฉ **Class Library ุฌุฏุฏ** ุงุฌุงุฏ ฺฉูุฏ ู ูุงู ุขู ุฑุง `CH06_SpecFlow.Implementation` ุจฺฏุฐุงุฑุฏ.
2. ุฏุฑ ุขู ฺฉ ูุงู ุฌุฏุฏ ุจู ูุงู `Calculator.cs` ุงุถุงูู ฺฉูุฏ.
3. ุจู ูพุฑูฺู SpecFlow ฺฉ **Reference** ุจู ุงู ฺฉุชุงุจุฎุงูู ุงุถุงูู ฺฉูุฏ.
4. ุฏุฑ ุจุงูุง ูุงู `CalculatorSteps.cs` ุงู ุฎุท ุฑุง ุงุถุงูู ฺฉูุฏ:

```csharp
private Calculator _calculator = new Calculator();
```

---

### **ฺฏุณุชุฑุด Step Definitions ุจุฑุง ุงุฌุฑุง ฺฉุฏ ุจุฑูุงูู**

#### 1๏ธโฃ ุงูุฒูุฏู Properties ุฏุฑ ฺฉูุงุณ Calculator

ุฏุฑ ุจุงูุง ฺฉูุงุณ Calculator ุฏู **Property ุนููู** ุงุถุงูู ฺฉูุฏ:

```csharp
public int FirstNumber { get; set; }
public int SecondNumber { get; set; }
```

#### 2๏ธโฃ ุจูโุฑูุฒุฑุณุงู ูุชุฏ `[Given]`

ุฏุฑ ฺฉูุงุณ `CalculatorSteps`ุ ูุชุฏ `GivenIHaveEnteredIntoTheCalculator()` ุฑุง ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ุฏูุฏ:

```csharp
[Given(@"I have entered (.*) into the calculator")]
public void GivenIHaveEnteredIntoTheCalculator(int number)
{
    _calculator.FirstNumber = number;
}
```

#### 3๏ธโฃ ุงูุฒูุฏู ูุชุฏ ุฏูู `[Given]`

ุงฺฏุฑ ูุชุฏ `GivenIHaveAlsoEnteredIntoTheCalculator()` ููุฌูุฏ ูุณุชุ ุงุถุงูู ฺฉูุฏ:

```csharp
public void GivenIHaveAlsoEnteredIntoTheCalculator(int number)
{
    _calculator.SecondNumber = number;
}
```

---

### **ุงูุฒูุฏู ูุชุบุฑ ูุชุฌู ู ูุชุฏ Add()**

1. ุฏุฑ ุจุงูุง ฺฉูุงุณ `CalculatorSteps` ู ูุจู ุงุฒ ูุฑ Stepุ ูุชุบุฑ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:

```csharp
private int _result;
```

2. ุฏุฑ ฺฉูุงุณ `Calculator`ุ ูุชุฏ `Add()` ุฑุง ุงุถุงูู ฺฉูุฏ:

```csharp
public int Add()
{
    return FirstNumber + SecondNumber;
}
```

---

### **ุจูโุฑูุฒุฑุณุงู ูุชุฏ `[When]`**

ุฏุฑ ฺฉูุงุณ `CalculatorSteps` ูุชุฏ `WhenIPressAdd()` ุฑุง ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ุฏูุฏ:

```csharp
[When(@"I press add")]
public void WhenIPressAdd()
{
    _result = _calculator.Add();
}
```

---

### **ุจูโุฑูุฒุฑุณุงู ูุชุฏ `[Then]`**

ุฏุฑ ฺฉูุงุณ `CalculatorSteps` ูุชุฏ `ThenTheResultShouldBeOnTheScreen()` ุฑุง ุชุบุฑ ุฏูุฏ:

```csharp
[Then(@"the result should be (.*) on the screen")]
public void ThenTheResultShouldBeOnTheScreen(int expectedResult)
{
    Assert.AreEqual(expectedResult, _result);
}
```

---

โ **ุชุณุช ู ุงุฌุฑุง ูพุฑูฺู**

* ูพุฑูฺู ุฑุง **Build** ฺฉูุฏ ู ุชุณุชโูุง ุฑุง ุงุฌุฑุง ฺฉูุฏ.
* ุฎูุงูุฏ ุฏุฏ ฺฉู **ุชูุงู ุชุณุชโูุง ุจุง ููููุช ฺฏุฐุฑุงูุฏู ุดุฏูุฏ**.
* ููุท ฺฉุฏ ููุดุชู ุดุฏู ฺฉู ุจุฑุง ูพุงุณ ุดุฏู Feature ูุงุฒู ุจูุฏ.

---

๐ก **ููุงุจุน ุจุดุชุฑ:** ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู SpecFlow ุจู [SpecFlow Documentation](https://specflow.org/docs/) ูุฑุงุฌุนู ฺฉูุฏ.

ุฏุฑ ุงุฏุงููุ ูพุณ ุงุฒ ูุนุฑู ุงุจุฒุงุฑูุงุ ููุจุช ุจู **ููููู ุณุงุฏูโุง ุงุฒ TDD** ูโุฑุณุฏ:

* ุงุจุชุฏุง ฺฉุฏ ูโููุณู ฺฉู **Fail** ูโุดูุฏ.
* ุณูพุณ ููุท ุจูโุงูุฏุงุฒู ูุงุฒู ุจุฑุง **Compile ุดุฏู ุชุณุช** ฺฉุฏ ูโููุณู.
* ุฏุฑ ููุงุชุ ฺฉุฏ ุฑุง **Refactor** ูโฺฉูู. โก

### **ุชูุฑู ุฑูุดโุดูุงุณ TDD โ Fail, Pass ู Refactor โก**

ุฏุฑ ุงู ุจุฎุดุ ุดูุง ุฎูุงูุฏ ุขููุฎุช ฺฉู ฺฺฏููู ุชุณุชโูุง ุจููุณุฏ ฺฉู ุงุจุชุฏุง **Fail** ุดููุฏ. ุณูพุณ ุชููุง ุจูโุงูุฏุงุฒู ูุงุฒู ฺฉุฏ ูโููุณู ุชุง ุชุณุช **Pass** ุดูุฏ ู ุฏุฑ ููุงุชุ ุฏุฑ ุตูุฑุช ูุงุฒุ **Refactor** ุงูุฌุงู ูโุฏูู ุชุง ฺฉุฏ ุชูุฒุชุฑ ู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุดูุฏ.

---

### **ฺุฑุง ุจู TDD ูุงุฒ ุฏุงุฑูุ ๐ค**

ุฏุฑ ุจุฎุด ูุจูุ ุฏุฏุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ **Feature Files** ู **Step Files** ฺฉุฏ ููุดุช ฺฉู ูุงุฒ ฺฉุณุจโูฺฉุงุฑ ุฑุง ุจุฑุขูุฑุฏู ฺฉูุฏ. ุงูุง ฺฉ ุฑูุด ุฏฺฏุฑ ุจุฑุง ุชุถูู ุงูฺฉู ฺฉุฏ ุดูุง **ูุทุงุจู ุจุง ูุงุฒูุง ฺฉุณุจโูฺฉุงุฑ** ุจุงุดุฏุ ุงุณุชูุงุฏู ุงุฒ **TDD** ุงุณุช.

* ุฏุฑ TDD ุงุจุชุฏุง ฺฉ ุชุณุช ูโููุณุฏ ฺฉู **Fail** ุดูุฏ.
* ุณูพุณ ุชููุง ฺฉุฏ ูุงุฒู ุจุฑุง **Pass** ฺฉุฑุฏู ุชุณุช ุฑุง ูโููุณุฏ.
* ุฏุฑ ููุงุชุ ุฏุฑ ุตูุฑุช ูุงุฒุ ฺฉุฏ ุฑุง Refactor ูโฺฉูุฏ.

ุงู ฺุฑุฎู ุชุง ุฒูุงู ฺฉู **ุชูุงู Features** ฺฉุฏููุณ ุดููุฏุ ุชฺฉุฑุงุฑ ูโุดูุฏ.

---

### **ููุด TDD ุฏุฑ ูุฑูโุงูุฒุงุฑูุง ุญุงุช ๐ผ**

ุจุฑุฎ ูุฑูโุงูุฒุงุฑูุง ููโุชูุงููุฏ ุฏุงุฑุง ุจุงฺฏ ุจุงุดูุฏุ ูุงููุฏ:

* ุณุณุชูโูุง ูุงู ๐ฐ ฺฉู ุณุฑูุงูโูุง ุฎุตูุต ู ุชุฌุงุฑ ุฑุง ูุฏุฑุช ูโฺฉููุฏ.
* ุชุฌูุฒุงุช ูพุฒุดฺฉ โ๏ธุ ุดุงูู ุฏุณุชฺฏุงูโูุง ุญุงุช ู ุงุณฺฉูุ ฺฉู ูุฑูโุงูุฒุงุฑ ุตุญุญ ุจุฑุง ุนููฺฉุฑุฏ ูุงุฒู ุฏุงุฑูุฏ.
* ูุฑูโุงูุฒุงุฑูุง ูุฏุฑุช ุชุฑุงูฺฉ ู ูุงูุจุฑ ๐ฆ.
* ุณุณุชูโูุง ูุถุง ๐ ู ุณุณุชูโูุง ุชุณูุญุงุช ๐ก๏ธ.

ุฏุฑ ฺูู ูพุฑูฺูโูุงุ TDD ุชุถูู ูโฺฉูุฏ ฺฉู ฺฉุฏ **ูุทูุฆู ู ูุงุจู ุงุทููุงู** ููุดุชู ุดูุฏ.

---

### **ูุฑุงุญู TDD ๐๏ธ**

1. ฺฉ **ูพุฑูฺู ุฌุฏุฏ** ุงุฌุงุฏ ฺฉูุฏ (`CH06_FailPassRefactor`).
2. ฺฉ ฺฉูุงุณ ุจู ูุงู `UnitTests` ุจุณุงุฒุฏ ู **Pseudocode** ุฒุฑ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ:

```csharp
using NUnit.Framework;

namespace CH06_FailPassRefactor
{
    [TestFixture]
    public class UnitTests
    {
        // The PseudoCode.
        // [1] Call a method to log an exception.
        // [2] Build up the text to log including all inner exceptions.
        // [3] Write the text to a file with a timestamp.
    }
}
```

---

### **ููุดุชู ุงููู ุชุณุช โ Fail Test**

```csharp
[Test]
public void LogException()
{
    var logger = new Logger();
    var logFileName = logger.Log(new ArgumentException("Argument cannot be null"));
    Assert.Pass();
}
```

> ุงู ุชุณุช ุงุฌุฑุง ููโุดูุฏ ุฒุฑุง ฺฉูุงุณ **Logger** ูุฌูุฏ ูุฏุงุฑุฏ.

1. ฺฉ ฺฉูุงุณ ุฏุงุฎู ุจู ูุงู `Logger` ุจุณุงุฒุฏ.
2. ุณูพุณ ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ. ููฺูุงู Fail ุฎูุงูุฏ ุดุฏ ุฒุฑุง ูุชุฏ `Log()` ูุฌูุฏ ูุฏุงุฑุฏ.
3. ูุชุฏ `Log()` ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ุชุณุช Pass ุดูุฏ.

---

### **ุงุฌุงุฏ Exception ุจุง Inner Exception**

```csharp
private Exception GetException()
{
    return new Exception(
        "Exception: Main exception.",
        new Exception(
            "Exception: Inner Exception.",
            new Exception("Exception: Inner Exception Inner Exception")
        )
    );
}
```

---

### **ุชุณุช ูุฌูุฏ ูุงู ูุงฺฏ**

```csharp
[Test]
public void CheckFileExists()
{
    var logger = new Logger();
    var logFile = logger.Log(GetException());
    FileAssert.Exists(logFile);
}
```

> ุฏุฑ ุงุจุชุฏุง ุงู ุชุณุช Fail ุฎูุงูุฏ ุดุฏ.

* ุฏุฑ ฺฉูุงุณ `Logger` ฺฉ **StringBuilder ุฎุตูุต** ุงุถุงูู ฺฉูุฏ:

```csharp
private StringBuilder _stringBuilder;
```

* ูุชุฏ `Log()` ู ูุชุฏ `SaveLog()` ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ูุงู ูุงฺฏ ุงุฌุงุฏ ุดูุฏ:

```csharp
public string Log(Exception ex)
{
    _stringBuilder = new StringBuilder();
    return SaveLog();
}

private string SaveLog()
{
    var fileName = $"LogFile{DateTime.UtcNow.GetHashCode()}.txt";
    var dir = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);
    var file = $"{dir}\\{fileName}";
    return file;
}
```

---

### **ุชุณุช ูพุงู Exception ุดุงูู Inner Exception**

```csharp
[Test]
public void ContainsMessage()
{
    var logger = new Logger();
    var logFile = logger.Log(GetException());
    var msg = File.ReadAllText(logFile);
    Assert.IsTrue(msg.Contains("Exception: Inner Exception Inner Exception"));
}
```

* ุงฺฉููู ุจุงุฏ ูุชุฏ ุจุณุงุฒู ฺฉู ูพุงู Exception ู Inner Exceptionโูุง ุฑุง ุจุณุงุฒุฏ:

```csharp
private void BuildExceptionMessage(Exception ex, bool isInnerException)
{
    if (isInnerException)
        _stringBuilder.Append("Inner Exception: ").AppendLine(ex.Message);
    else
        _stringBuilder.Append("Exception: ").AppendLine(ex.Message);

    if (ex.InnerException != null)
        BuildExceptionMessage(ex.InnerException, true);
}
```

* ูุชุฏ `Log()` ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:

```csharp
public string Log(Exception ex)
{
    _stringBuilder = new StringBuilder();
    _stringBuilder.AppendLine("--------------------------------------------------------------");
    BuildExceptionMessage(ex, false);
    _stringBuilder.AppendLine("--------------------------------------------------------------");
    return SaveLog();
}
```

---

### **Refactor ฺฉุฏ ุจุง ฺฉูุงุณ Text ๐งน**

* ฺฉูุงุณ ุฌุฏุฏ `Text` ุจุณุงุฒุฏ ู ูพุงู Exception ู Inner Exceptionโูุง ุฑุง ูุฏุฑุช ฺฉูุฏ:

```csharp
public class Text
{
    private StringBuilder _stringBuilder = new StringBuilder();

    public string ExceptionMessage => _stringBuilder.ToString();

    public void BuildExceptionMessage(Exception ex, bool isInnerException)
    {
        if (isInnerException)
            _stringBuilder.Append("Inner Exception: ").AppendLine(ex.Message);
        else
        {
            _stringBuilder.AppendLine("--------------------------------------------------------------");
            _stringBuilder.Append("Exception: ").AppendLine(ex.Message);
        }

        if (ex.InnerException != null)
            BuildExceptionMessage(ex.InnerException, true);
        else
            _stringBuilder.AppendLine("--------------------------------------------------------------");
    }

    public string GetHashedTextFileName(string name, SpecialFolder folder)
    {
        var fileName = $"{name}-{DateTime.UtcNow.GetHashCode()}.txt";
        var dir = Environment.GetFolderPath(folder);
        return $"{dir}\\{fileName}";
    }
}
```

* ฺฉูุงุณ `Logger` ุฑุง ุจู ุดฺฉู ุฒุฑ ุจุงุฒููุณ ฺฉูุฏ:

```csharp
private Text _text;

public string Log(Exception ex)
{
    BuildMessage(ex);
    return SaveLog();
}

private void BuildMessage(Exception ex)
{
    _text = new Text();
    _text.BuildExceptionMessage(ex, false);
}

private string SaveLog()
{
    var filename = _text.GetHashedTextFileName("Log", Environment.SpecialFolder.MyDocuments);
    File.WriteAllText(filename, _text.ExceptionMessage);
    return filename;
}
```

โ **ูุชุฌู:**
ุชูุงู ุชุณุชโูุง ุงฺฉููู ูพุงุณ ูุณุชูุฏ ู ฺฉุฏ ุชูุฒุชุฑุ ุฎูุงูุงุชุฑ ู ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ ุงุณุช.

---

ุฏุฑ ุจุฎุด ุจุนุฏุ ูฺฏุงู ฺฉูุชุงู ุจู **ุชุณุชโูุง ุชฺฉุฑุงุฑ (Redundant Tests)** ุฎูุงูู ุฏุงุดุช. ๐

### **ุญุฐู ุชุณุชโูุง ุชฺฉุฑุงุฑุ ฺฉุงููุชโูุง ู ฺฉุฏ ูุฑุฏู ๐๏ธ**

ููุงูโุทูุฑ ฺฉู ุฏุฑ ฺฉุชุงุจ ุงุดุงุฑู ุดุฏุ ูุฏู ูุง ููุดุชู **ฺฉุฏ ุชูุฒ** ุงุณุช. ุจุง ุฑุดุฏ ุจุฑูุงููโูุง ู ุชุณุชโูุง ู ุงูุฌุงู Refactorุ ุจุฑุฎ ุงุฒ ฺฉุฏูุง ููฺฉู ุงุณุช **ุชฺฉุฑุงุฑ ุง ุจูุงุงุณุชูุงุฏู** ุดููุฏ.

* **ฺฉุฏ ูุฑุฏู (Dead Code)** ุจู ูุฑ ฺฉุฏ ฺฏูุชู ูโุดูุฏ ฺฉู ุชฺฉุฑุงุฑ ุงุณุช ู ูฺโฺฏุงู ุงุฌุฑุง ููโุดูุฏ.
* ฺฉุฏ ูุฑุฏู ุจุงุฏ ุจูุงูุงุตูู ุญุฐู ุดูุฏุ ุฒุฑุง ูุฑฺูุฏ ุฏุฑ ฺฉุฏ ููุง ุงุฌุฑุง ููโุดูุฏุ ุงูุง ููฺูุงู ุจุฎุด ุงุฒ **ฺฉุฏุจุณ** ุงุณุช ฺฉู ุจุงุฏ ูฺฏูุฏุงุฑ ุดูุฏ.
* ูุงูโูุง ฺฉู ฺฉุฏ ูุฑุฏู ุฏุงุฑูุฏ ุทููุงูโุชุฑ ู ุฎูุงูุฏู ุขูโูุง ุณุฎุชโุชุฑ ุงุณุช. ุงู ููุถูุน ูโุชูุงูุฏ ุจุงุนุซ **ฺฏุฌ ุจุฑูุงููโููุณ** ู ุงุชูุงู ููุช ุดูุฏุ ูุฎุตูุตุงู ุจุฑุง ฺฉุณุงู ฺฉู ุชุงุฒู ุจู ูพุฑูฺู ูุงุฑุฏ ุดุฏูโุงูุฏ.

---

### **ฺฉุงููุชโูุง ๐ฌ**

* ฺฉุงููุชโูุง ุฏุฑ ุตูุฑุช ููุฏ ูุณุชูุฏ ฺฉู **ุจู ุฏุฑุณุช** ููุดุชู ุดููุฏุ ุจูโูฺู ุจุฑุง **ูุณุชูุฏุณุงุฒ API**.
* ุจุฑุฎ ฺฉุงููุชโูุง ููุท **ุตุฏุง ุงุถุงู** ุจู ูุงู ุงุถุงูู ูโฺฉููุฏ ู ูโุชูุงููุฏ ุจุฑูุงููโููุณ ุฑุง ุขุฒุงุฑ ุฏููุฏ.
* ุฏุฏฺฏุงูโูุง ุฏุฑุจุงุฑู ฺฉุงููุชโูุง ูุชูุงูุช ุงุณุช:

  1. ฺฏุฑูู ููู ฺุฒ ุฑุง ฺฉุงููุช ูโฺฉููุฏ.
  2. ฺฏุฑูู ูฺ ฺฉุงููุช ููโฺฏุฐุงุฑูุฏุ ุฒุฑุง ูุนุชูุฏูุฏ ฺฉุฏ ุจุงุฏ **ูุงููุฏ ฺฉ ฺฉุชุงุจ ุฎูุงูุฏู ุดูุฏ**.
  3. ฺฏุฑูู ูุชุนุงุฏู ุนูู ูโฺฉููุฏ ู ููุท ุฒูุงู ฺฉุงููุช ูโฺฏุฐุงุฑูุฏ ฺฉู ุจุฑุง ุฏุฑฺฉ ฺฉุฏ ุถุฑูุฑ ุจุงุดุฏ.

> ุงฺฏุฑ ุจุง ฺฉุงููุชโูุง ูุงููุฏ:
> `"This generates a random bug every so often. Don't know why. But you're welcome to fix it!"`
> ููุงุฌู ุดุฏุฏุ ุจุงุฏ **ูุดุฏุงุฑ ุฏูุฏ**. ุจุฑูุงููโููุณ ุจุงุฏ ุชุง ุงูุชู ู ุฑูุน ุจุงฺฏุ ฺฉุฏ ุฑุง ุชุฑฺฉ ูฺฉูุฏ.

* ุงฺฏุฑ ุจููฺฉโูุง ฺฉุงููุชโุดุฏูโุง ุงุฒ ฺฉุฏ ูุดุงูุฏู ฺฉุฑุฏุฏ ฺฉู **ุชุงุฏ ุดุฏูโุงูุฏ**ุ ุขูโูุง ุฑุง ุญุฐู ฺฉูุฏ. ูุณุฎู ฺฉูุชุฑู (Version Control) ุงูฺฉุงู ุจุงุฒุงุจ ุขูโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.

---

### **ุฎูุงูุง ฺฉุฏ ๐**

* ฺฉุฏ ุจุงุฏ **ูุงููุฏ ฺฉ ฺฉุชุงุจ ุฎูุงูุฏู ุดูุฏ**.
* ุงุฒ ููุดุชู ฺฉุฏ **ูุฑููุฒ ุง ูพฺุฏู ููุท ุจุฑุง ุฌูุจ ุชูุฌู** ุฎูุฏุฏุงุฑ ฺฉูุฏ.
* ุจุงุฒฺฏุดุช ุจู ฺฉุฏ ุฎูุฏุชุงู ูพุณ ุงุฒ ฺูุฏ ููุชู ููฺฉู ุงุณุช ุจุงุนุซ ุณุฑุฏุฑฺฏู ุดูุฏ ุงฺฏุฑ ฺฉุฏ ูพฺุฏู ุจุงุดุฏ.

---

### **ุชุณุชโูุง ุชฺฉุฑุงุฑ ๐**

* ุชุณุชโูุง ุชฺฉุฑุงุฑ ุจุงุฏ ุญุฐู ุดููุฏ.
* ููุท ุชุณุชโูุง ุงุฌุฑุง ุดููุฏ ฺฉู **ุถุฑูุฑ ูุณุชูุฏ**.
* ุชุณุชโูุง ฺฉุฏ ุชฺฉุฑุงุฑ **ูฺ ุงุฑุฒุด ูุฏุงุฑูุฏ** ู ูโุชูุงููุฏ ุฒูุงู ุฒุงุฏ ุฑุง ูุฏุฑ ุฏููุฏ.
* ุฏุฑ ูุญุทโูุง CI/CD ฺฉู ุชุณุชโูุง ุฏุฑ **ฺฉููุฏ** ุงุฌุฑุง ูโุดููุฏุ ุชุณุชโูุง ุงุถุงู ู ฺฉุฏ ูุฑุฏู **ูุฒููโูุง ุนููุงุช** ุงุฌุงุฏ ูโฺฉููุฏ.

> ูุฑฺู ุฎุทูุท ฺฉุฏ ฺฉูุชุฑ ุขูพููุฏุ ุจูุฏ ู ุชุณุช ุดููุฏุ ูุฒูู ฺฉูุชุฑ ุจุฑุง ุดุฑฺฉุช ุฎูุงูุฏ ุฏุงุดุช.

---

### **ุฎูุงุตู ูุตู โ**

1. ุงููุช ููุดุชู **Unit Test** ุจุฑุง ุชููุฏ ฺฉุฏ ุจุง ฺฉูุช ุจุฑุฑุณ ุดุฏ.

2. ูุดฺฉูุงุช ูุธุฑ ูุงุด ุงุฒ ุจุงฺฏโูุง ู ุชุฃุซุฑุงุช ุขูโูุง ูุงููุฏ ุฎุณุงุฑุชโูุง ูุงู ู ุญุช ุฎุทุฑุงุช ุฌุงู ุจุงู ุดุฏ.

3. ูฺฺฏโูุง ฺฉ **Unit Test ุฎูุจ**:

   * Atomic
   * Deterministic
   * Repeatable
   * Fast

4. ุงุจุฒุงุฑูุง TDD ู BDD ุจุฑุฑุณ ุดุฏ:

   * MSTest ู NUnit
   * Moq ุจุฑุง ุชุณุช **Mock Objects**
   * SpecFlow ุจุฑุง ููุดุชู Featureโูุง ุจู ุฒุจุงู ฺฉุณุจโูฺฉุงุฑ

5. ูุซุงู ุนูู TDD ุจุง ุฑูุด **Fail, Pass, Refactor** ุงุฑุงุฆู ุดุฏ.

6. ุถุฑูุฑุช ุญุฐู **ฺฉุงููุชโูุง ุงุถุงูุ ุชุณุชโูุง ุชฺฉุฑุงุฑ ู ฺฉุฏ ูุฑุฏู** ุชูุถุญ ุฏุงุฏู ุดุฏ.

---

### **ุณุคุงูุงุช ุจุฑุง ูุฑูุฑ ๐**

1. ฺฉ Unit Test ุฎูุจ ฺู ูฺฺฏโูุง ุฏุงุฑุฏุ
2. ฺฉ Unit Test ุฎูุจ ฺู ฺุฒ ูุจุงุฏ ุจุงุดุฏุ
3. TDD ูุฎูู ฺุณุชุ
4. BDD ูุฎูู ฺุณุชุ
5. Unit Test ฺุณุชุ
6. Mock Object ฺุณุชุ
7. Fake Object ฺุณุชุ
8. ฺูุฏ ูุฑููุฑฺฉ Unit Testing ูุงู ุจุจุฑุฏ.
9. ฺูุฏ ูุฑููุฑฺฉ Mocking ูุงู ุจุจุฑุฏ.
10. ฺฉ ูุฑููุฑฺฉ BDD ูุงู ุจุจุฑุฏ.
11. ฺู ููุงุฑุฏ ุจุงุฏ ุงุฒ ูุงูโูุง ฺฉุฏ ุญุฐู ุดููุฏุ

---

### **ูุทุงูุนู ุจุดุชุฑ ๐**

* ูุฑูุฑ ฺฉูุชุงู ุจุฑ Unit Testingุ ุดุงูู **Integration Testing**ุ **Acceptance Testing** ู **ุดุฑุญ ูุธุงู ุชุณุชุฑ**:
  [softwaretestingfundamentals.com/unit-testing](http://softwaretestingfundamentals.com/unit-testing)

* ุตูุญู ุงุตู **Rhino Mocks**:
  [hibernatingrhinos.com/oss/rhino-mocks](http://hibernatingrhinos.com/oss/rhino-mocks)
